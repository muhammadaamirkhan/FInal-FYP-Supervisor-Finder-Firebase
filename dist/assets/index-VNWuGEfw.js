var U2=Object.defineProperty;var z2=(n,t,e)=>t in n?U2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ht=(n,t,e)=>z2(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function B2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gp={exports:{}},Nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function F2(){if(fx)return Nc;fx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Nc.Fragment=t,Nc.jsx=e,Nc.jsxs=e,Nc}var mx;function H2(){return mx||(mx=1,gp.exports=F2()),gp.exports}var x=H2(),pp={exports:{}},Nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function q2(){if(gx)return Nt;gx=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function v(F){return F===null||typeof F!="object"?null:(F=_&&F[_]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function A(F,rt,ut){this.props=F,this.context=rt,this.refs=R,this.updater=ut||E}A.prototype.isReactComponent={},A.prototype.setState=function(F,rt){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,rt,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=A.prototype;function L(F,rt,ut){this.props=F,this.context=rt,this.refs=R,this.updater=ut||E}var z=L.prototype=new D;z.constructor=L,S(z,A.prototype),z.isPureReactComponent=!0;var B=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function O(F,rt,ut,lt,pt,It){return ut=It.ref,{$$typeof:n,type:F,key:rt,ref:ut!==void 0?ut:null,props:It}}function C(F,rt){return O(F.type,rt,void 0,void 0,void 0,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function V(F){var rt={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ut){return rt[ut]})}var U=/\/+/g;function N(F,rt){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):rt.toString(36)}function P(){}function bt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(P,P):(F.status="pending",F.then(function(rt){F.status==="pending"&&(F.status="fulfilled",F.value=rt)},function(rt){F.status==="pending"&&(F.status="rejected",F.reason=rt)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function yt(F,rt,ut,lt,pt){var It=typeof F;(It==="undefined"||It==="boolean")&&(F=null);var xt=!1;if(F===null)xt=!0;else switch(It){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(F.$$typeof){case n:case t:xt=!0;break;case p:return xt=F._init,yt(xt(F._payload),rt,ut,lt,pt)}}if(xt)return pt=pt(F),xt=lt===""?"."+N(F,0):lt,B(pt)?(ut="",xt!=null&&(ut=xt.replace(U,"$&/")+"/"),yt(pt,rt,ut,"",function(_i){return _i})):pt!=null&&(k(pt)&&(pt=C(pt,ut+(pt.key==null||F&&F.key===pt.key?"":(""+pt.key).replace(U,"$&/")+"/")+xt)),rt.push(pt)),1;xt=0;var He=lt===""?".":lt+":";if(B(F))for(var re=0;re<F.length;re++)lt=F[re],It=He+N(lt,re),xt+=yt(lt,rt,ut,It,pt);else if(re=v(F),typeof re=="function")for(F=re.call(F),re=0;!(lt=F.next()).done;)lt=lt.value,It=He+N(lt,re++),xt+=yt(lt,rt,ut,It,pt);else if(It==="object"){if(typeof F.then=="function")return yt(bt(F),rt,ut,lt,pt);throw rt=String(F),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return xt}function X(F,rt,ut){if(F==null)return F;var lt=[],pt=0;return yt(F,lt,"","",function(It){return rt.call(ut,It,pt++)}),lt}function ot(F){if(F._status===-1){var rt=F._result;rt=rt(),rt.then(function(ut){(F._status===0||F._status===-1)&&(F._status=1,F._result=ut)},function(ut){(F._status===0||F._status===-1)&&(F._status=2,F._result=ut)}),F._status===-1&&(F._status=0,F._result=rt)}if(F._status===1)return F._result.default;throw F._result}var dt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function _t(){}return Nt.Children={map:X,forEach:function(F,rt,ut){X(F,function(){rt.apply(this,arguments)},ut)},count:function(F){var rt=0;return X(F,function(){rt++}),rt},toArray:function(F){return X(F,function(rt){return rt})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Nt.Component=A,Nt.Fragment=e,Nt.Profiler=s,Nt.PureComponent=L,Nt.StrictMode=i,Nt.Suspense=d,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return H.H.useMemoCache(F)}},Nt.cache=function(F){return function(){return F.apply(null,arguments)}},Nt.cloneElement=function(F,rt,ut){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var lt=S({},F.props),pt=F.key,It=void 0;if(rt!=null)for(xt in rt.ref!==void 0&&(It=void 0),rt.key!==void 0&&(pt=""+rt.key),rt)!tt.call(rt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&rt.ref===void 0||(lt[xt]=rt[xt]);var xt=arguments.length-2;if(xt===1)lt.children=ut;else if(1<xt){for(var He=Array(xt),re=0;re<xt;re++)He[re]=arguments[re+2];lt.children=He}return O(F.type,pt,void 0,void 0,It,lt)},Nt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},Nt.createElement=function(F,rt,ut){var lt,pt={},It=null;if(rt!=null)for(lt in rt.key!==void 0&&(It=""+rt.key),rt)tt.call(rt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(pt[lt]=rt[lt]);var xt=arguments.length-2;if(xt===1)pt.children=ut;else if(1<xt){for(var He=Array(xt),re=0;re<xt;re++)He[re]=arguments[re+2];pt.children=He}if(F&&F.defaultProps)for(lt in xt=F.defaultProps,xt)pt[lt]===void 0&&(pt[lt]=xt[lt]);return O(F,It,void 0,void 0,null,pt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(F){return{$$typeof:u,render:F}},Nt.isValidElement=k,Nt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ot}},Nt.memo=function(F,rt){return{$$typeof:f,type:F,compare:rt===void 0?null:rt}},Nt.startTransition=function(F){var rt=H.T,ut={};H.T=ut;try{var lt=F(),pt=H.S;pt!==null&&pt(ut,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(_t,dt)}catch(It){dt(It)}finally{H.T=rt}},Nt.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Nt.use=function(F){return H.H.use(F)},Nt.useActionState=function(F,rt,ut){return H.H.useActionState(F,rt,ut)},Nt.useCallback=function(F,rt){return H.H.useCallback(F,rt)},Nt.useContext=function(F){return H.H.useContext(F)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(F,rt){return H.H.useDeferredValue(F,rt)},Nt.useEffect=function(F,rt,ut){var lt=H.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(F,rt)},Nt.useId=function(){return H.H.useId()},Nt.useImperativeHandle=function(F,rt,ut){return H.H.useImperativeHandle(F,rt,ut)},Nt.useInsertionEffect=function(F,rt){return H.H.useInsertionEffect(F,rt)},Nt.useLayoutEffect=function(F,rt){return H.H.useLayoutEffect(F,rt)},Nt.useMemo=function(F,rt){return H.H.useMemo(F,rt)},Nt.useOptimistic=function(F,rt){return H.H.useOptimistic(F,rt)},Nt.useReducer=function(F,rt,ut){return H.H.useReducer(F,rt,ut)},Nt.useRef=function(F){return H.H.useRef(F)},Nt.useState=function(F){return H.H.useState(F)},Nt.useSyncExternalStore=function(F,rt,ut){return H.H.useSyncExternalStore(F,rt,ut)},Nt.useTransition=function(){return H.H.useTransition()},Nt.version="19.1.0",Nt}var px;function jy(){return px||(px=1,pp.exports=q2()),pp.exports}var W=jy();const IT=B2(W);var yp={exports:{}},kc={},_p={exports:{}},vp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function G2(){return yx||(yx=1,function(n){function t(X,ot){var dt=X.length;X.push(ot);t:for(;0<dt;){var _t=dt-1>>>1,F=X[_t];if(0<s(F,ot))X[_t]=ot,X[dt]=F,dt=_t;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ot=X[0],dt=X.pop();if(dt!==ot){X[0]=dt;t:for(var _t=0,F=X.length,rt=F>>>1;_t<rt;){var ut=2*(_t+1)-1,lt=X[ut],pt=ut+1,It=X[pt];if(0>s(lt,dt))pt<F&&0>s(It,lt)?(X[_t]=It,X[pt]=dt,_t=pt):(X[_t]=lt,X[ut]=dt,_t=ut);else if(pt<F&&0>s(It,dt))X[_t]=It,X[pt]=dt,_t=pt;else break t}}return ot}function s(X,ot){var dt=X.sortIndex-ot.sortIndex;return dt!==0?dt:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,_=null,v=3,E=!1,S=!1,R=!1,A=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function B(X){for(var ot=e(f);ot!==null;){if(ot.callback===null)i(f);else if(ot.startTime<=X)i(f),ot.sortIndex=ot.expirationTime,t(d,ot);else break;ot=e(f)}}function H(X){if(R=!1,B(X),!S)if(e(d)!==null)S=!0,tt||(tt=!0,N());else{var ot=e(f);ot!==null&&yt(H,ot.startTime-X)}}var tt=!1,O=-1,C=5,k=-1;function V(){return A?!0:!(n.unstable_now()-k<C)}function U(){if(A=!1,tt){var X=n.unstable_now();k=X;var ot=!0;try{t:{S=!1,R&&(R=!1,L(O),O=-1),E=!0;var dt=v;try{e:{for(B(X),_=e(d);_!==null&&!(_.expirationTime>X&&V());){var _t=_.callback;if(typeof _t=="function"){_.callback=null,v=_.priorityLevel;var F=_t(_.expirationTime<=X);if(X=n.unstable_now(),typeof F=="function"){_.callback=F,B(X),ot=!0;break e}_===e(d)&&i(d),B(X)}else i(d);_=e(d)}if(_!==null)ot=!0;else{var rt=e(f);rt!==null&&yt(H,rt.startTime-X),ot=!1}}break t}finally{_=null,v=dt,E=!1}ot=void 0}}finally{ot?N():tt=!1}}}var N;if(typeof z=="function")N=function(){z(U)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,bt=P.port2;P.port1.onmessage=U,N=function(){bt.postMessage(null)}}else N=function(){D(U,0)};function yt(X,ot){O=D(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(X){switch(v){case 1:case 2:case 3:var ot=3;break;default:ot=v}var dt=v;v=ot;try{return X()}finally{v=dt}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var dt=v;v=X;try{return ot()}finally{v=dt}},n.unstable_scheduleCallback=function(X,ot,dt){var _t=n.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?_t+dt:_t):dt=_t,X){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=dt+F,X={id:p++,callback:ot,priorityLevel:X,startTime:dt,expirationTime:F,sortIndex:-1},dt>_t?(X.sortIndex=dt,t(f,X),e(d)===null&&X===e(f)&&(R?(L(O),O=-1):R=!0,yt(H,dt-_t))):(X.sortIndex=F,t(d,X),S||E||(S=!0,tt||(tt=!0,N()))),X},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(X){var ot=v;return function(){var dt=v;v=ot;try{return X.apply(this,arguments)}finally{v=dt}}}}(vp)),vp}var _x;function Y2(){return _x||(_x=1,_p.exports=G2()),_p.exports}var bp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function $2(){if(vx)return ln;vx=1;var n=jy();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,f,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},ln.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},ln.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},ln.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ln.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,_=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):p==="script"&&i.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ln.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},ln.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,_=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ln.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},ln.requestFormReset=function(d){i.d.r(d)},ln.unstable_batchedUpdates=function(d,f){return d(f)},ln.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var bx;function W2(){if(bx)return bp.exports;bx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),bp.exports=$2(),bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function K2(){if(xx)return kc;xx=1;var n=Y2(),t=jy(),e=W2();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function l(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return u(g),r;if(y===h)return u(g),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=g,h=y;else{for(var T=!1,I=g.child;I;){if(I===c){T=!0,c=g,h=y;break}if(I===h){T=!0,h=g,c=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===c){T=!0,c=y,h=g;break}if(I===h){T=!0,h=y,c=g;break}I=I.sibling}if(!T)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function f(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=f(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function bt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case H:return"Suspense";case tt:return"SuspenseList";case k:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case z:return(r.displayName||"Context")+".Provider";case L:return(r._context.displayName||"Context")+".Consumer";case B:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:bt(r.type)||"Memo";case C:a=r._payload,r=r._init;try{return bt(r(a))}catch{}}return null}var yt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},_t=[],F=-1;function rt(r){return{current:r}}function ut(r){0>F||(r.current=_t[F],_t[F]=null,F--)}function lt(r,a){F++,_t[F]=r.current,r.current=a}var pt=rt(null),It=rt(null),xt=rt(null),He=rt(null);function re(r,a){switch(lt(xt,a),lt(It,r),lt(pt,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Bb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Bb(a),r=Fb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ut(pt),lt(pt,r)}function _i(){ut(pt),ut(It),ut(xt)}function Ps(r){r.memoizedState!==null&&lt(He,r);var a=pt.current,c=Fb(a,r.type);a!==c&&(lt(It,r),lt(pt,c))}function Yi(r){It.current===r&&(ut(pt),ut(It)),He.current===r&&(ut(He),Rc._currentValue=dt)}var Fr=Object.prototype.hasOwnProperty,Hr=n.unstable_scheduleCallback,qr=n.unstable_cancelCallback,Tl=n.unstable_shouldYield,Wu=n.unstable_requestPaint,zn=n.unstable_now,gm=n.unstable_getCurrentPriorityLevel,Sl=n.unstable_ImmediatePriority,Ja=n.unstable_UserBlockingPriority,Gr=n.unstable_NormalPriority,pm=n.unstable_LowPriority,to=n.unstable_IdlePriority,Al=n.log,Ku=n.unstable_setDisableYieldValue,_e=null,Qt=null;function Rn(r){if(typeof Al=="function"&&Ku(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(_e,r)}catch{}}var an=Math.clz32?Math.clz32:Yr,Qu=Math.log,ym=Math.LN2;function Yr(r){return r>>>=0,r===0?32:31-(Qu(r)/ym|0)|0}var $r=256,Wr=4194304;function ni(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function eo(r,a,c){var h=r.pendingLanes;if(h===0)return 0;var g=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var I=h&134217727;return I!==0?(h=I&~y,h!==0?g=ni(h):(T&=I,T!==0?g=ni(T):c||(c=I&~r,c!==0&&(g=ni(c))))):(I=h&~y,I!==0?g=ni(I):T!==0?g=ni(T):c||(c=h&~r,c!==0&&(g=ni(c)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:g}function Kr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Rl(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cl(){var r=$r;return $r<<=1,($r&4194048)===0&&($r=256),r}function Il(){var r=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),r}function $i(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function Wi(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Dl(r,a,c,h,g,y){var T=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var I=r.entanglements,j=r.expirationTimes,K=r.hiddenUpdates;for(c=T&~c;0<c;){var et=31-an(c),it=1<<et;I[et]=0,j[et]=-1;var Q=K[et];if(Q!==null)for(K[et]=null,et=0;et<Q.length;et++){var Z=Q[et];Z!==null&&(Z.lane&=-536870913)}c&=~it}h!==0&&vi(r,h,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function vi(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-an(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|c&4194090}function Ml(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var h=31-an(c),g=1<<h;g&a|r[h]&a&&(r[h]|=a),c&=~g}}function Ls(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function no(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Vs(){var r=ot.p;return r!==0?r:(r=window.event,r===void 0?32:ox(r.type))}function Xu(r,a){var c=ot.p;try{return ot.p=r,a()}finally{ot.p=c}}var he=Math.random().toString(36).slice(2),Pe="__reactFiber$"+he,Re="__reactProps$"+he,Bn="__reactContainer$"+he,Nl="__reactEvents$"+he,_m="__reactListeners$"+he,js="__reactHandles$"+he,Zu="__reactResources$"+he,Qr="__reactMarker$"+he;function Us(r){delete r[Pe],delete r[Re],delete r[Nl],delete r[_m],delete r[js]}function Ki(r){var a=r[Pe];if(a)return a;for(var c=r.parentNode;c;){if(a=c[Bn]||c[Pe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Yb(r);r!==null;){if(c=r[Pe])return c;r=Yb(r)}return a}r=c,c=r.parentNode}return null}function bi(r){if(r=r[Pe]||r[Bn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function xi(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function pn(r){var a=r[Zu];return a||(a=r[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ee(r){r[Qr]=!0}var kl=new Set,io={};function ii(r,a){Qi(r,a),Qi(r+"Capture",a)}function Qi(r,a){for(io[r]=a,r=0;r<a.length;r++)kl.add(a[r])}var Ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),th={},Xr={};function eh(r){return Fr.call(Xr,r)?!0:Fr.call(th,r)?!1:Ju.test(r)?Xr[r]=!0:(th[r]=!0,!1)}function zs(r,a,c){if(eh(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function Ei(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function Xe(r,a,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+h)}}var Zr,nh;function Xi(r){if(Zr===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Zr=a&&a[1]||"",nh=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+r+nh}var so=!1;function ro(r,a){if(!r||so)return"";so=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Z){var Q=Z}Reflect.construct(r,[],it)}else{try{it.call()}catch(Z){Q=Z}r.call(it.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(it=r())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var j=T.split(`
`),K=I.split(`
`);for(g=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(h===j.length||g===K.length)for(h=j.length-1,g=K.length-1;1<=h&&0<=g&&j[h]!==K[g];)g--;for(;1<=h&&0<=g;h--,g--)if(j[h]!==K[g]){if(h!==1||g!==1)do if(h--,g--,0>g||j[h]!==K[g]){var et=`
`+j[h].replace(" at new "," at ");return r.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",r.displayName)),et}while(1<=h&&0<=g);break}}}finally{so=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?Xi(c):""}function Ol(r){switch(r.tag){case 26:case 27:case 5:return Xi(r.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return ro(r.type,!1);case 11:return ro(r.type.render,!1);case 1:return ro(r.type,!0);case 31:return Xi("Activity");default:return""}}function ao(r){try{var a="";do a+=Ol(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function yn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Pl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vm(r){var a=Pl(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),h=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function oo(r){r._valueTracker||(r._valueTracker=vm(r))}function Ll(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return r&&(h=Pl(r)?r.checked?"true":"false":r.value),r=h,r!==c?(a.setValue(r),!0):!1}function Jr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var bm=/[\n"\\]/g;function Ce(r){return r.replace(bm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Cn(r,a,c,h,g,y,T,I){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+yn(a)):r.value!==""+yn(a)&&(r.value=""+yn(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?Bs(r,T,yn(a)):c!=null?Bs(r,T,yn(c)):h!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+yn(I):r.removeAttribute("name")}function ta(r,a,c,h,g,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+yn(c):"",a=a!=null?""+yn(a):c,I||a===r.value||(r.value=a),r.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=I?r.checked:!!h,r.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Bs(r,a,c){a==="number"&&Jr(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function Zi(r,a,c,h){if(r=r.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<r.length;c++)g=a.hasOwnProperty("$"+r[c].value),r[c].selected!==g&&(r[c].selected=g),g&&h&&(r[c].defaultSelected=!0)}else{for(c=""+yn(c),a=null,g=0;g<r.length;g++){if(r[g].value===c){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function te(r,a,c){if(a!=null&&(a=""+yn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+yn(c):""}function ea(r,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(yt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=yn(a),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h)}function Fn(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(r,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,c):typeof c!="number"||c===0||na.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function Vl(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&ih(r,g,h)}else for(var y in a)a.hasOwnProperty(y)&&ih(r,y,a[y])}function jl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Em=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(r){return Em.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ji=null;function Hn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ts=null,es=null;function Ul(r){var a=bi(r);if(a&&(r=a.stateNode)){var c=r[Re]||null;t:switch(r=a.stateNode,a.type){case"input":if(Cn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Ce(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==r&&h.form===r.form){var g=h[Re]||null;if(!g)throw Error(i(90));Cn(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===r.form&&Ll(h)}break t;case"textarea":te(r,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Zi(r,!!c.multiple,a,!1)}}}var wi=!1;function sh(r,a,c){if(wi)return r(a,c);wi=!0;try{var h=r(a);return h}finally{if(wi=!1,(ts!==null||es!==null)&&(Xh(),ts&&(a=ts,r=es,es=ts=null,Ul(a),r)))for(a=0;a<r.length;a++)Ul(r[a])}}function ia(r,a){var c=r.stateNode;if(c===null)return null;var h=c[Re]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(si)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){qn=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{qn=!1}var Ti=null,Fs=null,ns=null;function zl(){if(ns)return ns;var r,a=Fs,c=a.length,h,g="value"in Ti?Ti.value:Ti.textContent,y=g.length;for(r=0;r<c&&a[r]===g[r];r++);var T=c-r;for(h=1;h<=T&&a[c-h]===g[y-h];h++);return ns=g.slice(r,1<h?1-h:void 0)}function Si(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Ai(){return!0}function Bl(){return!1}function qe(r){function a(c,h,g,y,T){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(c=r[I],this[I]=c?c(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ai:Bl,this.isPropagationStopped=Bl,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),a}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=qe(Wt),ra=p({},Wt,{view:0,detail:0}),rh=qe(ra),uo,ho,Ri,aa=p({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ri&&(Ri&&r.type==="mousemove"?(uo=r.screenX-Ri.screenX,ho=r.screenY-Ri.screenY):ho=uo=0,Ri=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:ho}}),Gn=qe(aa),ah=p({},aa,{dataTransfer:0}),wm=qe(ah),oa=p({},ra,{relatedTarget:0}),fo=qe(oa),Fl=p({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),mo=qe(Fl),oh=p({},Wt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),go=qe(oh),Tm=p({},Wt,{data:0}),Hl=qe(Tm),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=ch[r])?!!a[r]:!1}function ca(){return ql}var uh=p({},ra,{key:function(r){if(r.key){var a=la[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Si(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?lh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(r){return r.type==="keypress"?Si(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Si(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),po=qe(uh),hh=p({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gl=qe(hh),is=p({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),dh=qe(is),fh=p({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=qe(fh),gh=p({},aa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yo=qe(gh),_n=p({},Wt,{newState:0,oldState:0}),ph=qe(_n),yh=[9,13,27,32],Ci=si&&"CompositionEvent"in window,m=null;si&&"documentMode"in document&&(m=document.documentMode);var b=si&&"TextEvent"in window&&!m,w=si&&(!Ci||m&&8<m&&11>=m),M=" ",Y=!1;function J(r,a){switch(r){case"keyup":return yh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ft=!1;function Le(r,a){switch(r){case"compositionend":return ct(a);case"keypress":return a.which!==32?null:(Y=!0,M);case"textInput":return r=a.data,r===M&&Y?null:r;default:return null}}function Ht(r,a){if(Ft)return r==="compositionend"||!Ci&&J(r,a)?(r=zl(),ns=Fs=Ti=null,Ft=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var Ge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Ge[r.type]:a==="textarea"}function ss(r,a,c,h){ts?es?es.push(h):es=[h]:ts=h,a=id(a,"onChange"),0<a.length&&(c=new co("onChange","change",null,c,h),r.push({event:c,listeners:a}))}var Ze=null,Ii=null;function Yl(r){Lb(r,0)}function _h(r){var a=xi(r);if(Ll(a))return r}function i_(r,a){if(r==="change")return a}var s_=!1;if(si){var Sm;if(si){var Am="oninput"in document;if(!Am){var r_=document.createElement("div");r_.setAttribute("oninput","return;"),Am=typeof r_.oninput=="function"}Sm=Am}else Sm=!1;s_=Sm&&(!document.documentMode||9<document.documentMode)}function a_(){Ze&&(Ze.detachEvent("onpropertychange",o_),Ii=Ze=null)}function o_(r){if(r.propertyName==="value"&&_h(Ii)){var a=[];ss(a,Ii,r,Hn(r)),sh(Yl,a)}}function gR(r,a,c){r==="focusin"?(a_(),Ze=a,Ii=c,Ze.attachEvent("onpropertychange",o_)):r==="focusout"&&a_()}function pR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _h(Ii)}function yR(r,a){if(r==="click")return _h(a)}function _R(r,a){if(r==="input"||r==="change")return _h(a)}function vR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var In=typeof Object.is=="function"?Object.is:vR;function $l(r,a){if(In(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!Fr.call(a,g)||!In(r[g],a[g]))return!1}return!0}function l_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function c_(r,a){var c=l_(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=a&&h>=a)return{node:c,offset:a-r};r=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=l_(c)}}function u_(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?u_(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function h_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Jr(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Jr(r.document)}return a}function Rm(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var bR=si&&"documentMode"in document&&11>=document.documentMode,_o=null,Cm=null,Wl=null,Im=!1;function d_(r,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Im||_o==null||_o!==Jr(h)||(h=_o,"selectionStart"in h&&Rm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wl&&$l(Wl,h)||(Wl=h,h=id(Cm,"onSelect"),0<h.length&&(a=new co("onSelect","select",null,a,c),r.push({event:a,listeners:h}),a.target=_o)))}function ua(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var vo={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Dm={},f_={};si&&(f_=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function ha(r){if(Dm[r])return Dm[r];if(!vo[r])return r;var a=vo[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in f_)return Dm[r]=a[c];return r}var m_=ha("animationend"),g_=ha("animationiteration"),p_=ha("animationstart"),xR=ha("transitionrun"),ER=ha("transitionstart"),wR=ha("transitioncancel"),y_=ha("transitionend"),__=new Map,Mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mm.push("scrollEnd");function ri(r,a){__.set(r,a),ii(a,[r])}var v_=new WeakMap;function Yn(r,a){if(typeof r=="object"&&r!==null){var c=v_.get(r);return c!==void 0?c:(a={value:r,source:a,stack:ao(a)},v_.set(r,a),a)}return{value:r,source:a,stack:ao(a)}}var $n=[],bo=0,Nm=0;function vh(){for(var r=bo,a=Nm=bo=0;a<r;){var c=$n[a];$n[a++]=null;var h=$n[a];$n[a++]=null;var g=$n[a];$n[a++]=null;var y=$n[a];if($n[a++]=null,h!==null&&g!==null){var T=h.pending;T===null?g.next=g:(g.next=T.next,T.next=g),h.pending=g}y!==0&&b_(c,g,y)}}function bh(r,a,c,h){$n[bo++]=r,$n[bo++]=a,$n[bo++]=c,$n[bo++]=h,Nm|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function km(r,a,c,h){return bh(r,a,c,h),xh(r)}function xo(r,a){return bh(r,null,null,a),xh(r)}function b_(r,a,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=r.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&a!==null&&(g=31-an(c),r=y.hiddenUpdates,h=r[g],h===null?r[g]=[a]:h.push(a),a.lane=c|536870912),y):null}function xh(r){if(50<vc)throw vc=0,Ug=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Eo={};function TR(r,a,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,a,c,h){return new TR(r,a,c,h)}function Om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function rs(r,a){var c=r.alternate;return c===null?(c=Dn(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&65011712,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function x_(r,a){r.flags&=65011714;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Eh(r,a,c,h,g,y){var T=0;if(h=r,typeof r=="function")Om(r)&&(T=1);else if(typeof r=="string")T=A2(r,c,pt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case k:return r=Dn(31,c,a,g),r.elementType=k,r.lanes=y,r;case S:return da(c.children,g,y,a);case R:T=8,g|=24;break;case A:return r=Dn(12,c,a,g|2),r.elementType=A,r.lanes=y,r;case H:return r=Dn(13,c,a,g),r.elementType=H,r.lanes=y,r;case tt:return r=Dn(19,c,a,g),r.elementType=tt,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:case z:T=10;break t;case L:T=9;break t;case B:T=11;break t;case O:T=14;break t;case C:T=16,h=null;break t}T=29,c=Error(i(130,r===null?"null":typeof r,"")),h=null}return a=Dn(T,c,a,g),a.elementType=r,a.type=h,a.lanes=y,a}function da(r,a,c,h){return r=Dn(7,r,h,a),r.lanes=c,r}function Pm(r,a,c){return r=Dn(6,r,null,a),r.lanes=c,r}function Lm(r,a,c){return a=Dn(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var wo=[],To=0,wh=null,Th=0,Wn=[],Kn=0,fa=null,as=1,os="";function ma(r,a){wo[To++]=Th,wo[To++]=wh,wh=r,Th=a}function E_(r,a,c){Wn[Kn++]=as,Wn[Kn++]=os,Wn[Kn++]=fa,fa=r;var h=as;r=os;var g=32-an(h)-1;h&=~(1<<g),c+=1;var y=32-an(a)+g;if(30<y){var T=g-g%5;y=(h&(1<<T)-1).toString(32),h>>=T,g-=T,as=1<<32-an(a)+g|c<<g|h,os=y+r}else as=1<<y|c<<g|h,os=r}function Vm(r){r.return!==null&&(ma(r,1),E_(r,1,0))}function jm(r){for(;r===wh;)wh=wo[--To],wo[To]=null,Th=wo[--To],wo[To]=null;for(;r===fa;)fa=Wn[--Kn],Wn[Kn]=null,os=Wn[--Kn],Wn[Kn]=null,as=Wn[--Kn],Wn[Kn]=null}var vn=null,ve=null,$t=!1,ga=null,Di=!1,Um=Error(i(519));function pa(r){var a=Error(i(418,""));throw Xl(Yn(a,r)),Um}function w_(r){var a=r.stateNode,c=r.type,h=r.memoizedProps;switch(a[Pe]=r,a[Re]=h,c){case"dialog":Vt("cancel",a),Vt("close",a);break;case"iframe":case"object":case"embed":Vt("load",a);break;case"video":case"audio":for(c=0;c<xc.length;c++)Vt(xc[c],a);break;case"source":Vt("error",a);break;case"img":case"image":case"link":Vt("error",a),Vt("load",a);break;case"details":Vt("toggle",a);break;case"input":Vt("invalid",a),ta(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),oo(a);break;case"select":Vt("invalid",a);break;case"textarea":Vt("invalid",a),ea(a,h.value,h.defaultValue,h.children),oo(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||zb(a.textContent,c)?(h.popover!=null&&(Vt("beforetoggle",a),Vt("toggle",a)),h.onScroll!=null&&Vt("scroll",a),h.onScrollEnd!=null&&Vt("scrollend",a),h.onClick!=null&&(a.onclick=sd),a=!0):a=!1,a||pa(r)}function T_(r){for(vn=r.return;vn;)switch(vn.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:vn=vn.return}}function Kl(r){if(r!==vn)return!1;if(!$t)return T_(r),$t=!0,!1;var a=r.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||ep(r.type,r.memoizedProps)),c=!c),c&&ve&&pa(r),T_(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){ve=oi(r.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}ve=null}}else a===27?(a=ve,sr(r.type)?(r=rp,rp=null,ve=r):ve=a):ve=vn?oi(r.stateNode.nextSibling):null;return!0}function Ql(){ve=vn=null,$t=!1}function S_(){var r=ga;return r!==null&&(En===null?En=r:En.push.apply(En,r),ga=null),r}function Xl(r){ga===null?ga=[r]:ga.push(r)}var zm=rt(null),ya=null,ls=null;function Hs(r,a,c){lt(zm,a._currentValue),a._currentValue=c}function cs(r){r._currentValue=zm.current,ut(zm)}function Bm(r,a,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===c)break;r=r.return}}function Fm(r,a,c,h){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;t:for(;y!==null;){var I=y;y=g;for(var j=0;j<a.length;j++)if(I.context===a[j]){y.lanes|=c,I=y.alternate,I!==null&&(I.lanes|=c),Bm(y.return,c,r),h||(T=null);break t}y=I.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(i(341));T.lanes|=c,y=T.alternate,y!==null&&(y.lanes|=c),Bm(T,c,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Zl(r,a,c,h){r=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=g.type;In(g.pendingProps.value,T.value)||(r!==null?r.push(I):r=[I])}}else if(g===He.current){if(T=g.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Rc):r=[Rc])}g=g.return}r!==null&&Fm(a,r,c,h),a.flags|=262144}function Sh(r){for(r=r.firstContext;r!==null;){if(!In(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function _a(r){ya=r,ls=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function on(r){return A_(ya,r)}function Ah(r,a){return ya===null&&_a(r),A_(r,a)}function A_(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},ls===null){if(r===null)throw Error(i(308));ls=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else ls=ls.next=a;return c}var SR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},AR=n.unstable_scheduleCallback,RR=n.unstable_NormalPriority,je={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hm(){return{controller:new SR,data:new Map,refCount:0}}function Jl(r){r.refCount--,r.refCount===0&&AR(RR,function(){r.controller.abort()})}var tc=null,qm=0,So=0,Ao=null;function CR(r,a){if(tc===null){var c=tc=[];qm=0,So=Yg(),Ao={status:"pending",value:void 0,then:function(h){c.push(h)}}}return qm++,a.then(R_,R_),a}function R_(){if(--qm===0&&tc!==null){Ao!==null&&(Ao.status="fulfilled");var r=tc;tc=null,So=0,Ao=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function IR(r,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var C_=X.S;X.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&CR(r,a),C_!==null&&C_(r,a)};var va=rt(null);function Gm(){var r=va.current;return r!==null?r:ae.pooledCache}function Rh(r,a){a===null?lt(va,va.current):lt(va,a.pool)}function I_(){var r=Gm();return r===null?null:{parent:je._currentValue,pool:r}}var ec=Error(i(460)),D_=Error(i(474)),Ch=Error(i(542)),Ym={then:function(){}};function M_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ih(){}function N_(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Ih,Ih),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,O_(r),r;default:if(typeof a.status=="string")a.then(Ih,Ih);else{if(r=ae,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,O_(r),r}throw nc=a,ec}}var nc=null;function k_(){if(nc===null)throw Error(i(459));var r=nc;return nc=null,r}function O_(r){if(r===ec||r===Ch)throw Error(i(483))}var qs=!1;function $m(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wm(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Gs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ys(r,a,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Xt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=xh(r),b_(r,null,c),a}return bh(r,h,a,c),xh(r)}function ic(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Ml(r,c)}}function Km(r,a){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var Qm=!1;function sc(){if(Qm){var r=Ao;if(r!==null)throw r}}function rc(r,a,c,h){Qm=!1;var g=r.updateQueue;qs=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var j=I,K=j.next;j.next=null,T===null?y=K:T.next=K,T=j;var et=r.alternate;et!==null&&(et=et.updateQueue,I=et.lastBaseUpdate,I!==T&&(I===null?et.firstBaseUpdate=K:I.next=K,et.lastBaseUpdate=j))}if(y!==null){var it=g.baseState;T=0,et=K=j=null,I=y;do{var Q=I.lane&-536870913,Z=Q!==I.lane;if(Z?(qt&Q)===Q:(h&Q)===Q){Q!==0&&Q===So&&(Qm=!0),et!==null&&(et=et.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var Rt=r,wt=I;Q=a;var ie=c;switch(wt.tag){case 1:if(Rt=wt.payload,typeof Rt=="function"){it=Rt.call(ie,it,Q);break t}it=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=wt.payload,Q=typeof Rt=="function"?Rt.call(ie,it,Q):Rt,Q==null)break t;it=p({},it,Q);break t;case 2:qs=!0}}Q=I.callback,Q!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},et===null?(K=et=Z,j=it):et=et.next=Z,T|=Q;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);et===null&&(j=it),g.baseState=j,g.firstBaseUpdate=K,g.lastBaseUpdate=et,y===null&&(g.shared.lanes=0),tr|=T,r.lanes=T,r.memoizedState=it}}function P_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function L_(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)P_(c[r],a)}var Ro=rt(null),Dh=rt(0);function V_(r,a){r=ps,lt(Dh,r),lt(Ro,a),ps=r|a.baseLanes}function Xm(){lt(Dh,ps),lt(Ro,Ro.current)}function Zm(){ps=Dh.current,ut(Ro),ut(Dh)}var $s=0,kt=null,ee=null,Ie=null,Mh=!1,Co=!1,ba=!1,Nh=0,ac=0,Io=null,DR=0;function we(){throw Error(i(321))}function Jm(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!In(r[c],a[c]))return!1;return!0}function tg(r,a,c,h,g,y){return $s=y,kt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=r===null||r.memoizedState===null?bv:xv,ba=!1,y=c(h,g),ba=!1,Co&&(y=U_(a,c,h,g)),j_(r),y}function j_(r){X.H=jh;var a=ee!==null&&ee.next!==null;if($s=0,Ie=ee=kt=null,Mh=!1,ac=0,Io=null,a)throw Error(i(300));r===null||Ye||(r=r.dependencies,r!==null&&Sh(r)&&(Ye=!0))}function U_(r,a,c,h){kt=r;var g=0;do{if(Co&&(Io=null),ac=0,Co=!1,25<=g)throw Error(i(301));if(g+=1,Ie=ee=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=VR,y=a(c,h)}while(Co);return y}function MR(){var r=X.H,a=r.useState()[0];return a=typeof a.then=="function"?oc(a):a,r=r.useState()[0],(ee!==null?ee.memoizedState:null)!==r&&(kt.flags|=1024),a}function eg(){var r=Nh!==0;return Nh=0,r}function ng(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function ig(r){if(Mh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Mh=!1}$s=0,Ie=ee=kt=null,Co=!1,ac=Nh=0,Io=null}function bn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?kt.memoizedState=Ie=r:Ie=Ie.next=r,Ie}function De(){if(ee===null){var r=kt.alternate;r=r!==null?r.memoizedState:null}else r=ee.next;var a=Ie===null?kt.memoizedState:Ie.next;if(a!==null)Ie=a,ee=r;else{if(r===null)throw kt.alternate===null?Error(i(467)):Error(i(310));ee=r,r={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?kt.memoizedState=Ie=r:Ie=Ie.next=r}return Ie}function sg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(r){var a=ac;return ac+=1,Io===null&&(Io=[]),r=N_(Io,r,a),a=kt,(Ie===null?a.memoizedState:Ie.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?bv:xv),r}function kh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return oc(r);if(r.$$typeof===z)return on(r)}throw Error(i(438,String(r)))}function rg(r){var a=null,c=kt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=kt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=sg(),kt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),h=0;h<r;h++)c[h]=V;return a.index++,c}function us(r,a){return typeof a=="function"?a(r):a}function Oh(r){var a=De();return ag(a,ee,r)}function ag(r,a,c){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=r.baseQueue,y=h.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}a.baseQueue=g=y,h.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{a=g.next;var I=T=null,j=null,K=a,et=!1;do{var it=K.lane&-536870913;if(it!==K.lane?(qt&it)===it:($s&it)===it){var Q=K.revertLane;if(Q===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),it===So&&(et=!0);else if(($s&Q)===Q){K=K.next,Q===So&&(et=!0);continue}else it={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(I=j=it,T=y):j=j.next=it,kt.lanes|=Q,tr|=Q;it=K.action,ba&&c(y,it),y=K.hasEagerState?K.eagerState:c(y,it)}else Q={lane:it,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(I=j=Q,T=y):j=j.next=Q,kt.lanes|=it,tr|=it;K=K.next}while(K!==null&&K!==a);if(j===null?T=y:j.next=I,!In(y,r.memoizedState)&&(Ye=!0,et&&(c=Ao,c!==null)))throw c;r.memoizedState=y,r.baseState=T,r.baseQueue=j,h.lastRenderedState=y}return g===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function og(r){var a=De(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var h=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var T=g=g.next;do y=r(y,T.action),T=T.next;while(T!==g);In(y,a.memoizedState)||(Ye=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function z_(r,a,c){var h=kt,g=De(),y=$t;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var T=!In((ee||g).memoizedState,c);T&&(g.memoizedState=c,Ye=!0),g=g.queue;var I=H_.bind(null,h,g,r);if(lc(2048,8,I,[r]),g.getSnapshot!==a||T||Ie!==null&&Ie.memoizedState.tag&1){if(h.flags|=2048,Do(9,Ph(),F_.bind(null,h,g,c,a),null),ae===null)throw Error(i(349));y||($s&124)!==0||B_(h,a,c)}return c}function B_(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=kt.updateQueue,a===null?(a=sg(),kt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function F_(r,a,c,h){a.value=c,a.getSnapshot=h,q_(a)&&G_(r)}function H_(r,a,c){return c(function(){q_(a)&&G_(r)})}function q_(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!In(r,c)}catch{return!0}}function G_(r){var a=xo(r,2);a!==null&&Pn(a,r,2)}function lg(r){var a=bn();if(typeof r=="function"){var c=r;if(r=c(),ba){Rn(!0);try{c()}finally{Rn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:r},a}function Y_(r,a,c,h){return r.baseState=c,ag(r,ee,typeof h=="function"?h:us)}function NR(r,a,c,h,g){if(Vh(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};X.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,$_(a,y)):(y.next=c.next,a.pending=c.next=y)}}function $_(r,a){var c=a.action,h=a.payload,g=r.state;if(a.isTransition){var y=X.T,T={};X.T=T;try{var I=c(g,h),j=X.S;j!==null&&j(T,I),W_(r,a,I)}catch(K){cg(r,a,K)}finally{X.T=y}}else try{y=c(g,h),W_(r,a,y)}catch(K){cg(r,a,K)}}function W_(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){K_(r,a,h)},function(h){return cg(r,a,h)}):K_(r,a,c)}function K_(r,a,c){a.status="fulfilled",a.value=c,Q_(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,$_(r,c)))}function cg(r,a,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Q_(a),a=a.next;while(a!==h)}r.action=null}function Q_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function X_(r,a){return a}function Z_(r,a){if($t){var c=ae.formState;if(c!==null){t:{var h=kt;if($t){if(ve){e:{for(var g=ve,y=Di;g.nodeType!==8;){if(!y){g=null;break e}if(g=oi(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ve=oi(g.nextSibling),h=g.data==="F!";break t}}pa(h)}h=!1}h&&(a=c[0])}}return c=bn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X_,lastRenderedState:a},c.queue=h,c=yv.bind(null,kt,h),h.dispatch=c,h=lg(!1),y=mg.bind(null,kt,!1,h.queue),h=bn(),g={state:a,dispatch:null,action:r,pending:null},h.queue=g,c=NR.bind(null,kt,g,y,c),g.dispatch=c,h.memoizedState=r,[a,c,!1]}function J_(r){var a=De();return tv(a,ee,r)}function tv(r,a,c){if(a=ag(r,a,X_)[0],r=Oh(us)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=oc(a)}catch(T){throw T===ec?Ch:T}else h=a;a=De();var g=a.queue,y=g.dispatch;return c!==a.memoizedState&&(kt.flags|=2048,Do(9,Ph(),kR.bind(null,g,c),null)),[h,y,r]}function kR(r,a){r.action=a}function ev(r){var a=De(),c=ee;if(c!==null)return tv(a,c,r);De(),a=a.memoizedState,c=De();var h=c.queue.dispatch;return c.memoizedState=r,[a,h,!1]}function Do(r,a,c,h){return r={tag:r,create:c,deps:h,inst:a,next:null},a=kt.updateQueue,a===null&&(a=sg(),kt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,a.lastEffect=r),r}function Ph(){return{destroy:void 0,resource:void 0}}function nv(){return De().memoizedState}function Lh(r,a,c,h){var g=bn();h=h===void 0?null:h,kt.flags|=r,g.memoizedState=Do(1|a,Ph(),c,h)}function lc(r,a,c,h){var g=De();h=h===void 0?null:h;var y=g.memoizedState.inst;ee!==null&&h!==null&&Jm(h,ee.memoizedState.deps)?g.memoizedState=Do(a,y,c,h):(kt.flags|=r,g.memoizedState=Do(1|a,y,c,h))}function iv(r,a){Lh(8390656,8,r,a)}function sv(r,a){lc(2048,8,r,a)}function rv(r,a){return lc(4,2,r,a)}function av(r,a){return lc(4,4,r,a)}function ov(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function lv(r,a,c){c=c!=null?c.concat([r]):null,lc(4,4,ov.bind(null,a,r),c)}function ug(){}function cv(r,a){var c=De();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Jm(a,h[1])?h[0]:(c.memoizedState=[r,a],r)}function uv(r,a){var c=De();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Jm(a,h[1]))return h[0];if(h=r(),ba){Rn(!0);try{r()}finally{Rn(!1)}}return c.memoizedState=[h,a],h}function hg(r,a,c){return c===void 0||($s&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=fb(),kt.lanes|=r,tr|=r,c)}function hv(r,a,c,h){return In(c,a)?c:Ro.current!==null?(r=hg(r,c,h),In(r,a)||(Ye=!0),r):($s&42)===0?(Ye=!0,r.memoizedState=c):(r=fb(),kt.lanes|=r,tr|=r,a)}function dv(r,a,c,h,g){var y=ot.p;ot.p=y!==0&&8>y?y:8;var T=X.T,I={};X.T=I,mg(r,!1,a,c);try{var j=g(),K=X.S;if(K!==null&&K(I,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var et=IR(j,h);cc(r,a,et,On(r))}else cc(r,a,h,On(r))}catch(it){cc(r,a,{then:function(){},status:"rejected",reason:it},On())}finally{ot.p=y,X.T=T}}function OR(){}function dg(r,a,c,h){if(r.tag!==5)throw Error(i(476));var g=fv(r).queue;dv(r,g,a,dt,c===null?OR:function(){return mv(r),c(h)})}function fv(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:dt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function mv(r){var a=fv(r).next.queue;cc(r,a,{},On())}function fg(){return on(Rc)}function gv(){return De().memoizedState}function pv(){return De().memoizedState}function PR(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=On();r=Gs(c);var h=Ys(a,r,c);h!==null&&(Pn(h,a,c),ic(h,a,c)),a={cache:Hm()},r.payload=a;return}a=a.return}}function LR(r,a,c){var h=On();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Vh(r)?_v(a,c):(c=km(r,a,c,h),c!==null&&(Pn(c,r,h),vv(c,a,h)))}function yv(r,a,c){var h=On();cc(r,a,c,h)}function cc(r,a,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Vh(r))_v(a,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,I=y(T,c);if(g.hasEagerState=!0,g.eagerState=I,In(I,T))return bh(r,a,g,0),ae===null&&vh(),!1}catch{}finally{}if(c=km(r,a,g,h),c!==null)return Pn(c,r,h),vv(c,a,h),!0}return!1}function mg(r,a,c,h){if(h={lane:2,revertLane:Yg(),action:h,hasEagerState:!1,eagerState:null,next:null},Vh(r)){if(a)throw Error(i(479))}else a=km(r,c,h,2),a!==null&&Pn(a,r,2)}function Vh(r){var a=r.alternate;return r===kt||a!==null&&a===kt}function _v(r,a){Co=Mh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function vv(r,a,c){if((c&4194048)!==0){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Ml(r,c)}}var jh={readContext:on,use:kh,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we},bv={readContext:on,use:kh,useCallback:function(r,a){return bn().memoizedState=[r,a===void 0?null:a],r},useContext:on,useEffect:iv,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Lh(4194308,4,ov.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Lh(4194308,4,r,a)},useInsertionEffect:function(r,a){Lh(4,2,r,a)},useMemo:function(r,a){var c=bn();a=a===void 0?null:a;var h=r();if(ba){Rn(!0);try{r()}finally{Rn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(r,a,c){var h=bn();if(c!==void 0){var g=c(a);if(ba){Rn(!0);try{c(a)}finally{Rn(!1)}}}else g=a;return h.memoizedState=h.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},h.queue=r,r=r.dispatch=LR.bind(null,kt,r),[h.memoizedState,r]},useRef:function(r){var a=bn();return r={current:r},a.memoizedState=r},useState:function(r){r=lg(r);var a=r.queue,c=yv.bind(null,kt,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:ug,useDeferredValue:function(r,a){var c=bn();return hg(c,r,a)},useTransition:function(){var r=lg(!1);return r=dv.bind(null,kt,r.queue,!0,!1),bn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var h=kt,g=bn();if($t){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),ae===null)throw Error(i(349));(qt&124)!==0||B_(h,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,iv(H_.bind(null,h,y,r),[r]),h.flags|=2048,Do(9,Ph(),F_.bind(null,h,y,c,a),null),c},useId:function(){var r=bn(),a=ae.identifierPrefix;if($t){var c=os,h=as;c=(h&~(1<<32-an(h)-1)).toString(32)+c,a="«"+a+"R"+c,c=Nh++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=DR++,a="«"+a+"r"+c.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:fg,useFormState:Z_,useActionState:Z_,useOptimistic:function(r){var a=bn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=mg.bind(null,kt,!0,c),c.dispatch=a,[r,a]},useMemoCache:rg,useCacheRefresh:function(){return bn().memoizedState=PR.bind(null,kt)}},xv={readContext:on,use:kh,useCallback:cv,useContext:on,useEffect:sv,useImperativeHandle:lv,useInsertionEffect:rv,useLayoutEffect:av,useMemo:uv,useReducer:Oh,useRef:nv,useState:function(){return Oh(us)},useDebugValue:ug,useDeferredValue:function(r,a){var c=De();return hv(c,ee.memoizedState,r,a)},useTransition:function(){var r=Oh(us)[0],a=De().memoizedState;return[typeof r=="boolean"?r:oc(r),a]},useSyncExternalStore:z_,useId:gv,useHostTransitionStatus:fg,useFormState:J_,useActionState:J_,useOptimistic:function(r,a){var c=De();return Y_(c,ee,r,a)},useMemoCache:rg,useCacheRefresh:pv},VR={readContext:on,use:kh,useCallback:cv,useContext:on,useEffect:sv,useImperativeHandle:lv,useInsertionEffect:rv,useLayoutEffect:av,useMemo:uv,useReducer:og,useRef:nv,useState:function(){return og(us)},useDebugValue:ug,useDeferredValue:function(r,a){var c=De();return ee===null?hg(c,r,a):hv(c,ee.memoizedState,r,a)},useTransition:function(){var r=og(us)[0],a=De().memoizedState;return[typeof r=="boolean"?r:oc(r),a]},useSyncExternalStore:z_,useId:gv,useHostTransitionStatus:fg,useFormState:ev,useActionState:ev,useOptimistic:function(r,a){var c=De();return ee!==null?Y_(c,ee,r,a):(c.baseState=r,[r,c.queue.dispatch])},useMemoCache:rg,useCacheRefresh:pv},Mo=null,uc=0;function Uh(r){var a=uc;return uc+=1,Mo===null&&(Mo=[]),N_(Mo,r,a)}function hc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function zh(r,a){throw a.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function Ev(r){var a=r._init;return a(r._payload)}function wv(r){function a(G,q){if(r){var $=G.deletions;$===null?(G.deletions=[q],G.flags|=16):$.push(q)}}function c(G,q){if(!r)return null;for(;q!==null;)a(G,q),q=q.sibling;return null}function h(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function g(G,q){return G=rs(G,q),G.index=0,G.sibling=null,G}function y(G,q,$){return G.index=$,r?($=G.alternate,$!==null?($=$.index,$<q?(G.flags|=67108866,q):$):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function I(G,q,$,nt){return q===null||q.tag!==6?(q=Pm($,G.mode,nt),q.return=G,q):(q=g(q,$),q.return=G,q)}function j(G,q,$,nt){var mt=$.type;return mt===S?et(G,q,$.props.children,nt,$.key):q!==null&&(q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===C&&Ev(mt)===q.type)?(q=g(q,$.props),hc(q,$),q.return=G,q):(q=Eh($.type,$.key,$.props,null,G.mode,nt),hc(q,$),q.return=G,q)}function K(G,q,$,nt){return q===null||q.tag!==4||q.stateNode.containerInfo!==$.containerInfo||q.stateNode.implementation!==$.implementation?(q=Lm($,G.mode,nt),q.return=G,q):(q=g(q,$.children||[]),q.return=G,q)}function et(G,q,$,nt,mt){return q===null||q.tag!==7?(q=da($,G.mode,nt,mt),q.return=G,q):(q=g(q,$),q.return=G,q)}function it(G,q,$){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Pm(""+q,G.mode,$),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return $=Eh(q.type,q.key,q.props,null,G.mode,$),hc($,q),$.return=G,$;case E:return q=Lm(q,G.mode,$),q.return=G,q;case C:var nt=q._init;return q=nt(q._payload),it(G,q,$)}if(yt(q)||N(q))return q=da(q,G.mode,$,null),q.return=G,q;if(typeof q.then=="function")return it(G,Uh(q),$);if(q.$$typeof===z)return it(G,Ah(G,q),$);zh(G,q)}return null}function Q(G,q,$,nt){var mt=q!==null?q.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return mt!==null?null:I(G,q,""+$,nt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return $.key===mt?j(G,q,$,nt):null;case E:return $.key===mt?K(G,q,$,nt):null;case C:return mt=$._init,$=mt($._payload),Q(G,q,$,nt)}if(yt($)||N($))return mt!==null?null:et(G,q,$,nt,null);if(typeof $.then=="function")return Q(G,q,Uh($),nt);if($.$$typeof===z)return Q(G,q,Ah(G,$),nt);zh(G,$)}return null}function Z(G,q,$,nt,mt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return G=G.get($)||null,I(q,G,""+nt,mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case v:return G=G.get(nt.key===null?$:nt.key)||null,j(q,G,nt,mt);case E:return G=G.get(nt.key===null?$:nt.key)||null,K(q,G,nt,mt);case C:var Pt=nt._init;return nt=Pt(nt._payload),Z(G,q,$,nt,mt)}if(yt(nt)||N(nt))return G=G.get($)||null,et(q,G,nt,mt,null);if(typeof nt.then=="function")return Z(G,q,$,Uh(nt),mt);if(nt.$$typeof===z)return Z(G,q,$,Ah(q,nt),mt);zh(q,nt)}return null}function Rt(G,q,$,nt){for(var mt=null,Pt=null,vt=q,Tt=q=0,We=null;vt!==null&&Tt<$.length;Tt++){vt.index>Tt?(We=vt,vt=null):We=vt.sibling;var Yt=Q(G,vt,$[Tt],nt);if(Yt===null){vt===null&&(vt=We);break}r&&vt&&Yt.alternate===null&&a(G,vt),q=y(Yt,q,Tt),Pt===null?mt=Yt:Pt.sibling=Yt,Pt=Yt,vt=We}if(Tt===$.length)return c(G,vt),$t&&ma(G,Tt),mt;if(vt===null){for(;Tt<$.length;Tt++)vt=it(G,$[Tt],nt),vt!==null&&(q=y(vt,q,Tt),Pt===null?mt=vt:Pt.sibling=vt,Pt=vt);return $t&&ma(G,Tt),mt}for(vt=h(vt);Tt<$.length;Tt++)We=Z(vt,G,Tt,$[Tt],nt),We!==null&&(r&&We.alternate!==null&&vt.delete(We.key===null?Tt:We.key),q=y(We,q,Tt),Pt===null?mt=We:Pt.sibling=We,Pt=We);return r&&vt.forEach(function(cr){return a(G,cr)}),$t&&ma(G,Tt),mt}function wt(G,q,$,nt){if($==null)throw Error(i(151));for(var mt=null,Pt=null,vt=q,Tt=q=0,We=null,Yt=$.next();vt!==null&&!Yt.done;Tt++,Yt=$.next()){vt.index>Tt?(We=vt,vt=null):We=vt.sibling;var cr=Q(G,vt,Yt.value,nt);if(cr===null){vt===null&&(vt=We);break}r&&vt&&cr.alternate===null&&a(G,vt),q=y(cr,q,Tt),Pt===null?mt=cr:Pt.sibling=cr,Pt=cr,vt=We}if(Yt.done)return c(G,vt),$t&&ma(G,Tt),mt;if(vt===null){for(;!Yt.done;Tt++,Yt=$.next())Yt=it(G,Yt.value,nt),Yt!==null&&(q=y(Yt,q,Tt),Pt===null?mt=Yt:Pt.sibling=Yt,Pt=Yt);return $t&&ma(G,Tt),mt}for(vt=h(vt);!Yt.done;Tt++,Yt=$.next())Yt=Z(vt,G,Tt,Yt.value,nt),Yt!==null&&(r&&Yt.alternate!==null&&vt.delete(Yt.key===null?Tt:Yt.key),q=y(Yt,q,Tt),Pt===null?mt=Yt:Pt.sibling=Yt,Pt=Yt);return r&&vt.forEach(function(j2){return a(G,j2)}),$t&&ma(G,Tt),mt}function ie(G,q,$,nt){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case v:t:{for(var mt=$.key;q!==null;){if(q.key===mt){if(mt=$.type,mt===S){if(q.tag===7){c(G,q.sibling),nt=g(q,$.props.children),nt.return=G,G=nt;break t}}else if(q.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===C&&Ev(mt)===q.type){c(G,q.sibling),nt=g(q,$.props),hc(nt,$),nt.return=G,G=nt;break t}c(G,q);break}else a(G,q);q=q.sibling}$.type===S?(nt=da($.props.children,G.mode,nt,$.key),nt.return=G,G=nt):(nt=Eh($.type,$.key,$.props,null,G.mode,nt),hc(nt,$),nt.return=G,G=nt)}return T(G);case E:t:{for(mt=$.key;q!==null;){if(q.key===mt)if(q.tag===4&&q.stateNode.containerInfo===$.containerInfo&&q.stateNode.implementation===$.implementation){c(G,q.sibling),nt=g(q,$.children||[]),nt.return=G,G=nt;break t}else{c(G,q);break}else a(G,q);q=q.sibling}nt=Lm($,G.mode,nt),nt.return=G,G=nt}return T(G);case C:return mt=$._init,$=mt($._payload),ie(G,q,$,nt)}if(yt($))return Rt(G,q,$,nt);if(N($)){if(mt=N($),typeof mt!="function")throw Error(i(150));return $=mt.call($),wt(G,q,$,nt)}if(typeof $.then=="function")return ie(G,q,Uh($),nt);if($.$$typeof===z)return ie(G,q,Ah(G,$),nt);zh(G,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,q!==null&&q.tag===6?(c(G,q.sibling),nt=g(q,$),nt.return=G,G=nt):(c(G,q),nt=Pm($,G.mode,nt),nt.return=G,G=nt),T(G)):c(G,q)}return function(G,q,$,nt){try{uc=0;var mt=ie(G,q,$,nt);return Mo=null,mt}catch(vt){if(vt===ec||vt===Ch)throw vt;var Pt=Dn(29,vt,null,G.mode);return Pt.lanes=nt,Pt.return=G,Pt}finally{}}}var No=wv(!0),Tv=wv(!1),Qn=rt(null),Mi=null;function Ws(r){var a=r.alternate;lt(Ue,Ue.current&1),lt(Qn,r),Mi===null&&(a===null||Ro.current!==null||a.memoizedState!==null)&&(Mi=r)}function Sv(r){if(r.tag===22){if(lt(Ue,Ue.current),lt(Qn,r),Mi===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Mi=r)}}else Ks()}function Ks(){lt(Ue,Ue.current),lt(Qn,Qn.current)}function hs(r){ut(Qn),Mi===r&&(Mi=null),ut(Ue)}var Ue=rt(0);function Bh(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||sp(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function gg(r,a,c,h){a=r.memoizedState,c=c(h,a),c=c==null?a:p({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var pg={enqueueSetState:function(r,a,c){r=r._reactInternals;var h=On(),g=Gs(h);g.payload=a,c!=null&&(g.callback=c),a=Ys(r,g,h),a!==null&&(Pn(a,r,h),ic(a,r,h))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var h=On(),g=Gs(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Ys(r,g,h),a!==null&&(Pn(a,r,h),ic(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=On(),h=Gs(c);h.tag=2,a!=null&&(h.callback=a),a=Ys(r,h,c),a!==null&&(Pn(a,r,c),ic(a,r,c))}};function Av(r,a,c,h,g,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,T):a.prototype&&a.prototype.isPureReactComponent?!$l(c,h)||!$l(g,y):!0}function Rv(r,a,c,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==r&&pg.enqueueReplaceState(a,a.state,null)}function xa(r,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(r=r.defaultProps){c===a&&(c=p({},c));for(var g in r)c[g]===void 0&&(c[g]=r[g])}return c}var Fh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Cv(r){Fh(r)}function Iv(r){console.error(r)}function Dv(r){Fh(r)}function Hh(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Mv(r,a,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function yg(r,a,c){return c=Gs(c),c.tag=3,c.payload={element:null},c.callback=function(){Hh(r,a)},c}function Nv(r){return r=Gs(r),r.tag=3,r}function kv(r,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;r.payload=function(){return g(y)},r.callback=function(){Mv(a,c,h)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Mv(a,c,h),typeof g!="function"&&(er===null?er=new Set([this]):er.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function jR(r,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Zl(a,c,g,!0),c=Qn.current,c!==null){switch(c.tag){case 13:return Mi===null?Bg():c.alternate===null&&be===0&&(be=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Ym?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Hg(r,h,g)),!1;case 22:return c.flags|=65536,h===Ym?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Hg(r,h,g)),!1}throw Error(i(435,c.tag))}return Hg(r,h,g),Bg(),!1}if($t)return a=Qn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Um&&(r=Error(i(422),{cause:h}),Xl(Yn(r,c)))):(h!==Um&&(a=Error(i(423),{cause:h}),Xl(Yn(a,c))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,h=Yn(h,c),g=yg(r.stateNode,h,g),Km(r,g),be!==4&&(be=2)),!1;var y=Error(i(520),{cause:h});if(y=Yn(y,c),_c===null?_c=[y]:_c.push(y),be!==4&&(be=2),a===null)return!0;h=Yn(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=g&-g,c.lanes|=r,r=yg(c.stateNode,h,r),Km(c,r),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(er===null||!er.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Nv(g),kv(g,r,c,h),Km(c,g),!1}c=c.return}while(c!==null);return!1}var Ov=Error(i(461)),Ye=!1;function Je(r,a,c,h){a.child=r===null?Tv(a,null,c,h):No(a,r.child,c,h)}function Pv(r,a,c,h,g){c=c.render;var y=a.ref;if("ref"in h){var T={};for(var I in h)I!=="ref"&&(T[I]=h[I])}else T=h;return _a(a),h=tg(r,a,c,T,y,g),I=eg(),r!==null&&!Ye?(ng(r,a,g),ds(r,a,g)):($t&&I&&Vm(a),a.flags|=1,Je(r,a,h,g),a.child)}function Lv(r,a,c,h,g){if(r===null){var y=c.type;return typeof y=="function"&&!Om(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,Vv(r,a,y,h,g)):(r=Eh(c.type,null,h,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!Sg(r,g)){var T=y.memoizedProps;if(c=c.compare,c=c!==null?c:$l,c(T,h)&&r.ref===a.ref)return ds(r,a,g)}return a.flags|=1,r=rs(y,h),r.ref=a.ref,r.return=a,a.child=r}function Vv(r,a,c,h,g){if(r!==null){var y=r.memoizedProps;if($l(y,h)&&r.ref===a.ref)if(Ye=!1,a.pendingProps=h=y,Sg(r,g))(r.flags&131072)!==0&&(Ye=!0);else return a.lanes=r.lanes,ds(r,a,g)}return _g(r,a,c,h,g)}function jv(r,a,c){var h=a.pendingProps,g=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|c:c,r!==null){for(g=a.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return Uv(r,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Rh(a,y!==null?y.cachePool:null),y!==null?V_(a,y):Xm(),Sv(a);else return a.lanes=a.childLanes=536870912,Uv(r,a,y!==null?y.baseLanes|c:c,c)}else y!==null?(Rh(a,y.cachePool),V_(a,y),Ks(),a.memoizedState=null):(r!==null&&Rh(a,null),Xm(),Ks());return Je(r,a,g,c),a.child}function Uv(r,a,c,h){var g=Gm();return g=g===null?null:{parent:je._currentValue,pool:g},a.memoizedState={baseLanes:c,cachePool:g},r!==null&&Rh(a,null),Xm(),Sv(a),r!==null&&Zl(r,a,h,!0),null}function qh(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=4194816)}}function _g(r,a,c,h,g){return _a(a),c=tg(r,a,c,h,void 0,g),h=eg(),r!==null&&!Ye?(ng(r,a,g),ds(r,a,g)):($t&&h&&Vm(a),a.flags|=1,Je(r,a,c,g),a.child)}function zv(r,a,c,h,g,y){return _a(a),a.updateQueue=null,c=U_(a,h,c,g),j_(r),h=eg(),r!==null&&!Ye?(ng(r,a,y),ds(r,a,y)):($t&&h&&Vm(a),a.flags|=1,Je(r,a,c,y),a.child)}function Bv(r,a,c,h,g){if(_a(a),a.stateNode===null){var y=Eo,T=c.contextType;typeof T=="object"&&T!==null&&(y=on(T)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=pg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},$m(a),T=c.contextType,y.context=typeof T=="object"&&T!==null?on(T):Eo,y.state=a.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(gg(a,c,T,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&pg.enqueueReplaceState(y,y.state,null),rc(a,h,y,g),sc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){y=a.stateNode;var I=a.memoizedProps,j=xa(c,I);y.props=j;var K=y.context,et=c.contextType;T=Eo,typeof et=="object"&&et!==null&&(T=on(et));var it=c.getDerivedStateFromProps;et=typeof it=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,et||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||K!==T)&&Rv(a,y,h,T),qs=!1;var Q=a.memoizedState;y.state=Q,rc(a,h,y,g),sc(),K=a.memoizedState,I||Q!==K||qs?(typeof it=="function"&&(gg(a,c,it,h),K=a.memoizedState),(j=qs||Av(a,c,j,h,Q,K,T))?(et||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=T,h=j):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Wm(r,a),T=a.memoizedProps,et=xa(c,T),y.props=et,it=a.pendingProps,Q=y.context,K=c.contextType,j=Eo,typeof K=="object"&&K!==null&&(j=on(K)),I=c.getDerivedStateFromProps,(K=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==it||Q!==j)&&Rv(a,y,h,j),qs=!1,Q=a.memoizedState,y.state=Q,rc(a,h,y,g),sc();var Z=a.memoizedState;T!==it||Q!==Z||qs||r!==null&&r.dependencies!==null&&Sh(r.dependencies)?(typeof I=="function"&&(gg(a,c,I,h),Z=a.memoizedState),(et=qs||Av(a,c,et,h,Q,Z,j)||r!==null&&r.dependencies!==null&&Sh(r.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,j),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,j)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),y.props=h,y.state=Z,y.context=j,h=et):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Q===r.memoizedState||(a.flags|=1024),h=!1)}return y=h,qh(r,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&h?(a.child=No(a,r.child,null,g),a.child=No(a,null,c,g)):Je(r,a,c,g),a.memoizedState=y.state,r=a.child):r=ds(r,a,g),r}function Fv(r,a,c,h){return Ql(),a.flags|=256,Je(r,a,c,h),a.child}var vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bg(r){return{baseLanes:r,cachePool:I_()}}function xg(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Xn),r}function Hv(r,a,c){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Ue.current&2)!==0),T&&(g=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if($t){if(g?Ws(a):Ks(),$t){var I=ve,j;if(j=I){t:{for(j=I,I=Di;j.nodeType!==8;){if(!I){I=null;break t}if(j=oi(j.nextSibling),j===null){I=null;break t}}I=j}I!==null?(a.memoizedState={dehydrated:I,treeContext:fa!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},j=Dn(18,null,null,0),j.stateNode=I,j.return=a,a.child=j,vn=a,ve=null,j=!0):j=!1}j||pa(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return sp(I)?a.lanes=32:a.lanes=536870912,null;hs(a)}return I=h.children,h=h.fallback,g?(Ks(),g=a.mode,I=Gh({mode:"hidden",children:I},g),h=da(h,g,c,null),I.return=a,h.return=a,I.sibling=h,a.child=I,g=a.child,g.memoizedState=bg(c),g.childLanes=xg(r,T,c),a.memoizedState=vg,h):(Ws(a),Eg(a,I))}if(j=r.memoizedState,j!==null&&(I=j.dehydrated,I!==null)){if(y)a.flags&256?(Ws(a),a.flags&=-257,a=wg(r,a,c)):a.memoizedState!==null?(Ks(),a.child=r.child,a.flags|=128,a=null):(Ks(),g=h.fallback,I=a.mode,h=Gh({mode:"visible",children:h.children},I),g=da(g,I,c,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,No(a,r.child,null,c),h=a.child,h.memoizedState=bg(c),h.childLanes=xg(r,T,c),a.memoizedState=vg,a=g);else if(Ws(a),sp(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var K=T.dgst;T=K,h=Error(i(419)),h.stack="",h.digest=T,Xl({value:h,source:null,stack:null}),a=wg(r,a,c)}else if(Ye||Zl(r,a,c,!1),T=(c&r.childLanes)!==0,Ye||T){if(T=ae,T!==null&&(h=c&-c,h=(h&42)!==0?1:Ls(h),h=(h&(T.suspendedLanes|c))!==0?0:h,h!==0&&h!==j.retryLane))throw j.retryLane=h,xo(r,h),Pn(T,r,h),Ov;I.data==="$?"||Bg(),a=wg(r,a,c)}else I.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=j.treeContext,ve=oi(I.nextSibling),vn=a,$t=!0,ga=null,Di=!1,r!==null&&(Wn[Kn++]=as,Wn[Kn++]=os,Wn[Kn++]=fa,as=r.id,os=r.overflow,fa=a),a=Eg(a,h.children),a.flags|=4096);return a}return g?(Ks(),g=h.fallback,I=a.mode,j=r.child,K=j.sibling,h=rs(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,K!==null?g=rs(K,g):(g=da(g,I,c,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,I=r.child.memoizedState,I===null?I=bg(c):(j=I.cachePool,j!==null?(K=je._currentValue,j=j.parent!==K?{parent:K,pool:K}:j):j=I_(),I={baseLanes:I.baseLanes|c,cachePool:j}),g.memoizedState=I,g.childLanes=xg(r,T,c),a.memoizedState=vg,h):(Ws(a),c=r.child,r=c.sibling,c=rs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=c,a.memoizedState=null,c)}function Eg(r,a){return a=Gh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Gh(r,a){return r=Dn(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function wg(r,a,c){return No(a,r.child,null,c),r=Eg(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function qv(r,a,c){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),Bm(r.return,a,c)}function Tg(r,a,c,h,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=g)}function Gv(r,a,c){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(Je(r,a,h.children,c),h=Ue.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qv(r,c,a);else if(r.tag===19)qv(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(lt(Ue,h),g){case"forwards":for(c=a.child,g=null;c!==null;)r=c.alternate,r!==null&&Bh(r)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Tg(a,!1,g,c,y);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Bh(r)===null){a.child=g;break}r=g.sibling,g.sibling=c,c=g,g=r}Tg(a,!0,c,null,y);break;case"together":Tg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ds(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),tr|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(Zl(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=rs(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=rs(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function Sg(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Sh(r)))}function UR(r,a,c){switch(a.tag){case 3:re(a,a.stateNode.containerInfo),Hs(a,je,r.memoizedState.cache),Ql();break;case 27:case 5:Ps(a);break;case 4:re(a,a.stateNode.containerInfo);break;case 10:Hs(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ws(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Hv(r,a,c):(Ws(a),r=ds(r,a,c),r!==null?r.sibling:null);Ws(a);break;case 19:var g=(r.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Zl(r,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return Gv(r,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),lt(Ue,Ue.current),h)break;return null;case 22:case 23:return a.lanes=0,jv(r,a,c);case 24:Hs(a,je,r.memoizedState.cache)}return ds(r,a,c)}function Yv(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)Ye=!0;else{if(!Sg(r,c)&&(a.flags&128)===0)return Ye=!1,UR(r,a,c);Ye=(r.flags&131072)!==0}else Ye=!1,$t&&(a.flags&1048576)!==0&&E_(a,Th,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")Om(h)?(r=xa(h,r),a.tag=1,a=Bv(null,a,h,r,c)):(a.tag=0,a=_g(null,a,h,r,c));else{if(h!=null){if(g=h.$$typeof,g===B){a.tag=11,a=Pv(null,a,h,r,c);break t}else if(g===O){a.tag=14,a=Lv(null,a,h,r,c);break t}}throw a=bt(h)||h,Error(i(306,a,""))}}return a;case 0:return _g(r,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=xa(h,a.pendingProps),Bv(r,a,h,g,c);case 3:t:{if(re(a,a.stateNode.containerInfo),r===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,Wm(r,a),rc(a,h,null,c);var T=a.memoizedState;if(h=T.cache,Hs(a,je,h),h!==y.cache&&Fm(a,[je],c,!0),sc(),h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Fv(r,a,h,c);break t}else if(h!==g){g=Yn(Error(i(424)),a),Xl(g),a=Fv(r,a,h,c);break t}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ve=oi(r.firstChild),vn=a,$t=!0,ga=null,Di=!0,c=Tv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ql(),h===g){a=ds(r,a,c);break t}Je(r,a,h,c)}a=a.child}return a;case 26:return qh(r,a),r===null?(c=Qb(a.type,null,a.pendingProps,null))?a.memoizedState=c:$t||(c=a.type,r=a.pendingProps,h=rd(xt.current).createElement(c),h[Pe]=a,h[Re]=r,en(h,c,r),Ee(h),a.stateNode=h):a.memoizedState=Qb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ps(a),r===null&&$t&&(h=a.stateNode=$b(a.type,a.pendingProps,xt.current),vn=a,Di=!0,g=ve,sr(a.type)?(rp=g,ve=oi(h.firstChild)):ve=g),Je(r,a,a.pendingProps.children,c),qh(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&$t&&((g=h=ve)&&(h=f2(h,a.type,a.pendingProps,Di),h!==null?(a.stateNode=h,vn=a,ve=oi(h.firstChild),Di=!1,g=!0):g=!1),g||pa(a)),Ps(a),g=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,h=y.children,ep(g,y)?h=null:T!==null&&ep(g,T)&&(a.flags|=32),a.memoizedState!==null&&(g=tg(r,a,MR,null,null,c),Rc._currentValue=g),qh(r,a),Je(r,a,h,c),a.child;case 6:return r===null&&$t&&((r=c=ve)&&(c=m2(c,a.pendingProps,Di),c!==null?(a.stateNode=c,vn=a,ve=null,r=!0):r=!1),r||pa(a)),null;case 13:return Hv(r,a,c);case 4:return re(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=No(a,null,h,c):Je(r,a,h,c),a.child;case 11:return Pv(r,a,a.type,a.pendingProps,c);case 7:return Je(r,a,a.pendingProps,c),a.child;case 8:return Je(r,a,a.pendingProps.children,c),a.child;case 12:return Je(r,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Hs(a,a.type,h.value),Je(r,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,_a(a),g=on(g),h=h(g),a.flags|=1,Je(r,a,h,c),a.child;case 14:return Lv(r,a,a.type,a.pendingProps,c);case 15:return Vv(r,a,a.type,a.pendingProps,c);case 19:return Gv(r,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},r===null?(c=Gh(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=rs(r.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return jv(r,a,c);case 24:return _a(a),h=on(je),r===null?(g=Gm(),g===null&&(g=ae,y=Hm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),a.memoizedState={parent:h,cache:g},$m(a),Hs(a,je,g)):((r.lanes&c)!==0&&(Wm(r,a),rc(a,null,null,c),sc()),g=r.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Hs(a,je,h)):(h=y.cache,Hs(a,je,h),h!==g.cache&&Fm(a,[je],c,!0))),Je(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function fs(r){r.flags|=4}function $v(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ex(a)){if(a=Qn.current,a!==null&&((qt&4194048)===qt?Mi!==null:(qt&62914560)!==qt&&(qt&536870912)===0||a!==Mi))throw nc=Ym,D_;r.flags|=8192}}function Yh(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Il():536870912,r.lanes|=a,Lo|=a)}function dc(r,a){if(!$t)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function pe(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(a)for(var g=r.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=c,a}function zR(r,a,c){var h=a.pendingProps;switch(jm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(a),null;case 1:return pe(a),null;case 3:return c=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),cs(je),_i(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Kl(a)?fs(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,S_())),pe(a),null;case 26:return c=a.memoizedState,r===null?(fs(a),c!==null?(pe(a),$v(a,c)):(pe(a),a.flags&=-16777217)):c?c!==r.memoizedState?(fs(a),pe(a),$v(a,c)):(pe(a),a.flags&=-16777217):(r.memoizedProps!==h&&fs(a),pe(a),a.flags&=-16777217),null;case 27:Yi(a),c=xt.current;var g=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==h&&fs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return pe(a),null}r=pt.current,Kl(a)?w_(a):(r=$b(g,h,c),a.stateNode=r,fs(a))}return pe(a),null;case 5:if(Yi(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&fs(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return pe(a),null}if(r=pt.current,Kl(a))w_(a);else{switch(g=rd(xt.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}r[Pe]=a,r[Re]=h;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=r;t:switch(en(r,c,h),c){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&fs(a)}}return pe(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&fs(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(r=xt.current,Kl(a)){if(r=a.stateNode,c=a.memoizedProps,h=null,g=vn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}r[Pe]=a,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||zb(r.nodeValue,c)),r||pa(a)}else r=rd(r).createTextNode(h),r[Pe]=a,a.stateNode=r}return pe(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Kl(a),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Pe]=a}else Ql(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pe(a),g=!1}else g=S_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(hs(a),a):(hs(a),null)}if(hs(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,r=r!==null&&r.memoizedState!==null,c){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),Yh(a,a.updateQueue),pe(a),null;case 4:return _i(),r===null&&Qg(a.stateNode.containerInfo),pe(a),null;case 10:return cs(a.type),pe(a),null;case 19:if(ut(Ue),g=a.memoizedState,g===null)return pe(a),null;if(h=(a.flags&128)!==0,y=g.rendering,y===null)if(h)dc(g,!1);else{if(be!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Bh(r),y!==null){for(a.flags|=128,dc(g,!1),r=y.updateQueue,a.updateQueue=r,Yh(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)x_(c,r),c=c.sibling;return lt(Ue,Ue.current&1|2),a.child}r=r.sibling}g.tail!==null&&zn()>Kh&&(a.flags|=128,h=!0,dc(g,!1),a.lanes=4194304)}else{if(!h)if(r=Bh(y),r!==null){if(a.flags|=128,h=!0,r=r.updateQueue,a.updateQueue=r,Yh(a,r),dc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!$t)return pe(a),null}else 2*zn()-g.renderingStartTime>Kh&&c!==536870912&&(a.flags|=128,h=!0,dc(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(r=g.last,r!==null?r.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=zn(),a.sibling=null,r=Ue.current,lt(Ue,h?r&1|2:r&1),a):(pe(a),null);case 22:case 23:return hs(a),Zm(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(pe(a),a.subtreeFlags&6&&(a.flags|=8192)):pe(a),c=a.updateQueue,c!==null&&Yh(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),r!==null&&ut(va),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),cs(je),pe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function BR(r,a){switch(jm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return cs(je),_i(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Yi(a),null;case 13:if(hs(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ql()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ut(Ue),null;case 4:return _i(),null;case 10:return cs(a.type),null;case 22:case 23:return hs(a),Zm(),r!==null&&ut(va),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return cs(je),null;case 25:return null;default:return null}}function Wv(r,a){switch(jm(a),a.tag){case 3:cs(je),_i();break;case 26:case 27:case 5:Yi(a);break;case 4:_i();break;case 13:hs(a);break;case 19:ut(Ue);break;case 10:cs(a.type);break;case 22:case 23:hs(a),Zm(),r!==null&&ut(va);break;case 24:cs(je)}}function fc(r,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&r)===r){h=void 0;var y=c.create,T=c.inst;h=y(),T.destroy=h}c=c.next}while(c!==g)}}catch(I){se(a,a.return,I)}}function Qs(r,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&r)===r){var T=h.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,g=a;var j=c,K=I;try{K()}catch(et){se(g,j,et)}}}h=h.next}while(h!==y)}}catch(et){se(a,a.return,et)}}function Kv(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{L_(a,c)}catch(h){se(r,r.return,h)}}}function Qv(r,a,c){c.props=xa(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){se(r,a,h)}}function mc(r,a){try{var c=r.ref;if(c!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof c=="function"?r.refCleanup=c(h):c.current=h}}catch(g){se(r,a,g)}}function Ni(r,a){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){se(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){se(r,a,g)}else c.current=null}function Xv(r){var a=r.type,c=r.memoizedProps,h=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){se(r,r.return,g)}}function Ag(r,a,c){try{var h=r.stateNode;l2(h,r.type,c,a),h[Re]=a}catch(g){se(r,r.return,g)}}function Zv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&sr(r.type)||r.tag===4}function Rg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Zv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&sr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cg(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(r,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(r),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=sd));else if(h!==4&&(h===27&&sr(r.type)&&(c=r.stateNode,a=null),r=r.child,r!==null))for(Cg(r,a,c),r=r.sibling;r!==null;)Cg(r,a,c),r=r.sibling}function $h(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(h!==4&&(h===27&&sr(r.type)&&(c=r.stateNode),r=r.child,r!==null))for($h(r,a,c),r=r.sibling;r!==null;)$h(r,a,c),r=r.sibling}function Jv(r){var a=r.stateNode,c=r.memoizedProps;try{for(var h=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);en(a,h,c),a[Pe]=r,a[Re]=c}catch(y){se(r,r.return,y)}}var ms=!1,Te=!1,Ig=!1,tb=typeof WeakSet=="function"?WeakSet:Set,$e=null;function FR(r,a){if(r=r.containerInfo,Jg=hd,r=h_(r),Rm(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var T=0,I=-1,j=-1,K=0,et=0,it=r,Q=null;e:for(;;){for(var Z;it!==c||g!==0&&it.nodeType!==3||(I=T+g),it!==y||h!==0&&it.nodeType!==3||(j=T+h),it.nodeType===3&&(T+=it.nodeValue.length),(Z=it.firstChild)!==null;)Q=it,it=Z;for(;;){if(it===r)break e;if(Q===c&&++K===g&&(I=T),Q===y&&++et===h&&(j=T),(Z=it.nextSibling)!==null)break;it=Q,Q=it.parentNode}it=Z}c=I===-1||j===-1?null:{start:I,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(tp={focusedElem:r,selectionRange:c},hd=!1,$e=a;$e!==null;)if(a=$e,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,$e=r;else for(;$e!==null;){switch(a=$e,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,c=a,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Rt=xa(c.type,g,c.elementType===c.type);r=h.getSnapshotBeforeUpdate(Rt,y),h.__reactInternalSnapshotBeforeUpdate=r}catch(wt){se(c,c.return,wt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)ip(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ip(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,$e=r;break}$e=a.return}}function eb(r,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Xs(r,c),h&4&&fc(5,c);break;case 1:if(Xs(r,c),h&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(T){se(c,c.return,T)}else{var g=xa(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){se(c,c.return,T)}}h&64&&Kv(c),h&512&&mc(c,c.return);break;case 3:if(Xs(r,c),h&64&&(r=c.updateQueue,r!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{L_(r,a)}catch(T){se(c,c.return,T)}}break;case 27:a===null&&h&4&&Jv(c);case 26:case 5:Xs(r,c),a===null&&h&4&&Xv(c),h&512&&mc(c,c.return);break;case 12:Xs(r,c);break;case 13:Xs(r,c),h&4&&sb(r,c),h&64&&(r=c.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(c=XR.bind(null,c),g2(r,c))));break;case 22:if(h=c.memoizedState!==null||ms,!h){a=a!==null&&a.memoizedState!==null||Te,g=ms;var y=Te;ms=h,(Te=a)&&!y?Zs(r,c,(c.subtreeFlags&8772)!==0):Xs(r,c),ms=g,Te=y}break;case 30:break;default:Xs(r,c)}}function nb(r){var a=r.alternate;a!==null&&(r.alternate=null,nb(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Us(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var de=null,xn=!1;function gs(r,a,c){for(c=c.child;c!==null;)ib(r,a,c),c=c.sibling}function ib(r,a,c){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(_e,c)}catch{}switch(c.tag){case 26:Te||Ni(c,a),gs(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Te||Ni(c,a);var h=de,g=xn;sr(c.type)&&(de=c.stateNode,xn=!1),gs(r,a,c),wc(c.stateNode),de=h,xn=g;break;case 5:Te||Ni(c,a);case 6:if(h=de,g=xn,de=null,gs(r,a,c),de=h,xn=g,de!==null)if(xn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(c.stateNode)}catch(y){se(c,a,y)}else try{de.removeChild(c.stateNode)}catch(y){se(c,a,y)}break;case 18:de!==null&&(xn?(r=de,Gb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,c.stateNode),Mc(r)):Gb(de,c.stateNode));break;case 4:h=de,g=xn,de=c.stateNode.containerInfo,xn=!0,gs(r,a,c),de=h,xn=g;break;case 0:case 11:case 14:case 15:Te||Qs(2,c,a),Te||Qs(4,c,a),gs(r,a,c);break;case 1:Te||(Ni(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Qv(c,a,h)),gs(r,a,c);break;case 21:gs(r,a,c);break;case 22:Te=(h=Te)||c.memoizedState!==null,gs(r,a,c),Te=h;break;default:gs(r,a,c)}}function sb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Mc(r)}catch(c){se(a,a.return,c)}}function HR(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new tb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new tb),a;default:throw Error(i(435,r.tag))}}function Dg(r,a){var c=HR(r);a.forEach(function(h){var g=ZR.bind(null,r,h);c.has(h)||(c.add(h),h.then(g,g))})}function Mn(r,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=r,T=a,I=T;t:for(;I!==null;){switch(I.tag){case 27:if(sr(I.type)){de=I.stateNode,xn=!1;break t}break;case 5:de=I.stateNode,xn=!1;break t;case 3:case 4:de=I.stateNode.containerInfo,xn=!0;break t}I=I.return}if(de===null)throw Error(i(160));ib(y,T,g),de=null,xn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)rb(a,r),a=a.sibling}var ai=null;function rb(r,a){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(a,r),Nn(r),h&4&&(Qs(3,r,r.return),fc(3,r),Qs(5,r,r.return));break;case 1:Mn(a,r),Nn(r),h&512&&(Te||c===null||Ni(c,c.return)),h&64&&ms&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=ai;if(Mn(a,r),Nn(r),h&512&&(Te||c===null||Ni(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){t:{h=r.type,c=r.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Qr]||y[Pe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),en(y,h,c),y[Pe]=r,Ee(y),h=y;break t;case"link":var T=Jb("link","href",g).get(h+(c.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(I,1);break e}}y=g.createElement(h),en(y,h,c),g.head.appendChild(y);break;case"meta":if(T=Jb("meta","content",g).get(h+(c.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(I,1);break e}}y=g.createElement(h),en(y,h,c),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Pe]=r,Ee(y),h=y}r.stateNode=h}else tx(g,r.type,r.stateNode);else r.stateNode=Zb(g,h,r.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?tx(g,r.type,r.stateNode):Zb(g,h,r.memoizedProps)):h===null&&r.stateNode!==null&&Ag(r,r.memoizedProps,c.memoizedProps)}break;case 27:Mn(a,r),Nn(r),h&512&&(Te||c===null||Ni(c,c.return)),c!==null&&h&4&&Ag(r,r.memoizedProps,c.memoizedProps);break;case 5:if(Mn(a,r),Nn(r),h&512&&(Te||c===null||Ni(c,c.return)),r.flags&32){g=r.stateNode;try{Fn(g,"")}catch(Z){se(r,r.return,Z)}}h&4&&r.stateNode!=null&&(g=r.memoizedProps,Ag(r,g,c!==null?c.memoizedProps:g)),h&1024&&(Ig=!0);break;case 6:if(Mn(a,r),Nn(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(Z){se(r,r.return,Z)}}break;case 3:if(ld=null,g=ai,ai=ad(a.containerInfo),Mn(a,r),ai=g,Nn(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Mc(a.containerInfo)}catch(Z){se(r,r.return,Z)}Ig&&(Ig=!1,ab(r));break;case 4:h=ai,ai=ad(r.stateNode.containerInfo),Mn(a,r),Nn(r),ai=h;break;case 12:Mn(a,r),Nn(r);break;case 13:Mn(a,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Lg=zn()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Dg(r,h)));break;case 22:g=r.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,K=ms,et=Te;if(ms=K||g,Te=et||j,Mn(a,r),Te=et,ms=K,Nn(r),h&8192)t:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||j||ms||Te||Ea(r)),c=null,a=r;;){if(a.tag===5||a.tag===26){if(c===null){j=c=a;try{if(y=j.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=j.stateNode;var it=j.memoizedProps.style,Q=it!=null&&it.hasOwnProperty("display")?it.display:null;I.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Z){se(j,j.return,Z)}}}else if(a.tag===6){if(c===null){j=a;try{j.stateNode.nodeValue=g?"":j.memoizedProps}catch(Z){se(j,j.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Dg(r,c))));break;case 19:Mn(a,r),Nn(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Dg(r,h)));break;case 30:break;case 21:break;default:Mn(a,r),Nn(r)}}function Nn(r){var a=r.flags;if(a&2){try{for(var c,h=r.return;h!==null;){if(Zv(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,y=Rg(r);$h(r,y,g);break;case 5:var T=c.stateNode;c.flags&32&&(Fn(T,""),c.flags&=-33);var I=Rg(r);$h(r,I,T);break;case 3:case 4:var j=c.stateNode.containerInfo,K=Rg(r);Cg(r,K,j);break;default:throw Error(i(161))}}catch(et){se(r,r.return,et)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function ab(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;ab(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Xs(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)eb(r,a.alternate,a),a=a.sibling}function Ea(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Qs(4,a,a.return),Ea(a);break;case 1:Ni(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Qv(a,a.return,c),Ea(a);break;case 27:wc(a.stateNode);case 26:case 5:Ni(a,a.return),Ea(a);break;case 22:a.memoizedState===null&&Ea(a);break;case 30:Ea(a);break;default:Ea(a)}r=r.sibling}}function Zs(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:Zs(g,y,c),fc(4,y);break;case 1:if(Zs(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){se(h,h.return,K)}if(h=y,g=h.updateQueue,g!==null){var I=h.stateNode;try{var j=g.shared.hiddenCallbacks;if(j!==null)for(g.shared.hiddenCallbacks=null,g=0;g<j.length;g++)P_(j[g],I)}catch(K){se(h,h.return,K)}}c&&T&64&&Kv(y),mc(y,y.return);break;case 27:Jv(y);case 26:case 5:Zs(g,y,c),c&&h===null&&T&4&&Xv(y),mc(y,y.return);break;case 12:Zs(g,y,c);break;case 13:Zs(g,y,c),c&&T&4&&sb(g,y);break;case 22:y.memoizedState===null&&Zs(g,y,c),mc(y,y.return);break;case 30:break;default:Zs(g,y,c)}a=a.sibling}}function Mg(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Jl(c))}function Ng(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Jl(r))}function ki(r,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ob(r,a,c,h),a=a.sibling}function ob(r,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:ki(r,a,c,h),g&2048&&fc(9,a);break;case 1:ki(r,a,c,h);break;case 3:ki(r,a,c,h),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Jl(r)));break;case 12:if(g&2048){ki(r,a,c,h),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){se(a,a.return,j)}}else ki(r,a,c,h);break;case 13:ki(r,a,c,h);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?ki(r,a,c,h):gc(r,a):y._visibility&2?ki(r,a,c,h):(y._visibility|=2,ko(r,a,c,h,(a.subtreeFlags&10256)!==0)),g&2048&&Mg(T,a);break;case 24:ki(r,a,c,h),g&2048&&Ng(a.alternate,a);break;default:ki(r,a,c,h)}}function ko(r,a,c,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,T=a,I=c,j=h,K=T.flags;switch(T.tag){case 0:case 11:case 15:ko(y,T,I,j,g),fc(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?ko(y,T,I,j,g):gc(y,T):(et._visibility|=2,ko(y,T,I,j,g)),g&&K&2048&&Mg(T.alternate,T);break;case 24:ko(y,T,I,j,g),g&&K&2048&&Ng(T.alternate,T);break;default:ko(y,T,I,j,g)}a=a.sibling}}function gc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,h=a,g=h.flags;switch(h.tag){case 22:gc(c,h),g&2048&&Mg(h.alternate,h);break;case 24:gc(c,h),g&2048&&Ng(h.alternate,h);break;default:gc(c,h)}a=a.sibling}}var pc=8192;function Oo(r){if(r.subtreeFlags&pc)for(r=r.child;r!==null;)lb(r),r=r.sibling}function lb(r){switch(r.tag){case 26:Oo(r),r.flags&pc&&r.memoizedState!==null&&C2(ai,r.memoizedState,r.memoizedProps);break;case 5:Oo(r);break;case 3:case 4:var a=ai;ai=ad(r.stateNode.containerInfo),Oo(r),ai=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=pc,pc=16777216,Oo(r),pc=a):Oo(r));break;default:Oo(r)}}function cb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function yc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];$e=h,hb(h,r)}cb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ub(r),r=r.sibling}function ub(r){switch(r.tag){case 0:case 11:case 15:yc(r),r.flags&2048&&Qs(9,r,r.return);break;case 3:yc(r);break;case 12:yc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Wh(r)):yc(r);break;default:yc(r)}}function Wh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];$e=h,hb(h,r)}cb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Qs(8,a,a.return),Wh(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Wh(a));break;default:Wh(a)}r=r.sibling}}function hb(r,a){for(;$e!==null;){var c=$e;switch(c.tag){case 0:case 11:case 15:Qs(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Jl(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,$e=h;else t:for(c=r;$e!==null;){h=$e;var g=h.sibling,y=h.return;if(nb(h),h===c){$e=null;break t}if(g!==null){g.return=y,$e=g;break t}$e=y}}}var qR={getCacheForType:function(r){var a=on(je),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},GR=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Lt=null,qt=0,Zt=0,kn=null,Js=!1,Po=!1,kg=!1,ps=0,be=0,tr=0,wa=0,Og=0,Xn=0,Lo=0,_c=null,En=null,Pg=!1,Lg=0,Kh=1/0,Qh=null,er=null,tn=0,nr=null,Vo=null,jo=0,Vg=0,jg=null,db=null,vc=0,Ug=null;function On(){if((Xt&2)!==0&&qt!==0)return qt&-qt;if(X.T!==null){var r=So;return r!==0?r:Yg()}return Vs()}function fb(){Xn===0&&(Xn=(qt&536870912)===0||$t?Cl():536870912);var r=Qn.current;return r!==null&&(r.flags|=32),Xn}function Pn(r,a,c){(r===ae&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)&&(Uo(r,0),ir(r,qt,Xn,!1)),Wi(r,c),((Xt&2)===0||r!==ae)&&(r===ae&&((Xt&2)===0&&(wa|=c),be===4&&ir(r,qt,Xn,!1)),Oi(r))}function mb(r,a,c){if((Xt&6)!==0)throw Error(i(327));var h=!c&&(a&124)===0&&(a&r.expiredLanes)===0||Kr(r,a),g=h?WR(r,a):Fg(r,a,!0),y=h;do{if(g===0){Po&&!h&&ir(r,a,0,!1);break}else{if(c=r.current.alternate,y&&!YR(c)){g=Fg(r,a,!1),y=!1;continue}if(g===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var I=r;g=_c;var j=I.current.memoizedState.isDehydrated;if(j&&(Uo(I,T).flags|=256),T=Fg(I,T,!1),T!==2){if(kg&&!j){I.errorRecoveryDisabledLanes|=y,wa|=y,g=4;break t}y=En,En=g,y!==null&&(En===null?En=y:En.push.apply(En,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){Uo(r,0),ir(r,a,0,!0);break}t:{switch(h=r,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ir(h,a,Xn,!Js);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Lg+300-zn(),10<g)){if(ir(h,a,Xn,!Js),eo(h,0,!0)!==0)break t;h.timeoutHandle=Hb(gb.bind(null,h,c,En,Qh,Pg,a,Xn,wa,Lo,Js,y,2,-0,0),g);break t}gb(h,c,En,Qh,Pg,a,Xn,wa,Lo,Js,y,0,-0,0)}}break}while(!0);Oi(r)}function gb(r,a,c,h,g,y,T,I,j,K,et,it,Q,Z){if(r.timeoutHandle=-1,it=a.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(Ac={stylesheets:null,count:0,unsuspend:R2},lb(a),it=I2(),it!==null)){r.cancelPendingCommit=it(Eb.bind(null,r,a,y,c,h,g,T,I,j,et,1,Q,Z)),ir(r,y,T,!K);return}Eb(r,a,y,c,h,g,T,I,j)}function YR(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!In(y(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ir(r,a,c,h){a&=~Og,a&=~wa,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var g=a;0<g;){var y=31-an(g),T=1<<y;h[y]=-1,g&=~T}c!==0&&vi(r,c,a)}function Xh(){return(Xt&6)===0?(bc(0),!1):!0}function zg(){if(Lt!==null){if(Zt===0)var r=Lt.return;else r=Lt,ls=ya=null,ig(r),Mo=null,uc=0,r=Lt;for(;r!==null;)Wv(r.alternate,r),r=r.return;Lt=null}}function Uo(r,a){var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,u2(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),zg(),ae=r,Lt=c=rs(r.current,null),qt=a,Zt=0,kn=null,Js=!1,Po=Kr(r,a),kg=!1,Lo=Xn=Og=wa=tr=be=0,En=_c=null,Pg=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var g=31-an(h),y=1<<g;a|=r[g],h&=~y}return ps=a,vh(),c}function pb(r,a){kt=null,X.H=jh,a===ec||a===Ch?(a=k_(),Zt=3):a===D_?(a=k_(),Zt=4):Zt=a===Ov?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,kn=a,Lt===null&&(be=1,Hh(r,Yn(a,r.current)))}function yb(){var r=X.H;return X.H=jh,r===null?jh:r}function _b(){var r=X.A;return X.A=qR,r}function Bg(){be=4,Js||(qt&4194048)!==qt&&Qn.current!==null||(Po=!0),(tr&134217727)===0&&(wa&134217727)===0||ae===null||ir(ae,qt,Xn,!1)}function Fg(r,a,c){var h=Xt;Xt|=2;var g=yb(),y=_b();(ae!==r||qt!==a)&&(Qh=null,Uo(r,a)),a=!1;var T=be;t:do try{if(Zt!==0&&Lt!==null){var I=Lt,j=kn;switch(Zt){case 8:zg(),T=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(a=!0);var K=Zt;if(Zt=0,kn=null,zo(r,I,j,K),c&&Po){T=0;break t}break;default:K=Zt,Zt=0,kn=null,zo(r,I,j,K)}}$R(),T=be;break}catch(et){pb(r,et)}while(!0);return a&&r.shellSuspendCounter++,ls=ya=null,Xt=h,X.H=g,X.A=y,Lt===null&&(ae=null,qt=0,vh()),T}function $R(){for(;Lt!==null;)vb(Lt)}function WR(r,a){var c=Xt;Xt|=2;var h=yb(),g=_b();ae!==r||qt!==a?(Qh=null,Kh=zn()+500,Uo(r,a)):Po=Kr(r,a);t:do try{if(Zt!==0&&Lt!==null){a=Lt;var y=kn;e:switch(Zt){case 1:Zt=0,kn=null,zo(r,a,y,1);break;case 2:case 9:if(M_(y)){Zt=0,kn=null,bb(a);break}a=function(){Zt!==2&&Zt!==9||ae!==r||(Zt=7),Oi(r)},y.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:M_(y)?(Zt=0,kn=null,bb(a)):(Zt=0,kn=null,zo(r,a,y,7));break;case 5:var T=null;switch(Lt.tag){case 26:T=Lt.memoizedState;case 5:case 27:var I=Lt;if(!T||ex(T)){Zt=0,kn=null;var j=I.sibling;if(j!==null)Lt=j;else{var K=I.return;K!==null?(Lt=K,Zh(K)):Lt=null}break e}}Zt=0,kn=null,zo(r,a,y,5);break;case 6:Zt=0,kn=null,zo(r,a,y,6);break;case 8:zg(),be=6;break t;default:throw Error(i(462))}}KR();break}catch(et){pb(r,et)}while(!0);return ls=ya=null,X.H=h,X.A=g,Xt=c,Lt!==null?0:(ae=null,qt=0,vh(),be)}function KR(){for(;Lt!==null&&!Tl();)vb(Lt)}function vb(r){var a=Yv(r.alternate,r,ps);r.memoizedProps=r.pendingProps,a===null?Zh(r):Lt=a}function bb(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=zv(c,a,a.pendingProps,a.type,void 0,qt);break;case 11:a=zv(c,a,a.pendingProps,a.type.render,a.ref,qt);break;case 5:ig(a);default:Wv(c,a),a=Lt=x_(a,ps),a=Yv(c,a,ps)}r.memoizedProps=r.pendingProps,a===null?Zh(r):Lt=a}function zo(r,a,c,h){ls=ya=null,ig(a),Mo=null,uc=0;var g=a.return;try{if(jR(r,g,a,c,qt)){be=1,Hh(r,Yn(c,r.current)),Lt=null;return}}catch(y){if(g!==null)throw Lt=g,y;be=1,Hh(r,Yn(c,r.current)),Lt=null;return}a.flags&32768?($t||h===1?r=!0:Po||(qt&536870912)!==0?r=!1:(Js=r=!0,(h===2||h===9||h===3||h===6)&&(h=Qn.current,h!==null&&h.tag===13&&(h.flags|=16384))),xb(a,r)):Zh(a)}function Zh(r){var a=r;do{if((a.flags&32768)!==0){xb(a,Js);return}r=a.return;var c=zR(a.alternate,a,ps);if(c!==null){Lt=c;return}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=r}while(a!==null);be===0&&(be=5)}function xb(r,a){do{var c=BR(r.alternate,r);if(c!==null){c.flags&=32767,Lt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Lt=r;return}Lt=r=c}while(r!==null);be=6,Lt=null}function Eb(r,a,c,h,g,y,T,I,j){r.cancelPendingCommit=null;do Jh();while(tn!==0);if((Xt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Nm,Dl(r,c,y,T,I,j),r===ae&&(Lt=ae=null,qt=0),Vo=a,nr=r,jo=c,Vg=y,jg=g,db=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,JR(Gr,function(){return Rb(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=X.T,X.T=null,g=ot.p,ot.p=2,T=Xt,Xt|=4;try{FR(r,a,c)}finally{Xt=T,ot.p=g,X.T=h}}tn=1,wb(),Tb(),Sb()}}function wb(){if(tn===1){tn=0;var r=nr,a=Vo,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var g=Xt;Xt|=4;try{rb(a,r);var y=tp,T=h_(r.containerInfo),I=y.focusedElem,j=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&u_(I.ownerDocument.documentElement,I)){if(j!==null&&Rm(I)){var K=j.start,et=j.end;if(et===void 0&&(et=K),"selectionStart"in I)I.selectionStart=K,I.selectionEnd=Math.min(et,I.value.length);else{var it=I.ownerDocument||document,Q=it&&it.defaultView||window;if(Q.getSelection){var Z=Q.getSelection(),Rt=I.textContent.length,wt=Math.min(j.start,Rt),ie=j.end===void 0?wt:Math.min(j.end,Rt);!Z.extend&&wt>ie&&(T=ie,ie=wt,wt=T);var G=c_(I,wt),q=c_(I,ie);if(G&&q&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==q.node||Z.focusOffset!==q.offset)){var $=it.createRange();$.setStart(G.node,G.offset),Z.removeAllRanges(),wt>ie?(Z.addRange($),Z.extend(q.node,q.offset)):($.setEnd(q.node,q.offset),Z.addRange($))}}}}for(it=[],Z=I;Z=Z.parentNode;)Z.nodeType===1&&it.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<it.length;I++){var nt=it[I];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}hd=!!Jg,tp=Jg=null}finally{Xt=g,ot.p=h,X.T=c}}r.current=a,tn=2}}function Tb(){if(tn===2){tn=0;var r=nr,a=Vo,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var g=Xt;Xt|=4;try{eb(r,a.alternate,a)}finally{Xt=g,ot.p=h,X.T=c}}tn=3}}function Sb(){if(tn===4||tn===3){tn=0,Wu();var r=nr,a=Vo,c=jo,h=db;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?tn=5:(tn=0,Vo=nr=null,Ab(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(er=null),no(c),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(_e,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=X.T,g=ot.p,ot.p=2,X.T=null;try{for(var y=r.onRecoverableError,T=0;T<h.length;T++){var I=h[T];y(I.value,{componentStack:I.stack})}}finally{X.T=a,ot.p=g}}(jo&3)!==0&&Jh(),Oi(r),g=r.pendingLanes,(c&4194090)!==0&&(g&42)!==0?r===Ug?vc++:(vc=0,Ug=r):vc=0,bc(0)}}function Ab(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Jl(a)))}function Jh(r){return wb(),Tb(),Sb(),Rb()}function Rb(){if(tn!==5)return!1;var r=nr,a=Vg;Vg=0;var c=no(jo),h=X.T,g=ot.p;try{ot.p=32>c?32:c,X.T=null,c=jg,jg=null;var y=nr,T=jo;if(tn=0,Vo=nr=null,jo=0,(Xt&6)!==0)throw Error(i(331));var I=Xt;if(Xt|=4,ub(y.current),ob(y,y.current,T,c),Xt=I,bc(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(_e,y)}catch{}return!0}finally{ot.p=g,X.T=h,Ab(r,a)}}function Cb(r,a,c){a=Yn(c,a),a=yg(r.stateNode,a,2),r=Ys(r,a,2),r!==null&&(Wi(r,2),Oi(r))}function se(r,a,c){if(r.tag===3)Cb(r,r,c);else for(;a!==null;){if(a.tag===3){Cb(a,r,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(er===null||!er.has(h))){r=Yn(c,r),c=Nv(2),h=Ys(a,c,2),h!==null&&(kv(c,h,a,r),Wi(h,2),Oi(h));break}}a=a.return}}function Hg(r,a,c){var h=r.pingCache;if(h===null){h=r.pingCache=new GR;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(kg=!0,g.add(c),r=QR.bind(null,r,a,c),a.then(r,r))}function QR(r,a,c){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,ae===r&&(qt&c)===c&&(be===4||be===3&&(qt&62914560)===qt&&300>zn()-Lg?(Xt&2)===0&&Uo(r,0):Og|=c,Lo===qt&&(Lo=0)),Oi(r)}function Ib(r,a){a===0&&(a=Il()),r=xo(r,a),r!==null&&(Wi(r,a),Oi(r))}function XR(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),Ib(r,c)}function ZR(r,a){var c=0;switch(r.tag){case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),Ib(r,c)}function JR(r,a){return Hr(r,a)}var td=null,Bo=null,qg=!1,ed=!1,Gg=!1,Ta=0;function Oi(r){r!==Bo&&r.next===null&&(Bo===null?td=Bo=r:Bo=Bo.next=r),ed=!0,qg||(qg=!0,e2())}function bc(r,a){if(!Gg&&ed){Gg=!0;do for(var c=!1,h=td;h!==null;){if(r!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var T=h.suspendedLanes,I=h.pingedLanes;y=(1<<31-an(42|r)+1)-1,y&=g&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,kb(h,y))}else y=qt,y=eo(h,h===ae?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Kr(h,y)||(c=!0,kb(h,y));h=h.next}while(c);Gg=!1}}function t2(){Db()}function Db(){ed=qg=!1;var r=0;Ta!==0&&(c2()&&(r=Ta),Ta=0);for(var a=zn(),c=null,h=td;h!==null;){var g=h.next,y=Mb(h,a);y===0?(h.next=null,c===null?td=g:c.next=g,g===null&&(Bo=c)):(c=h,(r!==0||(y&3)!==0)&&(ed=!0)),h=g}bc(r)}function Mb(r,a){for(var c=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-an(y),I=1<<T,j=g[T];j===-1?((I&c)===0||(I&h)!==0)&&(g[T]=Rl(I,a)):j<=a&&(r.expiredLanes|=I),y&=~I}if(a=ae,c=qt,c=eo(r,r===a?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,c===0||r===a&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&qr(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||Kr(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(h!==null&&qr(h),no(c)){case 2:case 8:c=Ja;break;case 32:c=Gr;break;case 268435456:c=to;break;default:c=Gr}return h=Nb.bind(null,r),c=Hr(c,h),r.callbackPriority=a,r.callbackNode=c,a}return h!==null&&h!==null&&qr(h),r.callbackPriority=2,r.callbackNode=null,2}function Nb(r,a){if(tn!==0&&tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var c=r.callbackNode;if(Jh()&&r.callbackNode!==c)return null;var h=qt;return h=eo(r,r===ae?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(mb(r,h,a),Mb(r,zn()),r.callbackNode!=null&&r.callbackNode===c?Nb.bind(null,r):null)}function kb(r,a){if(Jh())return null;mb(r,a,!0)}function e2(){h2(function(){(Xt&6)!==0?Hr(Sl,t2):Db()})}function Yg(){return Ta===0&&(Ta=Cl()),Ta}function Ob(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:lo(""+r)}function Pb(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function n2(r,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var y=Ob((g[Re]||null).action),T=h.submitter;T&&(a=(a=T[Re]||null)?Ob(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var I=new co("action","action",null,h,g);r.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ta!==0){var j=T?Pb(g,T):new FormData(g);dg(c,{pending:!0,data:j,method:g.method,action:y},null,j)}}else typeof y=="function"&&(I.preventDefault(),j=T?Pb(g,T):new FormData(g),dg(c,{pending:!0,data:j,method:g.method,action:y},y,j))},currentTarget:g}]})}}for(var $g=0;$g<Mm.length;$g++){var Wg=Mm[$g],i2=Wg.toLowerCase(),s2=Wg[0].toUpperCase()+Wg.slice(1);ri(i2,"on"+s2)}ri(m_,"onAnimationEnd"),ri(g_,"onAnimationIteration"),ri(p_,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(xR,"onTransitionRun"),ri(ER,"onTransitionStart"),ri(wR,"onTransitionCancel"),ri(y_,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function Lb(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var T=h.length-1;0<=T;T--){var I=h[T],j=I.instance,K=I.currentTarget;if(I=I.listener,j!==y&&g.isPropagationStopped())break t;y=I,g.currentTarget=K;try{y(g)}catch(et){Fh(et)}g.currentTarget=null,y=j}else for(T=0;T<h.length;T++){if(I=h[T],j=I.instance,K=I.currentTarget,I=I.listener,j!==y&&g.isPropagationStopped())break t;y=I,g.currentTarget=K;try{y(g)}catch(et){Fh(et)}g.currentTarget=null,y=j}}}}function Vt(r,a){var c=a[Nl];c===void 0&&(c=a[Nl]=new Set);var h=r+"__bubble";c.has(h)||(Vb(a,r,2,!1),c.add(h))}function Kg(r,a,c){var h=0;a&&(h|=4),Vb(c,r,h,a)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Qg(r){if(!r[nd]){r[nd]=!0,kl.forEach(function(c){c!=="selectionchange"&&(r2.has(c)||Kg(c,!1,r),Kg(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[nd]||(a[nd]=!0,Kg("selectionchange",!1,a))}}function Vb(r,a,c,h){switch(ox(a)){case 2:var g=N2;break;case 8:g=k2;break;default:g=up}c=g.bind(null,a,c,r),g=void 0,!qn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(a,c,{capture:!0,passive:g}):r.addEventListener(a,c,!0):g!==void 0?r.addEventListener(a,c,{passive:g}):r.addEventListener(a,c,!1)}function Xg(r,a,c,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var I=h.stateNode.containerInfo;if(I===g)break;if(T===4)for(T=h.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;I!==null;){if(T=Ki(I),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){h=y=T;continue t}I=I.parentNode}}h=h.return}sh(function(){var K=y,et=Hn(c),it=[];t:{var Q=__.get(r);if(Q!==void 0){var Z=co,Rt=r;switch(r){case"keypress":if(Si(c)===0)break t;case"keydown":case"keyup":Z=po;break;case"focusin":Rt="focus",Z=fo;break;case"focusout":Rt="blur",Z=fo;break;case"beforeblur":case"afterblur":Z=fo;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=dh;break;case m_:case g_:case p_:Z=mo;break;case y_:Z=mh;break;case"scroll":case"scrollend":Z=rh;break;case"wheel":Z=yo;break;case"copy":case"cut":case"paste":Z=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Gl;break;case"toggle":case"beforetoggle":Z=ph}var wt=(a&4)!==0,ie=!wt&&(r==="scroll"||r==="scrollend"),G=wt?Q!==null?Q+"Capture":null:Q;wt=[];for(var q=K,$;q!==null;){var nt=q;if($=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||$===null||G===null||(nt=ia(q,G),nt!=null&&wt.push(Ec(q,nt,$))),ie)break;q=q.return}0<wt.length&&(Q=new Z(Q,Rt,null,c,et),it.push({event:Q,listeners:wt}))}}if((a&7)===0){t:{if(Q=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",Q&&c!==Ji&&(Rt=c.relatedTarget||c.fromElement)&&(Ki(Rt)||Rt[Bn]))break t;if((Z||Q)&&(Q=et.window===et?et:(Q=et.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(Rt=c.relatedTarget||c.toElement,Z=K,Rt=Rt?Ki(Rt):null,Rt!==null&&(ie=o(Rt),wt=Rt.tag,Rt!==ie||wt!==5&&wt!==27&&wt!==6)&&(Rt=null)):(Z=null,Rt=K),Z!==Rt)){if(wt=Gn,nt="onMouseLeave",G="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(wt=Gl,nt="onPointerLeave",G="onPointerEnter",q="pointer"),ie=Z==null?Q:xi(Z),$=Rt==null?Q:xi(Rt),Q=new wt(nt,q+"leave",Z,c,et),Q.target=ie,Q.relatedTarget=$,nt=null,Ki(et)===K&&(wt=new wt(G,q+"enter",Rt,c,et),wt.target=$,wt.relatedTarget=ie,nt=wt),ie=nt,Z&&Rt)e:{for(wt=Z,G=Rt,q=0,$=wt;$;$=Fo($))q++;for($=0,nt=G;nt;nt=Fo(nt))$++;for(;0<q-$;)wt=Fo(wt),q--;for(;0<$-q;)G=Fo(G),$--;for(;q--;){if(wt===G||G!==null&&wt===G.alternate)break e;wt=Fo(wt),G=Fo(G)}wt=null}else wt=null;Z!==null&&jb(it,Q,Z,wt,!1),Rt!==null&&ie!==null&&jb(it,ie,Rt,wt,!0)}}t:{if(Q=K?xi(K):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var mt=i_;else if(Ve(Q))if(s_)mt=_R;else{mt=pR;var Pt=gR}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&jl(K.elementType)&&(mt=i_):mt=yR;if(mt&&(mt=mt(r,K))){ss(it,mt,c,et);break t}Pt&&Pt(r,Q,K),r==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Bs(Q,"number",Q.value)}switch(Pt=K?xi(K):window,r){case"focusin":(Ve(Pt)||Pt.contentEditable==="true")&&(_o=Pt,Cm=K,Wl=null);break;case"focusout":Wl=Cm=_o=null;break;case"mousedown":Im=!0;break;case"contextmenu":case"mouseup":case"dragend":Im=!1,d_(it,c,et);break;case"selectionchange":if(bR)break;case"keydown":case"keyup":d_(it,c,et)}var vt;if(Ci)t:{switch(r){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Ft?J(r,c)&&(Tt="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Tt="onCompositionStart");Tt&&(w&&c.locale!=="ko"&&(Ft||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ft&&(vt=zl()):(Ti=et,Fs="value"in Ti?Ti.value:Ti.textContent,Ft=!0)),Pt=id(K,Tt),0<Pt.length&&(Tt=new Hl(Tt,r,null,c,et),it.push({event:Tt,listeners:Pt}),vt?Tt.data=vt:(vt=ct(c),vt!==null&&(Tt.data=vt)))),(vt=b?Le(r,c):Ht(r,c))&&(Tt=id(K,"onBeforeInput"),0<Tt.length&&(Pt=new Hl("onBeforeInput","beforeinput",null,c,et),it.push({event:Pt,listeners:Tt}),Pt.data=vt)),n2(it,r,K,c,et)}Lb(it,a)})}function Ec(r,a,c){return{instance:r,listener:a,currentTarget:c}}function id(r,a){for(var c=a+"Capture",h=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ia(r,c),g!=null&&h.unshift(Ec(r,g,y)),g=ia(r,a),g!=null&&h.push(Ec(r,g,y))),r.tag===3)return h;r=r.return}return[]}function Fo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function jb(r,a,c,h,g){for(var y=a._reactName,T=[];c!==null&&c!==h;){var I=c,j=I.alternate,K=I.stateNode;if(I=I.tag,j!==null&&j===h)break;I!==5&&I!==26&&I!==27||K===null||(j=K,g?(K=ia(c,y),K!=null&&T.unshift(Ec(c,K,j))):g||(K=ia(c,y),K!=null&&T.push(Ec(c,K,j)))),c=c.return}T.length!==0&&r.push({event:a,listeners:T})}var a2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function Ub(r){return(typeof r=="string"?r:""+r).replace(a2,`
`).replace(o2,"")}function zb(r,a){return a=Ub(a),Ub(r)===a}function sd(){}function ne(r,a,c,h,g,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Fn(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Fn(r,""+h);break;case"className":Ei(r,"class",h);break;case"tabIndex":Ei(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(r,c,h);break;case"style":Vl(r,h,y);break;case"data":if(a!=="object"){Ei(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=lo(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&ne(r,a,"name",g.name,g,null),ne(r,a,"formEncType",g.formEncType,g,null),ne(r,a,"formMethod",g.formMethod,g,null),ne(r,a,"formTarget",g.formTarget,g,null)):(ne(r,a,"encType",g.encType,g,null),ne(r,a,"method",g.method,g,null),ne(r,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=lo(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=sd);break;case"onScroll":h!=null&&Vt("scroll",r);break;case"onScrollEnd":h!=null&&Vt("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=lo(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":Vt("beforetoggle",r),Vt("toggle",r),zs(r,"popover",h);break;case"xlinkActuate":Xe(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Xe(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Xe(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Xe(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Xe(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Xe(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Xe(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Xe(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Xe(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zs(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=xm.get(c)||c,zs(r,c,h))}}function Zg(r,a,c,h,g,y){switch(c){case"style":Vl(r,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof h=="string"?Fn(r,h):(typeof h=="number"||typeof h=="bigint")&&Fn(r,""+h);break;case"onScroll":h!=null&&Vt("scroll",r);break;case"onScrollEnd":h!=null&&Vt("scrollend",r);break;case"onClick":h!=null&&(r.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),y=r[Re]||null,y=y!=null?y[c]:null,typeof y=="function"&&r.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,h,g);break t}c in r?r[c]=h:h===!0?r.setAttribute(c,""):zs(r,c,h)}}}function en(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",r),Vt("load",r);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var T=c[y];if(T!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(r,a,y,T,c,null)}}g&&ne(r,a,"srcSet",c.srcSet,c,null),h&&ne(r,a,"src",c.src,c,null);return;case"input":Vt("invalid",r);var I=y=T=g=null,j=null,K=null;for(h in c)if(c.hasOwnProperty(h)){var et=c[h];if(et!=null)switch(h){case"name":g=et;break;case"type":T=et;break;case"checked":j=et;break;case"defaultChecked":K=et;break;case"value":y=et;break;case"defaultValue":I=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:ne(r,a,h,et,c,null)}}ta(r,y,I,j,K,T,g,!1),oo(r);return;case"select":Vt("invalid",r),h=T=y=null;for(g in c)if(c.hasOwnProperty(g)&&(I=c[g],I!=null))switch(g){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":h=I;default:ne(r,a,g,I,c,null)}a=y,c=T,r.multiple=!!h,a!=null?Zi(r,!!h,a,!1):c!=null&&Zi(r,!!h,c,!0);return;case"textarea":Vt("invalid",r),y=g=h=null;for(T in c)if(c.hasOwnProperty(T)&&(I=c[T],I!=null))switch(T){case"value":h=I;break;case"defaultValue":g=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ne(r,a,T,I,c,null)}ea(r,h,g,y),oo(r);return;case"option":for(j in c)if(c.hasOwnProperty(j)&&(h=c[j],h!=null))switch(j){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ne(r,a,j,h,c,null)}return;case"dialog":Vt("beforetoggle",r),Vt("toggle",r),Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":Vt("load",r);break;case"video":case"audio":for(h=0;h<xc.length;h++)Vt(xc[h],r);break;case"image":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"embed":case"source":case"link":Vt("error",r),Vt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(r,a,K,h,c,null)}return;default:if(jl(a)){for(et in c)c.hasOwnProperty(et)&&(h=c[et],h!==void 0&&Zg(r,a,et,h,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(h=c[I],h!=null&&ne(r,a,I,h,c,null))}function l2(r,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,I=null,j=null,K=null,et=null;for(Z in c){var it=c[Z];if(c.hasOwnProperty(Z)&&it!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=it;default:h.hasOwnProperty(Z)||ne(r,a,Z,null,h,it)}}for(var Q in h){var Z=h[Q];if(it=c[Q],h.hasOwnProperty(Q)&&(Z!=null||it!=null))switch(Q){case"type":y=Z;break;case"name":g=Z;break;case"checked":K=Z;break;case"defaultChecked":et=Z;break;case"value":T=Z;break;case"defaultValue":I=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==it&&ne(r,a,Q,Z,h,it)}}Cn(r,T,I,j,K,et,y,g);return;case"select":Z=T=I=Q=null;for(y in c)if(j=c[y],c.hasOwnProperty(y)&&j!=null)switch(y){case"value":break;case"multiple":Z=j;default:h.hasOwnProperty(y)||ne(r,a,y,null,h,j)}for(g in h)if(y=h[g],j=c[g],h.hasOwnProperty(g)&&(y!=null||j!=null))switch(g){case"value":Q=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==j&&ne(r,a,g,y,h,j)}a=I,c=T,h=Z,Q!=null?Zi(r,!!c,Q,!1):!!h!=!!c&&(a!=null?Zi(r,!!c,a,!0):Zi(r,!!c,c?[]:"",!1));return;case"textarea":Z=Q=null;for(I in c)if(g=c[I],c.hasOwnProperty(I)&&g!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ne(r,a,I,null,h,g)}for(T in h)if(g=h[T],y=c[T],h.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":Q=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&ne(r,a,T,g,h,y)}te(r,Q,Z);return;case"option":for(var Rt in c)if(Q=c[Rt],c.hasOwnProperty(Rt)&&Q!=null&&!h.hasOwnProperty(Rt))switch(Rt){case"selected":r.selected=!1;break;default:ne(r,a,Rt,null,h,Q)}for(j in h)if(Q=h[j],Z=c[j],h.hasOwnProperty(j)&&Q!==Z&&(Q!=null||Z!=null))switch(j){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ne(r,a,j,Q,h,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in c)Q=c[wt],c.hasOwnProperty(wt)&&Q!=null&&!h.hasOwnProperty(wt)&&ne(r,a,wt,null,h,Q);for(K in h)if(Q=h[K],Z=c[K],h.hasOwnProperty(K)&&Q!==Z&&(Q!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:ne(r,a,K,Q,h,Z)}return;default:if(jl(a)){for(var ie in c)Q=c[ie],c.hasOwnProperty(ie)&&Q!==void 0&&!h.hasOwnProperty(ie)&&Zg(r,a,ie,void 0,h,Q);for(et in h)Q=h[et],Z=c[et],!h.hasOwnProperty(et)||Q===Z||Q===void 0&&Z===void 0||Zg(r,a,et,Q,h,Z);return}}for(var G in c)Q=c[G],c.hasOwnProperty(G)&&Q!=null&&!h.hasOwnProperty(G)&&ne(r,a,G,null,h,Q);for(it in h)Q=h[it],Z=c[it],!h.hasOwnProperty(it)||Q===Z||Q==null&&Z==null||ne(r,a,it,Q,h,Z)}var Jg=null,tp=null;function rd(r){return r.nodeType===9?r:r.ownerDocument}function Bb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ep(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var np=null;function c2(){var r=window.event;return r&&r.type==="popstate"?r===np?!1:(np=r,!0):(np=null,!1)}var Hb=typeof setTimeout=="function"?setTimeout:void 0,u2=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,h2=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(r){return qb.resolve(null).then(r).catch(d2)}:Hb;function d2(r){setTimeout(function(){throw r})}function sr(r){return r==="head"}function Gb(r,a){var c=a,h=0,g=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<h&&8>h){c=h;var T=r.ownerDocument;if(c&1&&wc(T.documentElement),c&2&&wc(T.body),c&4)for(c=T.head,wc(c),T=c.firstChild;T;){var I=T.nextSibling,j=T.nodeName;T[Qr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=I}}if(g===0){r.removeChild(y),Mc(a);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:h=c.charCodeAt(0)-48;else h=0;c=y}while(c);Mc(a)}function ip(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ip(c),Us(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function f2(r,a,c,h){for(;r.nodeType===1;){var g=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Qr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=oi(r.nextSibling),r===null)break}return null}function m2(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=oi(r.nextSibling),r===null))return null;return r}function sp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function g2(r,a){var c=r.ownerDocument;if(r.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function oi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var rp=null;function Yb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function $b(r,a,c){switch(a=rd(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function wc(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Us(r)}var Zn=new Map,Wb=new Set;function ad(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ys=ot.d;ot.d={f:p2,r:y2,D:_2,C:v2,L:b2,m:x2,X:w2,S:E2,M:T2};function p2(){var r=ys.f(),a=Xh();return r||a}function y2(r){var a=bi(r);a!==null&&a.tag===5&&a.type==="form"?mv(a):ys.r(r)}var Ho=typeof document>"u"?null:document;function Kb(r,a,c){var h=Ho;if(h&&typeof a=="string"&&a){var g=Ce(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Wb.has(g)||(Wb.add(g),r={rel:r,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),en(a,"link",r),Ee(a),h.head.appendChild(a)))}}function _2(r){ys.D(r),Kb("dns-prefetch",r,null)}function v2(r,a){ys.C(r,a),Kb("preconnect",r,a)}function b2(r,a,c){ys.L(r,a,c);var h=Ho;if(h&&r&&a){var g='link[rel="preload"][as="'+Ce(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Ce(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Ce(c.imageSizes)+'"]')):g+='[href="'+Ce(r)+'"]';var y=g;switch(a){case"style":y=qo(r);break;case"script":y=Go(r)}Zn.has(y)||(r=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),Zn.set(y,r),h.querySelector(g)!==null||a==="style"&&h.querySelector(Tc(y))||a==="script"&&h.querySelector(Sc(y))||(a=h.createElement("link"),en(a,"link",r),Ee(a),h.head.appendChild(a)))}}function x2(r,a){ys.m(r,a);var c=Ho;if(c&&r){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ce(h)+'"][href="'+Ce(r)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Go(r)}if(!Zn.has(y)&&(r=p({rel:"modulepreload",href:r},a),Zn.set(y,r),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Sc(y)))return}h=c.createElement("link"),en(h,"link",r),Ee(h),c.head.appendChild(h)}}}function E2(r,a,c){ys.S(r,a,c);var h=Ho;if(h&&r){var g=pn(h).hoistableStyles,y=qo(r);a=a||"default";var T=g.get(y);if(!T){var I={loading:0,preload:null};if(T=h.querySelector(Tc(y)))I.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},c),(c=Zn.get(y))&&ap(r,c);var j=T=h.createElement("link");Ee(j),en(j,"link",r),j._p=new Promise(function(K,et){j.onload=K,j.onerror=et}),j.addEventListener("load",function(){I.loading|=1}),j.addEventListener("error",function(){I.loading|=2}),I.loading|=4,od(T,a,h)}T={type:"stylesheet",instance:T,count:1,state:I},g.set(y,T)}}}function w2(r,a){ys.X(r,a);var c=Ho;if(c&&r){var h=pn(c).hoistableScripts,g=Go(r),y=h.get(g);y||(y=c.querySelector(Sc(g)),y||(r=p({src:r,async:!0},a),(a=Zn.get(g))&&op(r,a),y=c.createElement("script"),Ee(y),en(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function T2(r,a){ys.M(r,a);var c=Ho;if(c&&r){var h=pn(c).hoistableScripts,g=Go(r),y=h.get(g);y||(y=c.querySelector(Sc(g)),y||(r=p({src:r,async:!0,type:"module"},a),(a=Zn.get(g))&&op(r,a),y=c.createElement("script"),Ee(y),en(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Qb(r,a,c,h){var g=(g=xt.current)?ad(g):null;if(!g)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=qo(c.href),c=pn(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=qo(c.href);var y=pn(g).hoistableStyles,T=y.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=g.querySelector(Tc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),Zn.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Zn.set(r,c),y||S2(g,r,c,T.state))),a&&h===null)throw Error(i(528,""));return T}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Go(c),c=pn(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qo(r){return'href="'+Ce(r)+'"'}function Tc(r){return'link[rel="stylesheet"]['+r+"]"}function Xb(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function S2(r,a,c,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),en(a,"link",c),Ee(a),r.head.appendChild(a))}function Go(r){return'[src="'+Ce(r)+'"]'}function Sc(r){return"script[async]"+r}function Zb(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+Ce(c.href)+'"]');if(h)return a.instance=h,Ee(h),h;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Ee(h),en(h,"style",g),od(h,c.precedence,r),a.instance=h;case"stylesheet":g=qo(c.href);var y=r.querySelector(Tc(g));if(y)return a.state.loading|=4,a.instance=y,Ee(y),y;h=Xb(c),(g=Zn.get(g))&&ap(h,g),y=(r.ownerDocument||r).createElement("link"),Ee(y);var T=y;return T._p=new Promise(function(I,j){T.onload=I,T.onerror=j}),en(y,"link",h),a.state.loading|=4,od(y,c.precedence,r),a.instance=y;case"script":return y=Go(c.src),(g=r.querySelector(Sc(y)))?(a.instance=g,Ee(g),g):(h=c,(g=Zn.get(y))&&(h=p({},c),op(h,g)),r=r.ownerDocument||r,g=r.createElement("script"),Ee(g),en(g,"link",h),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,od(h,c.precedence,r));return a.instance}function od(r,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,T=0;T<h.length;T++){var I=h[T];if(I.dataset.precedence===a)y=I;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function ap(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function op(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var ld=null;function Jb(r,a,c){if(ld===null){var h=new Map,g=ld=new Map;g.set(c,h)}else g=ld,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),g=0;g<c.length;g++){var y=c[g];if(!(y[Qr]||y[Pe]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var I=h.get(T);I?I.push(y):h.set(T,[y])}}return h}function tx(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function A2(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ex(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ac=null;function R2(){}function C2(r,a,c){if(Ac===null)throw Error(i(475));var h=Ac;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=qo(c.href),y=r.querySelector(Tc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=cd.bind(h),r.then(h,h)),a.state.loading|=4,a.instance=y,Ee(y);return}y=r.ownerDocument||r,c=Xb(c),(g=Zn.get(g))&&ap(c,g),y=y.createElement("link"),Ee(y);var T=y;T._p=new Promise(function(I,j){T.onload=I,T.onerror=j}),en(y,"link",c),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=cd.bind(h),r.addEventListener("load",a),r.addEventListener("error",a))}}function I2(){if(Ac===null)throw Error(i(475));var r=Ac;return r.stylesheets&&r.count===0&&lp(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&lp(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)lp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ud=null;function lp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ud=new Map,a.forEach(D2,r),ud=null,cd.call(r))}function D2(r,a){if(!(a.state.loading&4)){var c=ud.get(r);if(c)var h=c.get(null);else{c=new Map,ud.set(r,c);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),h=T)}h&&c.set(null,h)}g=a.instance,T=g.getAttribute("data-precedence"),y=c.get(T)||h,y===h&&c.set(null,g),c.set(T,g),this.count++,h=cd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var Rc={$$typeof:z,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function M2(r,a,c,h,g,y,T,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function nx(r,a,c,h,g,y,T,I,j,K,et,it){return r=new M2(r,a,c,T,I,j,K,it),a=1,y===!0&&(a|=24),y=Dn(3,null,null,a),r.current=y,y.stateNode=r,a=Hm(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},$m(y),r}function ix(r){return r?(r=Eo,r):Eo}function sx(r,a,c,h,g,y){g=ix(g),h.context===null?h.context=g:h.pendingContext=g,h=Gs(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Ys(r,h,a),c!==null&&(Pn(c,r,a),ic(c,r,a))}function rx(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function cp(r,a){rx(r,a),(r=r.alternate)&&rx(r,a)}function ax(r){if(r.tag===13){var a=xo(r,67108864);a!==null&&Pn(a,r,67108864),cp(r,67108864)}}var hd=!0;function N2(r,a,c,h){var g=X.T;X.T=null;var y=ot.p;try{ot.p=2,up(r,a,c,h)}finally{ot.p=y,X.T=g}}function k2(r,a,c,h){var g=X.T;X.T=null;var y=ot.p;try{ot.p=8,up(r,a,c,h)}finally{ot.p=y,X.T=g}}function up(r,a,c,h){if(hd){var g=hp(h);if(g===null)Xg(r,a,h,dd,c),lx(r,h);else if(P2(g,r,a,c,h))h.stopPropagation();else if(lx(r,h),a&4&&-1<O2.indexOf(r)){for(;g!==null;){var y=bi(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ni(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var j=1<<31-an(T);I.entanglements[1]|=j,T&=~j}Oi(y),(Xt&6)===0&&(Kh=zn()+500,bc(0))}}break;case 13:I=xo(y,2),I!==null&&Pn(I,y,2),Xh(),cp(y,2)}if(y=hp(h),y===null&&Xg(r,a,h,dd,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else Xg(r,a,h,null,c)}}function hp(r){return r=Hn(r),dp(r)}var dd=null;function dp(r){if(dd=null,r=Ki(r),r!==null){var a=o(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=l(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return dd=r,null}function ox(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gm()){case Sl:return 2;case Ja:return 8;case Gr:case pm:return 32;case to:return 268435456;default:return 32}default:return 32}}var fp=!1,rr=null,ar=null,or=null,Cc=new Map,Ic=new Map,lr=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lx(r,a){switch(r){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Cc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(a.pointerId)}}function Dc(r,a,c,h,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=bi(a),a!==null&&ax(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function P2(r,a,c,h,g){switch(a){case"focusin":return rr=Dc(rr,r,a,c,h,g),!0;case"dragenter":return ar=Dc(ar,r,a,c,h,g),!0;case"mouseover":return or=Dc(or,r,a,c,h,g),!0;case"pointerover":var y=g.pointerId;return Cc.set(y,Dc(Cc.get(y)||null,r,a,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ic.set(y,Dc(Ic.get(y)||null,r,a,c,h,g)),!0}return!1}function cx(r){var a=Ki(r.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){r.blockedOn=a,Xu(r.priority,function(){if(c.tag===13){var h=On();h=Ls(h);var g=xo(c,h);g!==null&&Pn(g,c,h),cp(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function fd(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=hp(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);Ji=h,c.target.dispatchEvent(h),Ji=null}else return a=bi(c),a!==null&&ax(a),r.blockedOn=c,!1;a.shift()}return!0}function ux(r,a,c){fd(r)&&c.delete(a)}function L2(){fp=!1,rr!==null&&fd(rr)&&(rr=null),ar!==null&&fd(ar)&&(ar=null),or!==null&&fd(or)&&(or=null),Cc.forEach(ux),Ic.forEach(ux)}function md(r,a){r.blockedOn===a&&(r.blockedOn=null,fp||(fp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,L2)))}var gd=null;function hx(r){gd!==r&&(gd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gd===r&&(gd=null);for(var a=0;a<r.length;a+=3){var c=r[a],h=r[a+1],g=r[a+2];if(typeof h!="function"){if(dp(h||c)===null)continue;break}var y=bi(c);y!==null&&(r.splice(a,3),a-=3,dg(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Mc(r){function a(j){return md(j,r)}rr!==null&&md(rr,r),ar!==null&&md(ar,r),or!==null&&md(or,r),Cc.forEach(a),Ic.forEach(a);for(var c=0;c<lr.length;c++){var h=lr[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<lr.length&&(c=lr[0],c.blockedOn===null);)cx(c),c.blockedOn===null&&lr.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],T=g[Re]||null;if(typeof y=="function")T||hx(c);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[Re]||null)I=T.formAction;else if(dp(g)!==null)continue}else I=T.action;typeof I=="function"?c[h+1]=I:(c.splice(h,3),h-=3),hx(c)}}}function mp(r){this._internalRoot=r}pd.prototype.render=mp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=On();sx(c,h,r,a,null,null)},pd.prototype.unmount=mp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sx(r.current,2,null,r,null,null),Xh(),a[Bn]=null}};function pd(r){this._internalRoot=r}pd.prototype.unstable_scheduleHydration=function(r){if(r){var a=Vs();r={blockedOn:null,target:r,priority:a};for(var c=0;c<lr.length&&a!==0&&a<lr[c].priority;c++);lr.splice(c,0,r),c===0&&cx(r)}};var dx=t.version;if(dx!=="19.1.0")throw Error(i(527,dx,"19.1.0"));ot.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var V2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{_e=yd.inject(V2),Qt=yd}catch{}}return kc.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,h="",g=Cv,y=Iv,T=Dv,I=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=nx(r,1,!1,null,null,c,h,g,y,T,I,null),r[Bn]=a.current,Qg(r),new mp(a)},kc.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var h=!1,g="",y=Cv,T=Iv,I=Dv,j=null,K=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(j=c.unstable_transitionCallbacks),c.formState!==void 0&&(K=c.formState)),a=nx(r,1,!0,a,c??null,h,g,y,T,I,j,K),a.context=ix(null),c=a.current,h=On(),h=Ls(h),g=Gs(h),g.callback=null,Ys(c,g,h),c=h,a.current.lanes=c,Wi(a,c),Oi(a),r[Bn]=a.current,Qg(r),new pd(a)},kc.version="19.1.0",kc}var Ex;function Q2(){if(Ex)return yp.exports;Ex=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),yp.exports=K2(),yp.exports}var X2=Q2(),Oc={},wx;function Z2(){if(wx)return Oc;wx=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.parse=l,Oc.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,E){const S=new o,R=v.length;if(R<2)return S;const A=(E==null?void 0:E.decode)||p;let D=0;do{const L=v.indexOf("=",D);if(L===-1)break;const z=v.indexOf(";",D),B=z===-1?R:z;if(L>B){D=v.lastIndexOf(";",L-1)+1;continue}const H=u(v,D,L),tt=d(v,L,H),O=v.slice(H,tt);if(S[O]===void 0){let C=u(v,L+1,B),k=d(v,B,C);const V=A(v.slice(C,k));S[O]=V}D=B+1}while(D<R);return S}function u(v,E,S){do{const R=v.charCodeAt(E);if(R!==32&&R!==9)return E}while(++E<S);return S}function d(v,E,S){for(;E>S;){const R=v.charCodeAt(--E);if(R!==32&&R!==9)return E+1}return S}function f(v,E,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=R(E);if(!t.test(A))throw new TypeError(`argument val is invalid: ${E}`);let D=v+"="+A;if(!S)return D;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);D+="; Max-Age="+S.maxAge}if(S.domain){if(!e.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);D+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);D+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);D+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(D+="; HttpOnly"),S.secure&&(D+="; Secure"),S.partitioned&&(D+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return D}function p(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return s.call(v)==="[object Date]"}return Oc}Z2();var Tx="popstate";function J2(n={}){function t(i,s){let{pathname:o,search:l,hash:u}=i.location;return Wp("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:hu(s)}return eC(t,e,null,n)}function ge(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function fi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tC(){return Math.random().toString(36).substring(2,10)}function Sx(n,t){return{usr:n.state,key:n.key,idx:t}}function Wp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?gl(t):t,state:e,key:t&&t.key||i||tC()}}function hu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function gl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function eC(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function _(){u="POP";let A=p(),D=A==null?null:A-f;f=A,d&&d({action:u,location:R.location,delta:D})}function v(A,D){u="PUSH";let L=Wp(R.location,A,D);f=p()+1;let z=Sx(L,f),B=R.createHref(L);try{l.pushState(z,"",B)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(B)}o&&d&&d({action:u,location:R.location,delta:1})}function E(A,D){u="REPLACE";let L=Wp(R.location,A,D);f=p();let z=Sx(L,f),B=R.createHref(L);l.replaceState(z,"",B),o&&d&&d({action:u,location:R.location,delta:0})}function S(A){let D=s.location.origin!=="null"?s.location.origin:s.location.href,L=typeof A=="string"?A:hu(A);return L=L.replace(/ $/,"%20"),ge(D,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,D)}let R={get action(){return u},get location(){return n(s,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Tx,_),d=A,()=>{s.removeEventListener(Tx,_),d=null}},createHref(A){return t(s,A)},createURL:S,encodeLocation(A){let D=S(A);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:E,go(A){return l.go(A)}};return R}function DT(n,t,e="/"){return nC(n,t,e,!1)}function nC(n,t,e,i){let s=typeof t=="string"?gl(t):t,o=Is(s.pathname||"/",e);if(o==null)return null;let l=MT(n);iC(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=mC(o);u=dC(l[d],f,i)}return u}function MT(n,t=[],e=[],i=""){let s=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(ge(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let f=Rs([i,d.relativePath]),p=e.concat(d);o.children&&o.children.length>0&&(ge(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),MT(o.children,t,p,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:uC(f,o.index),routesMeta:p})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let d of NT(o.path))s(o,l,d)}),t}function NT(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=NT(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function iC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:hC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var sC=/^:[\w-]+$/,rC=3,aC=2,oC=1,lC=10,cC=-2,Ax=n=>n==="*";function uC(n,t){let e=n.split("/"),i=e.length;return e.some(Ax)&&(i+=cC),t&&(i+=aC),e.filter(s=>!Ax(s)).reduce((s,o)=>s+(sC.test(o)?rC:o===""?oC:lC),i)}function hC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function dC(n,t,e=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",_=of({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!_&&f&&e&&!i[i.length-1].route.index&&(_=of({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:Rs([o,_.pathname]),pathnameBase:_C(Rs([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Rs([o,_.pathnameBase]))}return l}function of(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=fC(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:_},v)=>{if(p==="*"){let S=u[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=u[v];return _&&!E?f[p]=void 0:f[p]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function fC(n,t=!1,e=!0){fi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function mC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Is(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function gC(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?gl(n):n;return{pathname:e?e.startsWith("/")?e:pC(e,t):t,search:vC(i),hash:bC(s)}}function pC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function xp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Uy(n){let t=yC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function zy(n,t,e,i=!1){let s;typeof n=="string"?s=gl(n):(s={...n},ge(!s.pathname||!s.pathname.includes("?"),xp("?","pathname","search",s)),ge(!s.pathname||!s.pathname.includes("#"),xp("#","pathname","hash",s)),ge(!s.search||!s.search.includes("#"),xp("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=e;else{let _=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;s.pathname=v.join("/")}u=_>=0?t[_]:"/"}let d=gC(s,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var Rs=n=>n.join("/").replace(/\/\/+/g,"/"),_C=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,bC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function xC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var kT=["POST","PUT","PATCH","DELETE"];new Set(kT);var EC=["GET",...kT];new Set(EC);var pl=W.createContext(null);pl.displayName="DataRouter";var jf=W.createContext(null);jf.displayName="DataRouterState";var OT=W.createContext({isTransitioning:!1});OT.displayName="ViewTransition";var wC=W.createContext(new Map);wC.displayName="Fetchers";var TC=W.createContext(null);TC.displayName="Await";var yi=W.createContext(null);yi.displayName="Navigation";var Du=W.createContext(null);Du.displayName="Location";var Gi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var By=W.createContext(null);By.displayName="RouteError";function SC(n,{relative:t}={}){ge(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=W.useContext(yi),{hash:s,pathname:o,search:l}=Mu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Rs([e,o])),i.createHref({pathname:u,search:l,hash:s})}function yl(){return W.useContext(Du)!=null}function Lr(){return ge(yl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Du).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LT(n){W.useContext(yi).static||W.useLayoutEffect(n)}function Fy(){let{isDataRoute:n}=W.useContext(Gi);return n?jC():AC()}function AC(){ge(yl(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(pl),{basename:t,navigator:e}=W.useContext(yi),{matches:i}=W.useContext(Gi),{pathname:s}=Lr(),o=JSON.stringify(Uy(i)),l=W.useRef(!1);return LT(()=>{l.current=!0}),W.useCallback((d,f={})=>{if(fi(l.current,PT),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=zy(d,JSON.parse(o),s,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Rs([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,s,n])}W.createContext(null);function Mu(n,{relative:t}={}){let{matches:e}=W.useContext(Gi),{pathname:i}=Lr(),s=JSON.stringify(Uy(e));return W.useMemo(()=>zy(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function RC(n,t){return VT(n,t)}function VT(n,t,e,i){var L;ge(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=W.useContext(yi),{matches:l}=W.useContext(Gi),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",_=u&&u.route;{let z=_&&_.path||"";jT(f,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let v=Lr(),E;if(t){let z=typeof t=="string"?gl(t):t;ge(p==="/"||((L=z.pathname)==null?void 0:L.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),E=z}else E=v;let S=E.pathname||"/",R=S;if(p!=="/"){let z=p.replace(/^\//,"").split("/");R="/"+S.replace(/^\//,"").split("/").slice(z.length).join("/")}let A=!o&&e&&e.matches&&e.matches.length>0?e.matches:DT(n,{pathname:R});fi(_||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),fi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=NC(A&&A.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Rs([p,s.encodeLocation?s.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:Rs([p,s.encodeLocation?s.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,e,i);return t&&D?W.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},D):D}function CC(){let n=VC(),t=xC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=W.createElement(W.Fragment,null,W.createElement("p",null,"💿 Hey developer 👋"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:s},e):null,l)}var IC=W.createElement(CC,null),DC=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?W.createElement(Gi.Provider,{value:this.props.routeContext},W.createElement(By.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MC({routeContext:n,match:t,children:e}){let i=W.useContext(pl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(Gi.Provider,{value:n},e)}function NC(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,o=e==null?void 0:e.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ge(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(e)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:_}=e,v=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let _,v=!1,E=null,S=null;e&&(_=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||IC,l&&(u<0&&p===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):u===p&&(v=!0,S=f.route.hydrateFallbackElement||null)));let R=t.concat(s.slice(0,p+1)),A=()=>{let D;return _?D=E:v?D=S:f.route.Component?D=W.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=d,W.createElement(MC,{match:f,routeContext:{outlet:d,matches:R,isDataRoute:e!=null},children:D})};return e&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?W.createElement(DC,{location:e.location,revalidation:e.revalidation,component:E,error:_,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function Hy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(n){let t=W.useContext(pl);return ge(t,Hy(n)),t}function OC(n){let t=W.useContext(jf);return ge(t,Hy(n)),t}function PC(n){let t=W.useContext(Gi);return ge(t,Hy(n)),t}function qy(n){let t=PC(n),e=t.matches[t.matches.length-1];return ge(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function LC(){return qy("useRouteId")}function VC(){var i;let n=W.useContext(By),t=OC("useRouteError"),e=qy("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function jC(){let{router:n}=kC("useNavigate"),t=qy("useNavigate"),e=W.useRef(!1);return LT(()=>{e.current=!0}),W.useCallback(async(s,o={})=>{fi(e.current,PT),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var Rx={};function jT(n,t,e){!t&&!Rx[n]&&(Rx[n]=!0,fi(!1,e))}W.memo(UC);function UC({routes:n,future:t,state:e}){return VT(n,void 0,e,t)}function UT({to:n,replace:t,state:e,relative:i}){ge(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=W.useContext(yi);fi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(Gi),{pathname:l}=Lr(),u=Fy(),d=zy(n,Uy(o),l,i==="path"),f=JSON.stringify(d);return W.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function Ia(n){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zC({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){ge(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=gl(e));let{pathname:d="/",search:f="",hash:p="",state:_=null,key:v="default"}=e,E=W.useMemo(()=>{let S=Is(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:_,key:v},navigationType:i}},[l,d,f,p,_,v,i]);return fi(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:W.createElement(yi.Provider,{value:u},W.createElement(Du.Provider,{children:t,value:E}))}function BC({children:n,location:t}){return RC(Kp(n),t)}function Kp(n,t=[]){let e=[];return W.Children.forEach(n,(i,s)=>{if(!W.isValidElement(i))return;let o=[...t,s];if(i.type===W.Fragment){e.push.apply(e,Kp(i.props.children,o));return}ge(i.type===Ia,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Kp(i.props.children,o)),e.push(l)}),e}var zd="get",Bd="application/x-www-form-urlencoded";function Uf(n){return n!=null&&typeof n.tagName=="string"}function FC(n){return Uf(n)&&n.tagName.toLowerCase()==="button"}function HC(n){return Uf(n)&&n.tagName.toLowerCase()==="form"}function qC(n){return Uf(n)&&n.tagName.toLowerCase()==="input"}function GC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YC(n,t){return n.button===0&&(!t||t==="_self")&&!GC(n)}var _d=null;function $C(){if(_d===null)try{new FormData(document.createElement("form"),0),_d=!1}catch{_d=!0}return _d}var WC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ep(n){return n!=null&&!WC.has(n)?(fi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bd}"`),null):n}function KC(n,t){let e,i,s,o,l;if(HC(n)){let u=n.getAttribute("action");i=u?Is(u,t):null,e=n.getAttribute("method")||zd,s=Ep(n.getAttribute("enctype"))||Bd,o=new FormData(n)}else if(FC(n)||qC(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(i=d?Is(d,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||zd,s=Ep(n.getAttribute("formenctype"))||Ep(u.getAttribute("enctype"))||Bd,o=new FormData(u,n),!$C()){let{name:f,type:p,value:_}=n;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(Uf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=zd,i=null,s=Bd,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:l}}function Gy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function QC(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function ZC(n,t,e){let i=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await QC(o,e);return l.links?l.links():[]}return[]}));return nI(i.flat(1).filter(XC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Cx(n,t,e,i,s,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>{var p;return e[f].pathname!==d.pathname||((p=e[f].route.path)==null?void 0:p.endsWith("*"))&&e[f].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{var _;let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=e[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function JC(n,t,{includeHydrateFallback:e}={}){return tI(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function tI(n){return[...new Set(n)]}function eI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function nI(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let o=JSON.stringify(eI(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}var iI=new Set([100,101,204,205]);function sI(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Is(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function zT(){let n=W.useContext(pl);return Gy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rI(){let n=W.useContext(jf);return Gy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Yy=W.createContext(void 0);Yy.displayName="FrameworkContext";function BT(){let n=W.useContext(Yy);return Gy(n,"You must render this element inside a <HydratedRouter> element"),n}function aI(n,t){let e=W.useContext(Yy),[i,s]=W.useState(!1),[o,l]=W.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:_}=t,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=D=>{D.forEach(L=>{l(L.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[n]),W.useEffect(()=>{if(i){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[i]);let E=()=>{s(!0)},S=()=>{s(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Pc(u,E),onBlur:Pc(d,S),onMouseEnter:Pc(f,E),onMouseLeave:Pc(p,S),onTouchStart:Pc(_,E)}]:[!1,v,{}]}function Pc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function oI({page:n,...t}){let{router:e}=zT(),i=W.useMemo(()=>DT(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?W.createElement(cI,{page:n,matches:i,...t}):null}function lI(n){let{manifest:t,routeModules:e}=BT(),[i,s]=W.useState([]);return W.useEffect(()=>{let o=!1;return ZC(n,t,e).then(l=>{o||s(l)}),()=>{o=!0}},[n,t,e]),i}function cI({page:n,matches:t,...e}){let i=Lr(),{manifest:s,routeModules:o}=BT(),{basename:l}=zT(),{loaderData:u,matches:d}=rI(),f=W.useMemo(()=>Cx(n,t,d,s,i,"data"),[n,t,d,s,i]),p=W.useMemo(()=>Cx(n,t,d,s,i,"assets"),[n,t,d,s,i]),_=W.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,R=!1;if(t.forEach(D=>{var z;let L=s.routes[D.route.id];!L||!L.hasLoader||(!f.some(B=>B.route.id===D.route.id)&&D.route.id in u&&((z=o[D.route.id])!=null&&z.shouldRevalidate)||L.hasClientLoader?R=!0:S.add(D.route.id))}),S.size===0)return[];let A=sI(n,l);return R&&S.size>0&&A.searchParams.set("_routes",t.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[A.pathname+A.search]},[l,u,i,s,f,t,n,o]),v=W.useMemo(()=>JC(p,s),[p,s]),E=lI(p);return W.createElement(W.Fragment,null,_.map(S=>W.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),v.map(S=>W.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),E.map(({key:S,link:R})=>W.createElement("link",{key:S,...R})))}function uI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var FT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FT&&(window.__reactRouterVersion="7.5.3")}catch{}function hI({basename:n,children:t,window:e}){let i=W.useRef();i.current==null&&(i.current=J2({window:e,v5Compat:!0}));let s=i.current,[o,l]=W.useState({action:s.action,location:s.location}),u=W.useCallback(d=>{W.startTransition(()=>l(d))},[l]);return W.useLayoutEffect(()=>s.listen(u),[s,u]),W.createElement(zC,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:s})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=W.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:_,...v},E){let{basename:S}=W.useContext(yi),R=typeof f=="string"&&HT.test(f),A,D=!1;if(typeof f=="string"&&R&&(A=f,FT))try{let k=new URL(window.location.href),V=f.startsWith("//")?new URL(k.protocol+f):new URL(f),U=Is(V.pathname,S);V.origin===k.origin&&U!=null?f=U+V.search+V.hash:D=!0}catch{fi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=SC(f,{relative:s}),[z,B,H]=aI(i,v),tt=gI(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:_});function O(k){t&&t(k),k.defaultPrevented||tt(k)}let C=W.createElement("a",{...v,...H,href:A||L,onClick:D||o?t:O,ref:uI(E,B),target:d,"data-discover":!R&&e==="render"?"true":void 0});return z&&!R?W.createElement(W.Fragment,null,C,W.createElement(oI,{page:L})):C});ti.displayName="Link";var dI=W.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let _=Mu(l,{relative:f.relative}),v=Lr(),E=W.useContext(jf),{navigator:S,basename:R}=W.useContext(yi),A=E!=null&&bI(_)&&u===!0,D=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,L=v.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(L=L.toLowerCase(),z=z?z.toLowerCase():null,D=D.toLowerCase()),z&&R&&(z=Is(z,R)||z);const B=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let H=L===D||!s&&L.startsWith(D)&&L.charAt(B)==="/",tt=z!=null&&(z===D||!s&&z.startsWith(D)&&z.charAt(D.length)==="/"),O={isActive:H,isPending:tt,isTransitioning:A},C=H?t:void 0,k;typeof i=="function"?k=i(O):k=[i,H?"active":null,tt?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(O):o;return W.createElement(ti,{...f,"aria-current":C,className:k,ref:p,style:V,to:l,viewTransition:u},typeof d=="function"?d(O):d)});dI.displayName="NavLink";var fI=W.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:l=zd,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:_,...v},E)=>{let S=_I(),R=vI(u,{relative:f}),A=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&HT.test(u),L=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let B=z.nativeEvent.submitter,H=(B==null?void 0:B.getAttribute("formmethod"))||l;S(B||z.currentTarget,{fetcherKey:t,method:H,navigate:e,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:_})};return W.createElement("form",{ref:E,method:A,action:R,onSubmit:i?d:L,...v,"data-discover":!D&&n==="render"?"true":void 0})});fI.displayName="Form";function mI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(n){let t=W.useContext(pl);return ge(t,mI(n)),t}function gI(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=Fy(),d=Lr(),f=Mu(n,{relative:o});return W.useCallback(p=>{if(YC(p,t)){p.preventDefault();let _=e!==void 0?e:hu(d)===hu(f);u(n,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,u,f,e,i,t,n,s,o,l])}var pI=0,yI=()=>`__${String(++pI)}__`;function _I(){let{router:n}=qT("useSubmit"),{basename:t}=W.useContext(yi),e=LC();return W.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=KC(i,t);if(s.navigate===!1){let p=s.fetcherKey||yI();await n.fetch(p,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function vI(n,{relative:t}={}){let{basename:e}=W.useContext(yi),i=W.useContext(Gi);ge(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Mu(n||".",{relative:t})},l=Lr();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Rs([e,o.pathname])),hu(o)}function bI(n,t={}){let e=W.useContext(OT);ge(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qT("useViewTransitionState"),s=Mu(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Is(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=Is(e.nextLocation.pathname,i)||e.nextLocation.pathname;return of(s.pathname,l)!=null||of(s.pathname,o)!=null}new TextEncoder;[...iI];function xI(){return x.jsx("section",{className:"hero-section bg-gradient-to-r from-teal-200 via-white to-green-200 py-16 px-4 text-center",children:x.jsxs("div",{className:"max-w-2xl mx-auto",children:[x.jsx("h1",{className:"text-4xl font-bold text-teal-900 mb-4",children:"Find Your Perfect FYP Supervisor"}),x.jsx("p",{className:"text-lg text-gray-800 mb-6",children:"Match with experienced supervisors based on your research goals and availability."}),x.jsx(ti,{to:"/Faculty",className:"inline-block bg-teal-600 hover:bg-teal-700 text-white font-medium py-2.5 px-6 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl active:scale-95",children:"Browse Supervisors"}),x.jsx("div",{className:"mt-12 flex flex-wrap justify-center gap-4 text-sm",children:[{value:"",label:"Research Domains"},{value:"",label:"Available Supervisors"},{value:"24/7",label:"Access"}].map((n,t)=>x.jsxs("div",{className:"bg-white bg-opacity-80 px-5 py-2 rounded-full shadow-sm transition-transform duration-300 transform hover:scale-105 hover:shadow-md cursor-default",children:[x.jsx("span",{className:"font-semibold text-teal-700",children:n.value})," ",n.label]},t))})]})})}const EI=({quote:n,name:t,program:e,rating:i})=>x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"flex mb-3",children:[...Array(5)].map((s,o)=>x.jsx("svg",{className:`w-4 h-4 ${o<i?"text-yellow-400":"text-gray-300/70"}`,fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},o))}),x.jsxs("p",{className:"text-gray-700 italic mb-4 relative",children:[x.jsx("span",{className:"absolute -top-3 -left-2 text-3xl text-gray-300 font-serif",children:'"'}),x.jsx("span",{className:"pl-4 block text-sm",children:n})]}),x.jsxs("div",{className:"border-t border-white/30 pt-3",children:[x.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:t}),x.jsxs("p",{className:"text-gray-600 text-xs",children:[e," Student"]})]})]});function wI(){const n=[{title:"Browse Profiles",description:"Explore supervisor profiles based on research domains and availability",icon:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),color:"text-blue-500",bg:"bg-blue-50"},{title:"Check Availability",description:"View open slots and office hours for each supervisor",icon:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"text-purple-500",bg:"bg-purple-50"},{title:"Make Contact",description:"Send meeting requests to potential supervisors",icon:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"text-green-500",bg:"bg-green-50"}];return x.jsx("section",{className:"py-10 px-4 bg-indigo-50",children:x.jsx("div",{className:"max-w-3xl mx-auto",children:x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map((t,e)=>x.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 relative overflow-hidden group",children:[x.jsx("div",{className:`absolute inset-x-0 bottom-0 h-1 ${t.bg.replace("50","400")} transition-all duration-500 group-hover:h-2`}),x.jsx("div",{className:`${t.color} mb-3 flex justify-center`,children:x.jsx("div",{className:`${t.bg} p-3 rounded-full group-hover:scale-110 transition-transform duration-300`,children:t.icon})}),x.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2 text-center group-hover:text-blue-600 transition-colors",children:t.title}),x.jsx("p",{className:"text-gray-600 text-xs text-center mb-3",children:t.description}),x.jsx("div",{className:"flex justify-center",children:x.jsxs("span",{className:`text-xs font-medium ${t.bg} ${t.color} px-2 py-1 rounded-full`,children:["Step ",e+1]})}),x.jsx("div",{className:`absolute top-3 right-3 w-2 h-2 rounded-full ${t.bg.replace("50","400")} animate-pulse`})]},e))})})})}function TI(){return x.jsxs("div",{className:"cta-section bg-gradient-to-r from-teal-500 to-cyan-600 text-white py-16 px-6 relative overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-500 to-cyan-700 opacity-60"}),x.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[x.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:"Start Your FYP Journey Today"}),x.jsx("p",{className:"text-xl mb-8",children:"Connect with the perfect supervisor for your Final Year Project"}),x.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[x.jsx(ti,{to:"/faculty",className:"bg-white text-teal-600 font-bold py-3 px-8 rounded-lg hover:bg-teal-100 hover:scale-105 transition-all duration-300 ease-in-out text-center",children:"Browse Supervisors"}),x.jsx("button",{className:"bg-transparent border-2 border-white text-white font-bold py-3 px-8 rounded-lg hover:bg-teal-700 hover:scale-105 transition-all duration-300 ease-in-out",onClick:()=>console.log("Learn more clicked"),children:"How It Works"})]})]})]})}const SI=({children:n,bgColor:t="bg-white",hoverEffect:e=!0})=>x.jsx("div",{className:`${t} p-6 rounded-xl border border-gray-100 shadow-sm 
      ${e?"hover:shadow-lg hover:-translate-y-1 transform transition-all duration-300":""}`,children:n}),Ix=({title:n,subtitle:t,children:e,bg:i="bg-indigo-50"})=>x.jsx("section",{className:`py-10 px-4 ${i}`,children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:n}),x.jsx("div",{className:"w-16 h-1 bg-blue-500 mx-auto mb-3"}),x.jsx("p",{className:"text-gray-600",children:t})]}),e]})});function AI(){const n=[{quote:"Found my perfect supervisor within a week of using this platform!",name:"Ali Akbar",program:"Computer Science",rating:5,color:"from-blue-100 to-indigo-100"},{quote:"The availability tracking saved me so much time in contacting busy professors.",name:"Rashid Ali",program:"Data Analytics",rating:4,color:"from-purple-100 to-blue-100"},{quote:"Made the FYP process much less stressful by easily matching with supervisors in my domain.",name:"Rana Malik",program:"Cybersecurity",rating:5,color:"from-indigo-100 to-purple-100"}];return x.jsxs(x.Fragment,{children:[x.jsx(xI,{}),x.jsx(Ix,{title:"How It Works",subtitle:"Find your perfect supervisor in three simple steps",children:x.jsx(wI,{})}),x.jsx(Ix,{title:"Student Success Stories",subtitle:"Hear from students who found their perfect match",children:x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map((t,e)=>x.jsx(SI,{bgColor:`bg-gradient-to-br ${t.color}`,hoverEffect:!0,children:x.jsx(EI,{...t})},e))})}),x.jsx(TI,{})]})}const RI=()=>{};var Dx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},CI=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],l=n[e++],u=n[e++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,p=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;d||(E=64,l||(v=64)),i.push(e[p],e[_],e[v],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(GT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):CI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const f=s<n.length?e[n.charAt(s)]:64;++s;const _=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||u==null||f==null||_==null)throw new II;const v=o<<2|u>>4;if(i.push(v),f!==64){const E=u<<4&240|f>>2;if(i.push(E),_!==64){const S=f<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class II extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DI=function(n){const t=GT(n);return YT.encodeByteArray(t,!0)},lf=function(n){return DI(n).replace(/\./g,"")},$T=function(n){try{return YT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=()=>MI().__FIREBASE_DEFAULTS__,kI=()=>{if(typeof process>"u"||typeof Dx>"u")return;const n=Dx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},OI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&$T(n[1]);return t&&JSON.parse(t)},zf=()=>{try{return RI()||NI()||kI()||OI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WT=n=>{var t,e;return(e=(t=zf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},PI=n=>{const t=WT(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},KT=()=>{var n;return(n=zf())===null||n===void 0?void 0:n.config},QT=n=>{var t;return(t=zf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){return n.endsWith(".cloudworkstations.dev")}async function XT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lf(JSON.stringify(e)),lf(JSON.stringify(l)),""].join(".")}const Zc={};function jI(){const n={prod:[],emulator:[]};for(const t of Object.keys(Zc))Zc[t]?n.emulator.push(t):n.prod.push(t);return n}function UI(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Mx=!1;function Bf(n,t){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||Zc[n]===t||Zc[n]||Mx)return;Zc[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=jI().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Mx=!0,l()},v}function p(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=UI(i),E=e("text"),S=document.getElementById(E)||document.createElement("span"),R=e("learnmore"),A=document.getElementById(R)||document.createElement("a"),D=e("preprendIcon"),L=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const z=v.element;u(z),p(A,R);const B=f();d(L,D),z.append(L,S,A,B),document.body.appendChild(z)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function BI(){var n;const t=(n=zf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GI(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function YI(){return!BI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $I(){try{return typeof indexedDB=="object"}catch{return!1}}function WI(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="FirebaseError";class Os extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=KI,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?QI(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Os(s,u,i)}}function QI(n,t){return n.replace(XI,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const XI=/\{\$([^}]+)}/g;function ZI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ua(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const o=n[s],l=t[s];if(Nx(o)&&Nx(l)){if(!Ua(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function Nx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Bc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function Fc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function JI(n,t){const e=new tD(n,t);return e.subscribe.bind(e)}class tD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");eD(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=wp),s.error===void 0&&(s.error=wp),s.complete===void 0&&(s.complete=wp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n){return n&&n._delegate?n._delegate:n}class za{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new LI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sD(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iD(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iD(n){return n===Da?void 0:n}function sD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new nD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ut||(Ut={}));const aD={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},oD=Ut.INFO,lD={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},cD=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=lD[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $y{constructor(t){this.name=t,this._logLevel=oD,this._logHandler=cD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const uD=(n,t)=>t.some(e=>n instanceof e);let kx,Ox;function hD(){return kx||(kx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return Ox||(Ox=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZT=new WeakMap,Qp=new WeakMap,JT=new WeakMap,Tp=new WeakMap,Wy=new WeakMap;function fD(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(xr(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&ZT.set(e,n)}).catch(()=>{}),Wy.set(t,n),t}function mD(n){if(Qp.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Qp.set(n,t)}let Xp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Qp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||JT.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return xr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function gD(n){Xp=n(Xp)}function pD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Sp(this),t,...e);return JT.set(i,t.sort?t.sort():[t]),xr(i)}:dD().includes(n)?function(...t){return n.apply(Sp(this),t),xr(ZT.get(this))}:function(...t){return xr(n.apply(Sp(this),t))}}function yD(n){return typeof n=="function"?pD(n):(n instanceof IDBTransaction&&mD(n),uD(n,hD())?new Proxy(n,Xp):n)}function xr(n){if(n instanceof IDBRequest)return fD(n);if(Tp.has(n))return Tp.get(n);const t=yD(n);return t!==n&&(Tp.set(n,t),Wy.set(t,n)),t}const Sp=n=>Wy.get(n);function _D(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,t),u=xr(l);return i&&l.addEventListener("upgradeneeded",d=>{i(xr(l.result),d.oldVersion,d.newVersion,xr(l.transaction),d)}),e&&l.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const vD=["get","getKey","getAll","getAllKeys","count"],bD=["put","add","delete","clear"],Ap=new Map;function Px(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ap.get(t))return Ap.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=bD.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||vD.includes(e)))return;const o=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),s&&d.done]))[0]};return Ap.set(t,o),o}gD(n=>({...n,get:(t,e,i)=>Px(t,e)||n.get(t,e,i),has:(t,e)=>!!Px(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ED(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function ED(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Zp="@firebase/app",Lx="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new $y("@firebase/app"),wD="@firebase/app-compat",TD="@firebase/analytics-compat",SD="@firebase/analytics",AD="@firebase/app-check-compat",RD="@firebase/app-check",CD="@firebase/auth",ID="@firebase/auth-compat",DD="@firebase/database",MD="@firebase/data-connect",ND="@firebase/database-compat",kD="@firebase/functions",OD="@firebase/functions-compat",PD="@firebase/installations",LD="@firebase/installations-compat",VD="@firebase/messaging",jD="@firebase/messaging-compat",UD="@firebase/performance",zD="@firebase/performance-compat",BD="@firebase/remote-config",FD="@firebase/remote-config-compat",HD="@firebase/storage",qD="@firebase/storage-compat",GD="@firebase/firestore",YD="@firebase/vertexai",$D="@firebase/firestore-compat",WD="firebase",KD="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",QD={[Zp]:"fire-core",[wD]:"fire-core-compat",[SD]:"fire-analytics",[TD]:"fire-analytics-compat",[RD]:"fire-app-check",[AD]:"fire-app-check-compat",[CD]:"fire-auth",[ID]:"fire-auth-compat",[DD]:"fire-rtdb",[MD]:"fire-data-connect",[ND]:"fire-rtdb-compat",[kD]:"fire-fn",[OD]:"fire-fn-compat",[PD]:"fire-iid",[LD]:"fire-iid-compat",[VD]:"fire-fcm",[jD]:"fire-fcm-compat",[UD]:"fire-perf",[zD]:"fire-perf-compat",[BD]:"fire-rc",[FD]:"fire-rc-compat",[HD]:"fire-gcs",[qD]:"fire-gcs-compat",[GD]:"fire-fst",[$D]:"fire-fst-compat",[YD]:"fire-vertex","fire-js":"fire-js",[WD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Map,XD=new Map,ty=new Map;function Vx(n,t){try{n.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function sl(n){const t=n.name;if(ty.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;ty.set(t,n);for(const e of cf.values())Vx(e,n);for(const e of XD.values())Vx(e,n);return!0}function Ky(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ei(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new ku("app","Firebase",ZD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=KD;function t1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Jp,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Er.create("bad-app-name",{appName:String(s)});if(e||(e=KT()),!e)throw Er.create("no-options");const o=cf.get(s);if(o){if(Ua(e,o.options)&&Ua(i,o.config))return o;throw Er.create("duplicate-app",{appName:s})}const l=new rD(s);for(const d of ty.values())l.addComponent(d);const u=new JD(e,i,l);return cf.set(s,u),u}function e1(n=Jp){const t=cf.get(n);if(!t&&n===Jp&&KT())return t1();if(!t)throw Er.create("no-app",{appName:n});return t}function wr(n,t,e){var i;let s=(i=QD[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${t}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(u.join(" "));return}sl(new za(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM="firebase-heartbeat-database",eM=1,du="firebase-heartbeat-store";let Rp=null;function n1(){return Rp||(Rp=_D(tM,eM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(du)}catch(e){console.warn(e)}}}}).catch(n=>{throw Er.create("idb-open",{originalErrorMessage:n.message})})),Rp}async function nM(n){try{const e=(await n1()).transaction(du),i=await e.objectStore(du).get(i1(n));return await e.done,i}catch(t){if(t instanceof Os)Ds.warn(t.message);else{const e=Er.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ds.warn(e.message)}}}async function jx(n,t){try{const i=(await n1()).transaction(du,"readwrite");await i.objectStore(du).put(t,i1(n)),await i.done}catch(e){if(e instanceof Os)Ds.warn(e.message);else{const i=Er.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(i.message)}}}function i1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=1024,sM=30;class rM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new oM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ux();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>sM){const l=lM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ds.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ux(),{heartbeatsToSend:i,unsentEntries:s}=aM(this._heartbeatsCache.heartbeats),o=lf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ds.warn(e),""}}}function Ux(){return new Date().toISOString().substring(0,10)}function aM(n,t=iM){const e=[];let i=n.slice();for(const s of n){const o=e.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),zx(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),zx(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class oM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $I()?WI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await nM(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return jx(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return jx(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function zx(n){return lf(JSON.stringify({version:2,heartbeats:n})).length}function lM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(n){sl(new za("platform-logger",t=>new xD(t),"PRIVATE")),sl(new za("heartbeat",t=>new rM(t),"PRIVATE")),wr(Zp,Lx,n),wr(Zp,Lx,"esm2017"),wr("fire-js","")}cM("");var Bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,s1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,C){function k(){}k.prototype=C.prototype,O.D=C.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(V,U,N){for(var P=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)P[bt-2]=arguments[bt];return C.prototype[U].apply(V,P)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,C,k){k||(k=0);var V=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)V[U]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(U=0;16>U;++U)V[U]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=O.g[0],k=O.g[1],U=O.g[2];var N=O.g[3],P=C+(N^k&(U^N))+V[0]+3614090360&4294967295;C=k+(P<<7&4294967295|P>>>25),P=N+(U^C&(k^U))+V[1]+3905402710&4294967295,N=C+(P<<12&4294967295|P>>>20),P=U+(k^N&(C^k))+V[2]+606105819&4294967295,U=N+(P<<17&4294967295|P>>>15),P=k+(C^U&(N^C))+V[3]+3250441966&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(N^k&(U^N))+V[4]+4118548399&4294967295,C=k+(P<<7&4294967295|P>>>25),P=N+(U^C&(k^U))+V[5]+1200080426&4294967295,N=C+(P<<12&4294967295|P>>>20),P=U+(k^N&(C^k))+V[6]+2821735955&4294967295,U=N+(P<<17&4294967295|P>>>15),P=k+(C^U&(N^C))+V[7]+4249261313&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(N^k&(U^N))+V[8]+1770035416&4294967295,C=k+(P<<7&4294967295|P>>>25),P=N+(U^C&(k^U))+V[9]+2336552879&4294967295,N=C+(P<<12&4294967295|P>>>20),P=U+(k^N&(C^k))+V[10]+4294925233&4294967295,U=N+(P<<17&4294967295|P>>>15),P=k+(C^U&(N^C))+V[11]+2304563134&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(N^k&(U^N))+V[12]+1804603682&4294967295,C=k+(P<<7&4294967295|P>>>25),P=N+(U^C&(k^U))+V[13]+4254626195&4294967295,N=C+(P<<12&4294967295|P>>>20),P=U+(k^N&(C^k))+V[14]+2792965006&4294967295,U=N+(P<<17&4294967295|P>>>15),P=k+(C^U&(N^C))+V[15]+1236535329&4294967295,k=U+(P<<22&4294967295|P>>>10),P=C+(U^N&(k^U))+V[1]+4129170786&4294967295,C=k+(P<<5&4294967295|P>>>27),P=N+(k^U&(C^k))+V[6]+3225465664&4294967295,N=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(N^C))+V[11]+643717713&4294967295,U=N+(P<<14&4294967295|P>>>18),P=k+(N^C&(U^N))+V[0]+3921069994&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(U^N&(k^U))+V[5]+3593408605&4294967295,C=k+(P<<5&4294967295|P>>>27),P=N+(k^U&(C^k))+V[10]+38016083&4294967295,N=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(N^C))+V[15]+3634488961&4294967295,U=N+(P<<14&4294967295|P>>>18),P=k+(N^C&(U^N))+V[4]+3889429448&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(U^N&(k^U))+V[9]+568446438&4294967295,C=k+(P<<5&4294967295|P>>>27),P=N+(k^U&(C^k))+V[14]+3275163606&4294967295,N=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(N^C))+V[3]+4107603335&4294967295,U=N+(P<<14&4294967295|P>>>18),P=k+(N^C&(U^N))+V[8]+1163531501&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(U^N&(k^U))+V[13]+2850285829&4294967295,C=k+(P<<5&4294967295|P>>>27),P=N+(k^U&(C^k))+V[2]+4243563512&4294967295,N=C+(P<<9&4294967295|P>>>23),P=U+(C^k&(N^C))+V[7]+1735328473&4294967295,U=N+(P<<14&4294967295|P>>>18),P=k+(N^C&(U^N))+V[12]+2368359562&4294967295,k=U+(P<<20&4294967295|P>>>12),P=C+(k^U^N)+V[5]+4294588738&4294967295,C=k+(P<<4&4294967295|P>>>28),P=N+(C^k^U)+V[8]+2272392833&4294967295,N=C+(P<<11&4294967295|P>>>21),P=U+(N^C^k)+V[11]+1839030562&4294967295,U=N+(P<<16&4294967295|P>>>16),P=k+(U^N^C)+V[14]+4259657740&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(k^U^N)+V[1]+2763975236&4294967295,C=k+(P<<4&4294967295|P>>>28),P=N+(C^k^U)+V[4]+1272893353&4294967295,N=C+(P<<11&4294967295|P>>>21),P=U+(N^C^k)+V[7]+4139469664&4294967295,U=N+(P<<16&4294967295|P>>>16),P=k+(U^N^C)+V[10]+3200236656&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(k^U^N)+V[13]+681279174&4294967295,C=k+(P<<4&4294967295|P>>>28),P=N+(C^k^U)+V[0]+3936430074&4294967295,N=C+(P<<11&4294967295|P>>>21),P=U+(N^C^k)+V[3]+3572445317&4294967295,U=N+(P<<16&4294967295|P>>>16),P=k+(U^N^C)+V[6]+76029189&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(k^U^N)+V[9]+3654602809&4294967295,C=k+(P<<4&4294967295|P>>>28),P=N+(C^k^U)+V[12]+3873151461&4294967295,N=C+(P<<11&4294967295|P>>>21),P=U+(N^C^k)+V[15]+530742520&4294967295,U=N+(P<<16&4294967295|P>>>16),P=k+(U^N^C)+V[2]+3299628645&4294967295,k=U+(P<<23&4294967295|P>>>9),P=C+(U^(k|~N))+V[0]+4096336452&4294967295,C=k+(P<<6&4294967295|P>>>26),P=N+(k^(C|~U))+V[7]+1126891415&4294967295,N=C+(P<<10&4294967295|P>>>22),P=U+(C^(N|~k))+V[14]+2878612391&4294967295,U=N+(P<<15&4294967295|P>>>17),P=k+(N^(U|~C))+V[5]+4237533241&4294967295,k=U+(P<<21&4294967295|P>>>11),P=C+(U^(k|~N))+V[12]+1700485571&4294967295,C=k+(P<<6&4294967295|P>>>26),P=N+(k^(C|~U))+V[3]+2399980690&4294967295,N=C+(P<<10&4294967295|P>>>22),P=U+(C^(N|~k))+V[10]+4293915773&4294967295,U=N+(P<<15&4294967295|P>>>17),P=k+(N^(U|~C))+V[1]+2240044497&4294967295,k=U+(P<<21&4294967295|P>>>11),P=C+(U^(k|~N))+V[8]+1873313359&4294967295,C=k+(P<<6&4294967295|P>>>26),P=N+(k^(C|~U))+V[15]+4264355552&4294967295,N=C+(P<<10&4294967295|P>>>22),P=U+(C^(N|~k))+V[6]+2734768916&4294967295,U=N+(P<<15&4294967295|P>>>17),P=k+(N^(U|~C))+V[13]+1309151649&4294967295,k=U+(P<<21&4294967295|P>>>11),P=C+(U^(k|~N))+V[4]+4149444226&4294967295,C=k+(P<<6&4294967295|P>>>26),P=N+(k^(C|~U))+V[11]+3174756917&4294967295,N=C+(P<<10&4294967295|P>>>22),P=U+(C^(N|~k))+V[2]+718787259&4294967295,U=N+(P<<15&4294967295|P>>>17),P=k+(N^(U|~C))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(U+(P<<21&4294967295|P>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+N&4294967295}i.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var k=C-this.blockSize,V=this.B,U=this.h,N=0;N<C;){if(U==0)for(;N<=k;)s(this,O,N),N+=this.blockSize;if(typeof O=="string"){for(;N<C;)if(V[U++]=O.charCodeAt(N++),U==this.blockSize){s(this,V),U=0;break}}else for(;N<C;)if(V[U++]=O[N++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=C},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var k=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=k&255,k/=256;for(this.u(O),O=Array(16),C=k=0;4>C;++C)for(var V=0;32>V;V+=8)O[k++]=this.g[C]>>>V&255;return O};function o(O,C){var k=u;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=C(O)}function l(O,C){this.h=C;for(var k=[],V=!0,U=O.length-1;0<=U;U--){var N=O[U]|0;V&&N==C||(k[U]=N,V=!1)}this.g=k}var u={};function d(O){return-128<=O&&128>O?o(O,function(C){return new l([C|0],0>C?-1:0)}):new l([O|0],0>O?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return A(f(-O));for(var C=[],k=1,V=0;O>=k;V++)C[V]=O/k|0,k*=4294967296;return new l(C,0)}function p(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return A(p(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(C,8)),V=_,U=0;U<O.length;U+=8){var N=Math.min(8,O.length-U),P=parseInt(O.substring(U,U+N),C);8>N?(N=f(Math.pow(C,N)),V=V.j(N).add(f(P))):(V=V.j(k),V=V.add(f(P)))}return V}var _=d(0),v=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-A(this).m();for(var O=0,C=1,k=0;k<this.g.length;k++){var V=this.i(k);O+=(0<=V?V:4294967296+V)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(S(this))return"0";if(R(this))return"-"+A(this).toString(O);for(var C=f(Math.pow(O,6)),k=this,V="";;){var U=B(k,C).g;k=D(k,U.j(C));var N=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=U,S(k))return N+V;for(;6>N.length;)N="0"+N;V=N+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function S(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function R(O){return O.h==-1}n.l=function(O){return O=D(this,O),R(O)?-1:S(O)?0:1};function A(O){for(var C=O.g.length,k=[],V=0;V<C;V++)k[V]=~O.g[V];return new l(k,~O.h).add(v)}n.abs=function(){return R(this)?A(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],V=0,U=0;U<=C;U++){var N=V+(this.i(U)&65535)+(O.i(U)&65535),P=(N>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);V=P>>>16,N&=65535,P&=65535,k[U]=P<<16|N}return new l(k,k[k.length-1]&-2147483648?-1:0)};function D(O,C){return O.add(A(C))}n.j=function(O){if(S(this)||S(O))return _;if(R(this))return R(O)?A(this).j(A(O)):A(A(this).j(O));if(R(O))return A(this.j(A(O)));if(0>this.l(E)&&0>O.l(E))return f(this.m()*O.m());for(var C=this.g.length+O.g.length,k=[],V=0;V<2*C;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<O.g.length;U++){var N=this.i(V)>>>16,P=this.i(V)&65535,bt=O.i(U)>>>16,yt=O.i(U)&65535;k[2*V+2*U]+=P*yt,L(k,2*V+2*U),k[2*V+2*U+1]+=N*yt,L(k,2*V+2*U+1),k[2*V+2*U+1]+=P*bt,L(k,2*V+2*U+1),k[2*V+2*U+2]+=N*bt,L(k,2*V+2*U+2)}for(V=0;V<C;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=C;V<2*C;V++)k[V]=0;return new l(k,0)};function L(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function z(O,C){this.g=O,this.h=C}function B(O,C){if(S(C))throw Error("division by zero");if(S(O))return new z(_,_);if(R(O))return C=B(A(O),C),new z(A(C.g),A(C.h));if(R(C))return C=B(O,A(C)),new z(A(C.g),C.h);if(30<O.g.length){if(R(O)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var k=v,V=C;0>=V.l(O);)k=H(k),V=H(V);var U=tt(k,1),N=tt(V,1);for(V=tt(V,2),k=tt(k,2);!S(V);){var P=N.add(V);0>=P.l(O)&&(U=U.add(k),N=P),V=tt(V,1),k=tt(k,1)}return C=D(O,U.j(C)),new z(U,C)}for(U=_;0<=O.l(C);){for(k=Math.max(1,Math.floor(O.m()/C.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),N=f(k),P=N.j(C);R(P)||0<P.l(O);)k-=V,N=f(k),P=N.j(C);S(N)&&(N=v),U=U.add(N),O=D(O,P)}return new z(U,O)}n.A=function(O){return B(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],V=0;V<C;V++)k[V]=this.i(V)&O.i(V);return new l(k,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],V=0;V<C;V++)k[V]=this.i(V)|O.i(V);return new l(k,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),k=[],V=0;V<C;V++)k[V]=this.i(V)^O.i(V);return new l(k,this.h^O.h)};function H(O){for(var C=O.g.length+1,k=[],V=0;V<C;V++)k[V]=O.i(V)<<1|O.i(V-1)>>>31;return new l(k,O.h)}function tt(O,C){var k=C>>5;C%=32;for(var V=O.g.length-k,U=[],N=0;N<V;N++)U[N]=0<C?O.i(N+k)>>>C|O.i(N+k+1)<<32-C:O.i(N+k);return new l(U,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,s1=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Tr=l}).apply(typeof Bx<"u"?Bx:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r1,Hc,a1,Fd,ey,o1,l1,c1;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,b,w){return m==Array.prototype||m==Object.prototype||(m[b]=w.value),m};function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var b=0;b<m.length;++b){var w=m[b];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=e(this);function s(m,b){if(b)t:{var w=i;m=m.split(".");for(var M=0;M<m.length-1;M++){var Y=m[M];if(!(Y in w))break t;w=w[Y]}m=m[m.length-1],M=w[m],b=b(M),b!=M&&b!=null&&t(w,m,{configurable:!0,writable:!0,value:b})}}function o(m,b){m instanceof String&&(m+="");var w=0,M=!1,Y={next:function(){if(!M&&w<m.length){var J=w++;return{value:b(J,m[J]),done:!1}}return M=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}s("Array.prototype.values",function(m){return m||function(){return o(this,function(b,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(m){var b=typeof m;return b=b!="object"?b:m?Array.isArray(m)?"array":b:"null",b=="array"||b=="object"&&typeof m.length=="number"}function f(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function p(m,b,w){return m.call.apply(m.bind,arguments)}function _(m,b,w){if(!m)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,M),m.apply(b,Y)}}return function(){return m.apply(b,arguments)}}function v(m,b,w){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:_,v.apply(null,arguments)}function E(m,b){var w=Array.prototype.slice.call(arguments,1);return function(){var M=w.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function S(m,b){function w(){}w.prototype=b.prototype,m.aa=b.prototype,m.prototype=new w,m.prototype.constructor=m,m.Qb=function(M,Y,J){for(var ct=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)ct[Ft-2]=arguments[Ft];return b.prototype[Y].apply(M,ct)}}function R(m){const b=m.length;if(0<b){const w=Array(b);for(let M=0;M<b;M++)w[M]=m[M];return w}return[]}function A(m,b){for(let w=1;w<arguments.length;w++){const M=arguments[w];if(d(M)){const Y=m.length||0,J=M.length||0;m.length=Y+J;for(let ct=0;ct<J;ct++)m[Y+ct]=M[ct]}else m.push(M)}}class D{constructor(b,w){this.i=b,this.j=w,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function L(m){return/^[\s\xa0]*$/.test(m)}function z(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function B(m){return B[" "](m),m}B[" "]=function(){};var H=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function tt(m,b,w){for(const M in m)b.call(w,m[M],M,m)}function O(m,b){for(const w in m)b.call(void 0,m[w],w,m)}function C(m){const b={};for(const w in m)b[w]=m[w];return b}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,b){let w,M;for(let Y=1;Y<arguments.length;Y++){M=arguments[Y];for(w in M)m[w]=M[w];for(let J=0;J<k.length;J++)w=k[J],Object.prototype.hasOwnProperty.call(M,w)&&(m[w]=M[w])}}function U(m){var b=1;m=m.split(":");const w=[];for(;0<b&&m.length;)w.push(m.shift()),b--;return m.length&&w.push(m.join(":")),w}function N(m){u.setTimeout(()=>{throw m},0)}function P(){var m=_t;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class bt{constructor(){this.h=this.g=null}add(b,w){const M=yt.get();M.set(b,w),this.h?this.h.next=M:this.g=M,this.h=M}}var yt=new D(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(b,w){this.h=b,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,dt=!1,_t=new bt,F=()=>{const m=u.Promise.resolve(void 0);ot=()=>{m.then(rt)}};var rt=()=>{for(var m;m=P();){try{m.h.call(m.g)}catch(w){N(w)}var b=yt;b.j(m),100>b.h&&(b.h++,m.next=b.g,b.g=m)}dt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const w=()=>{};u.addEventListener("test",w,b),u.removeEventListener("test",w,b)}catch{}return m}();function It(m,b){if(lt.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var w=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget){if(H){t:{try{B(b.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(b=null)}}else w=="mouseover"?b=m.fromElement:w=="mouseout"&&(b=m.toElement);this.relatedTarget=b,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:xt[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&It.aa.h.call(this)}}S(It,lt);var xt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),re=0;function _i(m,b,w,M,Y){this.listener=m,this.proxy=null,this.src=b,this.type=w,this.capture=!!M,this.ha=Y,this.key=++re,this.da=this.fa=!1}function Ps(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Yi(m){this.src=m,this.g={},this.h=0}Yi.prototype.add=function(m,b,w,M,Y){var J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);var ct=Hr(m,b,M,Y);return-1<ct?(b=m[ct],w||(b.fa=!1)):(b=new _i(b,this.src,J,!!M,Y),b.fa=w,m.push(b)),b};function Fr(m,b){var w=b.type;if(w in m.g){var M=m.g[w],Y=Array.prototype.indexOf.call(M,b,void 0),J;(J=0<=Y)&&Array.prototype.splice.call(M,Y,1),J&&(Ps(b),m.g[w].length==0&&(delete m.g[w],m.h--))}}function Hr(m,b,w,M){for(var Y=0;Y<m.length;++Y){var J=m[Y];if(!J.da&&J.listener==b&&J.capture==!!w&&J.ha==M)return Y}return-1}var qr="closure_lm_"+(1e6*Math.random()|0),Tl={};function Wu(m,b,w,M,Y){if(Array.isArray(b)){for(var J=0;J<b.length;J++)Wu(m,b[J],w,M,Y);return null}return w=Ku(w),m&&m[He]?m.K(b,w,f(M)?!!M.capture:!1,Y):zn(m,b,w,!1,M,Y)}function zn(m,b,w,M,Y,J){if(!b)throw Error("Invalid event type");var ct=f(Y)?!!Y.capture:!!Y,Ft=to(m);if(Ft||(m[qr]=Ft=new Yi(m)),w=Ft.add(b,w,M,ct,J),w.proxy)return w;if(M=gm(),w.proxy=M,M.src=m,M.listener=w,m.addEventListener)pt||(Y=ct),Y===void 0&&(Y=!1),m.addEventListener(b.toString(),M,Y);else if(m.attachEvent)m.attachEvent(Gr(b.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return w}function gm(){function m(w){return b.call(m.src,m.listener,w)}const b=pm;return m}function Sl(m,b,w,M,Y){if(Array.isArray(b))for(var J=0;J<b.length;J++)Sl(m,b[J],w,M,Y);else M=f(M)?!!M.capture:!!M,w=Ku(w),m&&m[He]?(m=m.i,b=String(b).toString(),b in m.g&&(J=m.g[b],w=Hr(J,w,M,Y),-1<w&&(Ps(J[w]),Array.prototype.splice.call(J,w,1),J.length==0&&(delete m.g[b],m.h--)))):m&&(m=to(m))&&(b=m.g[b.toString()],m=-1,b&&(m=Hr(b,w,M,Y)),(w=-1<m?b[m]:null)&&Ja(w))}function Ja(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[He])Fr(b.i,m);else{var w=m.type,M=m.proxy;b.removeEventListener?b.removeEventListener(w,M,m.capture):b.detachEvent?b.detachEvent(Gr(w),M):b.addListener&&b.removeListener&&b.removeListener(M),(w=to(b))?(Fr(w,m),w.h==0&&(w.src=null,b[qr]=null)):Ps(m)}}}function Gr(m){return m in Tl?Tl[m]:Tl[m]="on"+m}function pm(m,b){if(m.da)m=!0;else{b=new It(b,this);var w=m.listener,M=m.ha||m.src;m.fa&&Ja(m),m=w.call(M,b)}return m}function to(m){return m=m[qr],m instanceof Yi?m:null}var Al="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ku(m){return typeof m=="function"?m:(m[Al]||(m[Al]=function(b){return m.handleEvent(b)}),m[Al])}function _e(){ut.call(this),this.i=new Yi(this),this.M=this,this.F=null}S(_e,ut),_e.prototype[He]=!0,_e.prototype.removeEventListener=function(m,b,w,M){Sl(this,m,b,w,M)};function Qt(m,b){var w,M=m.F;if(M)for(w=[];M;M=M.F)w.push(M);if(m=m.M,M=b.type||b,typeof b=="string")b=new lt(b,m);else if(b instanceof lt)b.target=b.target||m;else{var Y=b;b=new lt(M,m),V(b,Y)}if(Y=!0,w)for(var J=w.length-1;0<=J;J--){var ct=b.g=w[J];Y=Rn(ct,M,!0,b)&&Y}if(ct=b.g=m,Y=Rn(ct,M,!0,b)&&Y,Y=Rn(ct,M,!1,b)&&Y,w)for(J=0;J<w.length;J++)ct=b.g=w[J],Y=Rn(ct,M,!1,b)&&Y}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var m=this.i,b;for(b in m.g){for(var w=m.g[b],M=0;M<w.length;M++)Ps(w[M]);delete m.g[b],m.h--}}this.F=null},_e.prototype.K=function(m,b,w,M){return this.i.add(String(m),b,!1,w,M)},_e.prototype.L=function(m,b,w,M){return this.i.add(String(m),b,!0,w,M)};function Rn(m,b,w,M){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,J=0;J<b.length;++J){var ct=b[J];if(ct&&!ct.da&&ct.capture==w){var Ft=ct.listener,Le=ct.ha||ct.src;ct.fa&&Fr(m.i,ct),Y=Ft.call(Le,M)!==!1&&Y}}return Y&&!M.defaultPrevented}function an(m,b,w){if(typeof m=="function")w&&(m=v(m,w));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(m,b||0)}function Qu(m){m.g=an(()=>{m.g=null,m.i&&(m.i=!1,Qu(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class ym extends ut{constructor(b,w){super(),this.m=b,this.l=w,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(m){ut.call(this),this.h=m,this.g={}}S(Yr,ut);var $r=[];function Wr(m){tt(m.g,function(b,w){this.g.hasOwnProperty(w)&&Ja(b)},m),m.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Wr(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=u.JSON.stringify,eo=u.JSON.parse,Kr=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Rl(){}Rl.prototype.h=null;function Cl(m){return m.h||(m.h=m.i())}function Il(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){lt.call(this,"d")}S(Wi,lt);function Dl(){lt.call(this,"c")}S(Dl,lt);var vi={},Ml=null;function Ls(){return Ml=Ml||new _e}vi.La="serverreachability";function no(m){lt.call(this,vi.La,m)}S(no,lt);function Vs(m){const b=Ls();Qt(b,new no(b))}vi.STAT_EVENT="statevent";function Xu(m,b){lt.call(this,vi.STAT_EVENT,m),this.stat=b}S(Xu,lt);function he(m){const b=Ls();Qt(b,new Xu(b,m))}vi.Ma="timingevent";function Pe(m,b){lt.call(this,vi.Ma,m),this.size=b}S(Pe,lt);function Re(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},b)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Nl(m,b,w,M,Y,J){m.info(function(){if(m.g)if(J)for(var ct="",Ft=J.split("&"),Le=0;Le<Ft.length;Le++){var Ht=Ft[Le].split("=");if(1<Ht.length){var Ge=Ht[0];Ht=Ht[1];var Ve=Ge.split("_");ct=2<=Ve.length&&Ve[1]=="type"?ct+(Ge+"="+Ht+"&"):ct+(Ge+"=redacted&")}}else ct=null;else ct=J;return"XMLHTTP REQ ("+M+") [attempt "+Y+"]: "+b+`
`+w+`
`+ct})}function _m(m,b,w,M,Y,J,ct){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+Y+"]: "+b+`
`+w+`
`+J+" "+ct})}function js(m,b,w,M){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Qr(m,w)+(M?" "+M:"")})}function Zu(m,b){m.info(function(){return"TIMEOUT: "+b})}Bn.prototype.info=function(){};function Qr(m,b){if(!m.g)return b;if(!b)return null;try{var w=JSON.parse(b);if(w){for(m=0;m<w.length;m++)if(Array.isArray(w[m])){var M=w[m];if(!(2>M.length)){var Y=M[1];if(Array.isArray(Y)&&!(1>Y.length)){var J=Y[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ct=1;ct<Y.length;ct++)Y[ct]=""}}}}return ni(w)}catch{return b}}var Us={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function xi(){}S(xi,Rl),xi.prototype.g=function(){return new XMLHttpRequest},xi.prototype.i=function(){return{}},bi=new xi;function pn(m,b,w,M){this.j=m,this.i=b,this.l=w,this.R=M||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var kl={},io={};function ii(m,b,w){m.L=1,m.v=ea(Cn(b)),m.m=w,m.P=!0,Qi(m,null)}function Qi(m,b){m.F=Date.now(),Xr(m),m.A=Cn(m.v);var w=m.A,M=m.R;Array.isArray(M)||(M=[String(M)]),Ul(w.i,"t",M),m.C=0,w=m.j.J,m.h=new Ee,m.g=mh(m.j,w?b:null,!m.m),0<m.O&&(m.M=new ym(v(m.Y,m,m.g),m.O)),b=m.U,w=m.g,M=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&($r[0]=Y.toString()),Y=$r);for(var J=0;J<Y.length;J++){var ct=Wu(w,Y[J],M||b.handleEvent,!1,b.h||b);if(!ct)break;b.g[ct.key]=ct}b=m.H?C(m.H):{},m.m?(m.u||(m.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,b)):(m.u="GET",m.g.ea(m.A,m.u,null,b)),Vs(),Nl(m.i,m.u,m.A,m.l,m.R,m.m)}pn.prototype.ca=function(m){m=m.target;const b=this.M;b&&Gn(m)==3?b.j():this.Y(m)},pn.prototype.Y=function(m){try{if(m==this.g)t:{const Ve=Gn(this.g);var b=this.g.Ba();const ss=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||Ve!=4||b==7||(b==8||0>=ss?Vs(3):Vs(2)),zs(this);var w=this.g.Z();this.X=w;e:if(Ju(this)){var M=ah(this.g);m="";var Y=M.length,J=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xe(this),Ei(this);var ct="";break e}this.h.i=new u.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,m+=this.h.i.decode(M[b],{stream:!(J&&b==Y-1)});M.length=0,this.h.g+=m,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=w==200,_m(this.i,this.u,this.A,this.l,this.R,Ve,w),this.o){if(this.T&&!this.K){e:{if(this.g){var Ft,Le=this.g;if((Ft=Le.g?Le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ft)){var Ht=Ft;break e}}Ht=null}if(w=Ht)js(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,w);else{this.o=!1,this.s=3,he(12),Xe(this),Ei(this);break t}}if(this.P){w=!0;let Ze;for(;!this.J&&this.C<ct.length;)if(Ze=th(this,ct),Ze==io){Ve==4&&(this.s=4,he(14),w=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==kl){this.s=4,he(15),js(this.i,this.l,ct,"[Invalid Chunk]"),w=!1;break}else js(this.i,this.l,Ze,null),Zr(this,Ze);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||ct.length!=0||this.h.h||(this.s=1,he(16),w=!1),this.o=this.o&&w,!w)js(this.i,this.l,ct,"[Invalid Chunked Response]"),Xe(this),Ei(this);else if(0<ct.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),ca(Ge),Ge.M=!0,he(11))}}else js(this.i,this.l,ct,null),Zr(this,ct);Ve==4&&Xe(this),this.o&&!this.J&&(Ve==4?hh(this.j,this):(this.o=!1,Xr(this)))}else wm(this.g),w==400&&0<ct.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Xe(this),Ei(this)}}}catch{}finally{}};function Ju(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function th(m,b){var w=m.C,M=b.indexOf(`
`,w);return M==-1?io:(w=Number(b.substring(w,M)),isNaN(w)?kl:(M+=1,M+w>b.length?io:(b=b.slice(M,M+w),m.C=M+w,b)))}pn.prototype.cancel=function(){this.J=!0,Xe(this)};function Xr(m){m.S=Date.now()+m.I,eh(m,m.I)}function eh(m,b){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Re(v(m.ba,m),b)}function zs(m){m.B&&(u.clearTimeout(m.B),m.B=null)}pn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Zu(this.i,this.A),this.L!=2&&(Vs(),he(17)),Xe(this),this.s=2,Ei(this)):eh(this,this.S-m)};function Ei(m){m.j.G==0||m.J||hh(m.j,m)}function Xe(m){zs(m);var b=m.M;b&&typeof b.ma=="function"&&b.ma(),m.M=null,Wr(m.U),m.g&&(b=m.g,m.g=null,b.abort(),b.ma())}function Zr(m,b){try{var w=m.j;if(w.G!=0&&(w.g==m||Ol(w.h,m))){if(!m.K&&Ol(w.h,m)&&w.G==3){try{var M=w.Da.g.parse(b)}catch{M=null}if(Array.isArray(M)&&M.length==3){var Y=M;if(Y[0]==0){t:if(!w.u){if(w.g)if(w.g.F+3e3<m.F)po(w),mo(w);else break t;ql(w),he(18)}}else w.za=Y[1],0<w.za-w.T&&37500>Y[2]&&w.F&&w.v==0&&!w.C&&(w.C=Re(v(w.Za,w),6e3));if(1>=ro(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else is(w,11)}else if((m.K||w.g==m)&&po(w),!L(b))for(Y=w.Da.g.parse(b),b=0;b<Y.length;b++){let Ht=Y[b];if(w.T=Ht[0],Ht=Ht[1],w.G==2)if(Ht[0]=="c"){w.K=Ht[1],w.ia=Ht[2];const Ge=Ht[3];Ge!=null&&(w.la=Ge,w.j.info("VER="+w.la));const Ve=Ht[4];Ve!=null&&(w.Aa=Ve,w.j.info("SVER="+w.Aa));const ss=Ht[5];ss!=null&&typeof ss=="number"&&0<ss&&(M=1.5*ss,w.L=M,w.j.info("backChannelRequestTimeoutMs_="+M)),M=w;const Ze=m.g;if(Ze){const Ii=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var J=M.h;J.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ao(J,J.h),J.h=null))}if(M.D){const Yl=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(M.ya=Yl,te(M.I,M.D,Yl))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-m.F,w.j.info("Handshake RTT: "+w.R+"ms")),M=w;var ct=m;if(M.qa=fh(M,M.J?M.ia:null,M.W),ct.K){yn(M.h,ct);var Ft=ct,Le=M.L;Le&&(Ft.I=Le),Ft.B&&(zs(Ft),Xr(Ft)),M.g=ct}else ch(M);0<w.i.length&&go(w)}else Ht[0]!="stop"&&Ht[0]!="close"||is(w,7);else w.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?is(w,7):Fl(w):Ht[0]!="noop"&&w.l&&w.l.ta(Ht),w.v=0)}}Vs(4)}catch{}}var nh=class{constructor(m,b){this.g=m,this.map=b}};function Xi(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function so(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ro(m){return m.h?1:m.g?m.g.size:0}function Ol(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function ao(m,b){m.g?m.g.add(b):m.h=b}function yn(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}Xi.prototype.cancel=function(){if(this.i=Pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Pl(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const w of m.g.values())b=b.concat(w.D);return b}return R(m.i)}function vm(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var b=[],w=m.length,M=0;M<w;M++)b.push(m[M]);return b}b=[],w=0;for(M in m)b[w++]=m[M];return b}function oo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var b=[];m=m.length;for(var w=0;w<m;w++)b.push(w);return b}b=[],w=0;for(const M in m)b[w++]=M;return b}}}function Ll(m,b){if(m.forEach&&typeof m.forEach=="function")m.forEach(b,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,b,void 0);else for(var w=oo(m),M=vm(m),Y=M.length,J=0;J<Y;J++)b.call(void 0,M[J],w&&w[J],m)}var Jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bm(m,b){if(m){m=m.split("&");for(var w=0;w<m.length;w++){var M=m[w].indexOf("="),Y=null;if(0<=M){var J=m[w].substring(0,M);Y=m[w].substring(M+1)}else J=m[w];b(J,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ce(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ce){this.h=m.h,ta(this,m.j),this.o=m.o,this.g=m.g,Bs(this,m.s),this.l=m.l;var b=m.i,w=new Ji;w.i=b.i,b.g&&(w.g=new Map(b.g),w.h=b.h),Zi(this,w),this.m=m.m}else m&&(b=String(m).match(Jr))?(this.h=!1,ta(this,b[1]||"",!0),this.o=Fn(b[2]||""),this.g=Fn(b[3]||"",!0),Bs(this,b[4]),this.l=Fn(b[5]||"",!0),Zi(this,b[6]||"",!0),this.m=Fn(b[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}Ce.prototype.toString=function(){var m=[],b=this.j;b&&m.push(na(b,Vl,!0),":");var w=this.g;return(w||b=="file")&&(m.push("//"),(b=this.o)&&m.push(na(b,Vl,!0),"@"),m.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&m.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&m.push("/"),m.push(na(w,w.charAt(0)=="/"?xm:jl,!0))),(w=this.i.toString())&&m.push("?",w),(w=this.m)&&m.push("#",na(w,lo)),m.join("")};function Cn(m){return new Ce(m)}function ta(m,b,w){m.j=w?Fn(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function Bs(m,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);m.s=b}else m.s=null}function Zi(m,b,w){b instanceof Ji?(m.i=b,sh(m.i,m.h)):(w||(b=na(b,Em)),m.i=new Ji(b,m.h))}function te(m,b,w){m.i.set(b,w)}function ea(m){return te(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Fn(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function na(m,b,w){return typeof m=="string"?(m=encodeURI(m).replace(b,ih),w&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ih(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Vl=/[#\/\?@]/g,jl=/[#\?:]/g,xm=/[#\?]/g,Em=/[#\?@]/g,lo=/#/g;function Ji(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function Hn(m){m.g||(m.g=new Map,m.h=0,m.i&&bm(m.i,function(b,w){m.add(decodeURIComponent(b.replace(/\+/g," ")),w)}))}n=Ji.prototype,n.add=function(m,b){Hn(this),this.i=null,m=wi(this,m);var w=this.g.get(m);return w||this.g.set(m,w=[]),w.push(b),this.h+=1,this};function ts(m,b){Hn(m),b=wi(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function es(m,b){return Hn(m),b=wi(m,b),m.g.has(b)}n.forEach=function(m,b){Hn(this),this.g.forEach(function(w,M){w.forEach(function(Y){m.call(b,Y,M,this)},this)},this)},n.na=function(){Hn(this);const m=Array.from(this.g.values()),b=Array.from(this.g.keys()),w=[];for(let M=0;M<b.length;M++){const Y=m[M];for(let J=0;J<Y.length;J++)w.push(b[M])}return w},n.V=function(m){Hn(this);let b=[];if(typeof m=="string")es(this,m)&&(b=b.concat(this.g.get(wi(this,m))));else{m=Array.from(this.g.values());for(let w=0;w<m.length;w++)b=b.concat(m[w])}return b},n.set=function(m,b){return Hn(this),this.i=null,m=wi(this,m),es(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=this.V(m),0<m.length?String(m[0]):b):b};function Ul(m,b,w){ts(m,b),0<w.length&&(m.i=null,m.g.set(wi(m,b),R(w)),m.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(var w=0;w<b.length;w++){var M=b[w];const J=encodeURIComponent(String(M)),ct=this.V(M);for(M=0;M<ct.length;M++){var Y=J;ct[M]!==""&&(Y+="="+encodeURIComponent(String(ct[M]))),m.push(Y)}}return this.i=m.join("&")};function wi(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function sh(m,b){b&&!m.j&&(Hn(m),m.i=null,m.g.forEach(function(w,M){var Y=M.toLowerCase();M!=Y&&(ts(this,M),Ul(this,Y,w))},m)),m.j=b}function ia(m,b){const w=new Bn;if(u.Image){const M=new Image;M.onload=E(qn,w,"TestLoadImage: loaded",!0,b,M),M.onerror=E(qn,w,"TestLoadImage: error",!1,b,M),M.onabort=E(qn,w,"TestLoadImage: abort",!1,b,M),M.ontimeout=E(qn,w,"TestLoadImage: timeout",!1,b,M),u.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else b(!1)}function si(m,b){const w=new Bn,M=new AbortController,Y=setTimeout(()=>{M.abort(),qn(w,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:M.signal}).then(J=>{clearTimeout(Y),J.ok?qn(w,"TestPingServer: ok",!0,b):qn(w,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),qn(w,"TestPingServer: error",!1,b)})}function qn(m,b,w,M,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),M(w)}catch{}}function sa(){this.g=new Kr}function Ti(m,b,w){const M=w||"";try{Ll(m,function(Y,J){let ct=Y;f(Y)&&(ct=ni(Y)),b.push(M+J+"="+encodeURIComponent(ct))})}catch(Y){throw b.push(M+"type="+encodeURIComponent("_badmap")),Y}}function Fs(m){this.l=m.Ub||null,this.j=m.eb||!1}S(Fs,Rl),Fs.prototype.g=function(){return new ns(this.l,this.j)},Fs.prototype.i=function(m){return function(){return m}}({});function ns(m,b){_e.call(this),this.D=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ns,_e),n=ns.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=b,this.readyState=1,Ai(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(b.body=m),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?Si(this):Ai(this),this.readyState==3&&zl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,Si(this))},n.Qa=function(m){this.g&&(this.response=m,Si(this))},n.ga=function(){this.g&&Si(this)};function Si(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ai(m)}n.setRequestHeader=function(m,b){this.u.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var w=b.next();!w.done;)w=w.value,m.push(w[0]+": "+w[1]),w=b.next();return m.join(`\r
`)};function Ai(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Bl(m){let b="";return tt(m,function(w,M){b+=M,b+=":",b+=w,b+=`\r
`}),b}function qe(m,b,w){t:{for(M in w){var M=!1;break t}M=!0}M||(w=Bl(w),typeof m=="string"?w!=null&&encodeURIComponent(String(w)):te(m,b,w))}function Wt(m){_e.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Wt,_e);var co=/^https?$/i,ra=["POST","PUT"];n=Wt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,b,w,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?Cl(this.o):Cl(bi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(J){rh(this,J);return}if(m=w||"",w=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var Y in M)w.set(Y,M[Y]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const J of M.keys())w.set(J,M.get(J));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),Y=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ra,b,void 0))||M||Y||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ct]of w)this.g.setRequestHeader(J,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(m),this.u=!1}catch(J){rh(this,J)}};function rh(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.m=5,uo(m),Ri(m)}function uo(m){m.A||(m.A=!0,Qt(m,"complete"),Qt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Qt(this,"complete"),Qt(this,"abort"),Ri(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ho(this):this.bb())},n.bb=function(){ho(this)};function ho(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Gn(m)!=4||m.Z()!=2)){if(m.u&&Gn(m)==4)an(m.Ea,0,m);else if(Qt(m,"readystatechange"),Gn(m)==4){m.h=!1;try{const ct=m.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var w;if(!(w=b)){var M;if(M=ct===0){var Y=String(m.D).match(Jr)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),M=!co.test(Y?Y.toLowerCase():"")}w=M}if(w)Qt(m,"complete"),Qt(m,"success");else{m.m=6;try{var J=2<Gn(m)?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.Z()+"]",uo(m)}}finally{Ri(m)}}}}function Ri(m,b){if(m.g){aa(m);const w=m.g,M=m.v[0]?()=>{}:null;m.g=null,m.v=null,b||Qt(m,"ready");try{w.onreadystatechange=M}catch{}}}function aa(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Gn(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),eo(b)}};function ah(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function wm(m){const b={};m=(m.g&&2<=Gn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(L(m[M]))continue;var w=U(m[M]);const Y=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=b[Y]||[];b[Y]=J,J.push(w)}O(b,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(m,b,w){return w&&w.internalChannelParams&&w.internalChannelParams[m]||b}function fo(m){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oa("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oa("baseRetryDelayMs",5e3,m),this.cb=oa("retryDelaySeedMs",1e4,m),this.Wa=oa("forwardChannelMaxRetries",2,m),this.wa=oa("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(m&&m.concurrentRequestLimit),this.Da=new sa,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fo.prototype,n.la=8,n.G=1,n.connect=function(m,b,w,M){he(0),this.W=m,this.H=b||{},w&&M!==void 0&&(this.H.OSID=w,this.H.OAID=M),this.F=this.X,this.I=fh(this,null,this.W),go(this)};function Fl(m){if(oh(m),m.G==3){var b=m.U++,w=Cn(m.I);if(te(w,"SID",m.K),te(w,"RID",b),te(w,"TYPE","terminate"),la(m,w),b=new pn(m,m.j,b),b.L=2,b.v=ea(Cn(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!w&&u.Image&&(new Image().src=b.v,w=!0),w||(b.g=mh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Xr(b)}dh(m)}function mo(m){m.g&&(ca(m),m.g.cancel(),m.g=null)}function oh(m){mo(m),m.u&&(u.clearTimeout(m.u),m.u=null),po(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function go(m){if(!so(m.h)&&!m.s){m.s=!0;var b=m.Ga;ot||F(),dt||(ot(),dt=!0),_t.add(b,m),m.B=0}}function Tm(m,b){return ro(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=b.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Re(v(m.Ga,m,b),Gl(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new pn(this,this.j,m);let J=this.o;if(this.S&&(J?(J=C(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(Y.H=J,J=null),this.P)t:{for(var b=0,w=0;w<this.i.length;w++){e:{var M=this.i[w];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break e}M=void 0}if(M===void 0)break;if(b+=M,4096<b){b=w;break t}if(b===4096||w===this.i.length-1){b=w+1;break t}}b=1e3}else b=1e3;b=lh(this,Y,b),w=Cn(this.I),te(w,"RID",m),te(w,"CVER",22),this.D&&te(w,"X-HTTP-Session-Id",this.D),la(this,w),J&&(this.O?b="headers="+encodeURIComponent(String(Bl(J)))+"&"+b:this.m&&qe(w,this.m,J)),ao(this.h,Y),this.Ua&&te(w,"TYPE","init"),this.P?(te(w,"$req",b),te(w,"SID","null"),Y.T=!0,ii(Y,w,null)):ii(Y,w,b),this.G=2}}else this.G==3&&(m?Hl(this,m):this.i.length==0||so(this.h)||Hl(this))};function Hl(m,b){var w;b?w=b.l:w=m.U++;const M=Cn(m.I);te(M,"SID",m.K),te(M,"RID",w),te(M,"AID",m.T),la(m,M),m.m&&m.o&&qe(M,m.m,m.o),w=new pn(m,m.j,w,m.B+1),m.m===null&&(w.H=m.o),b&&(m.i=b.D.concat(m.i)),b=lh(m,w,1e3),w.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),ao(m.h,w),ii(w,M,b)}function la(m,b){m.H&&tt(m.H,function(w,M){te(b,M,w)}),m.l&&Ll({},function(w,M){te(b,M,w)})}function lh(m,b,w){w=Math.min(m.i.length,w);var M=m.l?v(m.l.Na,m.l,m):null;t:{var Y=m.i;let J=-1;for(;;){const ct=["count="+w];J==-1?0<w?(J=Y[0].g,ct.push("ofs="+J)):J=0:ct.push("ofs="+J);let Ft=!0;for(let Le=0;Le<w;Le++){let Ht=Y[Le].g;const Ge=Y[Le].map;if(Ht-=J,0>Ht)J=Math.max(0,Y[Le].g-100),Ft=!1;else try{Ti(Ge,ct,"req"+Ht+"_")}catch{M&&M(Ge)}}if(Ft){M=ct.join("&");break t}}}return m=m.i.splice(0,w),b.D=m,M}function ch(m){if(!m.g&&!m.u){m.Y=1;var b=m.Fa;ot||F(),dt||(ot(),dt=!0),_t.add(b,m),m.v=0}}function ql(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Re(v(m.Fa,m),Gl(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,uh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Re(v(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),mo(this),uh(this))};function ca(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function uh(m){m.g=new pn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var b=Cn(m.qa);te(b,"RID","rpc"),te(b,"SID",m.K),te(b,"AID",m.T),te(b,"CI",m.F?"0":"1"),!m.F&&m.ja&&te(b,"TO",m.ja),te(b,"TYPE","xmlhttp"),la(m,b),m.m&&m.o&&qe(b,m.m,m.o),m.L&&(m.g.I=m.L);var w=m.g;m=m.ia,w.L=1,w.v=ea(Cn(b)),w.m=null,w.P=!0,Qi(w,m)}n.Za=function(){this.C!=null&&(this.C=null,mo(this),ql(this),he(19))};function po(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function hh(m,b){var w=null;if(m.g==b){po(m),ca(m),m.g=null;var M=2}else if(Ol(m.h,b))w=b.D,yn(m.h,b),M=1;else return;if(m.G!=0){if(b.o)if(M==1){w=b.m?b.m.length:0,b=Date.now()-b.F;var Y=m.B;M=Ls(),Qt(M,new Pe(M,w)),go(m)}else ch(m);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(M==1&&Tm(m,b)||M==2&&ql(m)))switch(w&&0<w.length&&(b=m.h,b.i=b.i.concat(w)),Y){case 1:is(m,5);break;case 4:is(m,10);break;case 3:is(m,6);break;default:is(m,2)}}}function Gl(m,b){let w=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(w*=2),w*b}function is(m,b){if(m.j.info("Error code "+b),b==2){var w=v(m.fb,m),M=m.Xa;const Y=!M;M=new Ce(M||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ta(M,"https"),ea(M),Y?ia(M.toString(),w):si(M.toString(),w)}else he(2);m.G=0,m.l&&m.l.sa(b),dh(m),oh(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function dh(m){if(m.G=0,m.ka=[],m.l){const b=Pl(m.h);(b.length!=0||m.i.length!=0)&&(A(m.ka,b),A(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function fh(m,b,w){var M=w instanceof Ce?Cn(w):new Ce(w);if(M.g!="")b&&(M.g=b+"."+M.g),Bs(M,M.s);else{var Y=u.location;M=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var J=new Ce(null);M&&ta(J,M),b&&(J.g=b),Y&&Bs(J,Y),w&&(J.l=w),M=J}return w=m.D,b=m.ya,w&&b&&te(M,w,b),te(M,"VER",m.la),la(m,M),M}function mh(m,b,w){if(b&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Ca&&!m.pa?new Wt(new Fs({eb:w})):new Wt(m.pa),b.Ha(m.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gh(){}n=gh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yo(){}yo.prototype.g=function(m,b){return new _n(m,b)};function _n(m,b){_e.call(this),this.g=new fo(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(m?m["X-WebChannel-Client-Profile"]=b.va:m={"X-WebChannel-Client-Profile":b.va}),this.g.S=m,(m=b&&b.Sb)&&!L(m)&&(this.g.m=m),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!L(b)&&(this.g.D=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Ci(this)}S(_n,_e),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Fl(this.g)},_n.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var w={};w.__data__=m,m=w}else this.u&&(w={},w.__data__=ni(m),m=w);b.i.push(new nh(b.Ya++,m)),b.G==3&&go(b)},_n.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,_n.aa.N.call(this)};function ph(m){Wi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const w in b){m=w;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}S(ph,Wi);function yh(){Dl.call(this),this.status=1}S(yh,Dl);function Ci(m){this.g=m}S(Ci,gh),Ci.prototype.ua=function(){Qt(this.g,"a")},Ci.prototype.ta=function(m){Qt(this.g,new ph(m))},Ci.prototype.sa=function(m){Qt(this.g,new yh)},Ci.prototype.ra=function(){Qt(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,c1=function(){return new yo},l1=function(){return Ls()},o1=vi,ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,Fd=Us,Ki.COMPLETE="complete",a1=Ki,Il.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Hc=Il,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,r1=Wt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const Fx="@firebase/firestore",Hx="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new $y("@firebase/firestore");function Wo(){return Ba.logLevel}function ft(n,...t){if(Ba.logLevel<=Ut.DEBUG){const e=t.map(Qy);Ba.debug(`Firestore (${vl}): ${n}`,...e)}}function Ms(n,...t){if(Ba.logLevel<=Ut.ERROR){const e=t.map(Qy);Ba.error(`Firestore (${vl}): ${n}`,...e)}}function rl(n,...t){if(Ba.logLevel<=Ut.WARN){const e=t.map(Qy);Ba.warn(`Firestore (${vl}): ${n}`,...e)}}function Qy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,u1(n,i,e)}function u1(n,t,e){let i=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ms(i),new Error(i)}function Kt(n,t,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,n||u1(t,s,i)}function Dt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Os{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(hn.UNAUTHENTICATED))}shutdown(){}}class hM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class dM{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},u=d=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt(typeof i.accessToken=="string",31837,{l:i}),new h1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class fM{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mM{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new fM(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gM{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const i=o=>{o.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ft("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new qx(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=pM(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%62))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function ny(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),s=t.codePointAt(e);if(i!==s){if(i<128&&s<128)return Ot(i,s);{const o=d1(),l=yM(o.encode(Gx(n,e)),o.encode(Gx(t,e)));return l!==0?l:Ot(i,s)}}e+=i>65535?2:1}return Ot(n.length,t.length)}function Gx(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function yM(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ot(n[e],t[e]);return Ot(n.length,t.length)}function al(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=-62135596800,$x=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(t){return Be.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*$x);return new Be(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Yx)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$x}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Yx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new Be(0,0))}static max(){return new Ct(new Be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__name__";class Vi{constructor(t,e,i){e===void 0?e=0:e>t.length&&At(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&At(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=Vi.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return Ot(t.length,e.length)}static compareSegments(t,e){const i=Vi.isNumericId(t),s=Vi.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?Vi.extractNumericId(t).compare(Vi.extractNumericId(e)):ny(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Tr.fromString(t.substring(4,t.length-2))}}class le extends Vi{construct(t,e,i){return new le(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new le(e)}static emptyPath(){return new le([])}}const _M=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Vi{construct(t,e,i){return new sn(t,e,i)}static isValidIdentifier(t){return _M.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wx}static keyField(){return new sn([Wx])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(i.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new gt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new gt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new gt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(e)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(le.fromString(t))}static fromName(t){return new Et(le.fromString(t).popFirst(5))}static empty(){return new Et(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new le(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function vM(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(i===1e9?new Be(e+1,0):new Be(e,i));return new Cr(s,Et.empty(),t)}function bM(n){return new Cr(n.readTime,n.key,fu)}class Cr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Cr(Ct.min(),Et.empty(),fu)}static max(){return new Cr(Ct.max(),Et.empty(),fu)}}function xM(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(n.documentKey,t.documentKey),e!==0?e:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==EM)throw n;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new st((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof st?e:st.resolve(e)}catch(e){return st.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):st.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):st.reject(e)}static resolve(t){return new st((e,i)=>{e(t)})}static reject(t){return new st((e,i)=>{i(t)})}static waitFor(t){return new st((e,i)=>{let s=0,o=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&e()},d=>i(d))}),l=!0,o===s&&e()})}static or(t){let e=st.resolve(!1);for(const i of t)e=e.next(s=>s?st.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new st((i,s)=>{const o=t.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;e(t[f]).next(p=>{l[f]=p,++u,u===o&&i(l)},p=>s(p))}})}static doWhile(t,e){return new st((i,s)=>{const o=()=>{t()===!0?e().next(()=>{o()},s):i()};o()})}}function TM(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Ff.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function Hf(n){return n==null}function uf(n){return n===0&&1/n==-1/0}function SM(n){return typeof n=="number"&&Number.isInteger(n)&&!uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="";function AM(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Kx(t)),t=RM(n.get(e),t);return Kx(t)}function RM(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case m1:e+="";break;default:e+=o}}return e}function Kx(n){return n+m1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Vr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function g1(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,e){this.comparator=t,this.root=e||nn.EMPTY}insert(t,e){return new ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bd(this.root,t,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bd(this.root,t,this.comparator,!0)}}class bd{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??nn.RED,this.left=s??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new nn(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return nn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,e,i,s,o){return this}insert(t,e,i){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Xx(this.data.getIterator())}getIteratorFrom(t){return new Xx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Fe(this.comparator);return e.data=t,e}}class Xx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new jn([])}unionWith(t){let e=new Fe(sn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new jn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return al(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new p1("Invalid base64 string: "+o):o}}(t);return new rn(e)}static fromUint8Array(t){const e=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(t);return new rn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const CM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=CM.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Dr(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="server_timestamp",_1="__type__",v1="__previous_value__",b1="__local_write_time__";function Zy(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[_1])===null||e===void 0?void 0:e.stringValue)===y1}function qf(n){const t=n.mapValue.fields[v1];return Zy(t)?qf(t):t}function mu(n){const t=Ir(n.mapValue.fields[b1].timestampValue);return new Be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,e,i,s,o,l,u,d,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const hf="(default)";class gu{constructor(t,e){this.projectId=t,this.database=e||hf}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===hf}isEqual(t){return t instanceof gu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="__type__",DM="__max__",xd={mapValue:{}},E1="__vector__",df="value";function Mr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zy(n)?4:NM(n)?9007199254740991:MM(n)?10:11:At(28295,{value:n})}function qi(n,t){if(n===t)return!0;const e=Mr(n);if(e!==Mr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mu(n).isEqual(mu(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Ir(s.timestampValue),u=Ir(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return Dr(s.bytesValue).isEqual(Dr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return Se(s.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(s.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Se(s.integerValue)===Se(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Se(s.doubleValue),u=Se(o.doubleValue);return l===u?uf(l)===uf(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return al(n.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(Qx(l)!==Qx(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!qi(l[d],u[d])))return!1;return!0}(n,t);default:return At(52216,{left:n})}}function pu(n,t){return(n.values||[]).find(e=>qi(e,t))!==void 0}function ol(n,t){if(n===t)return 0;const e=Mr(n),i=Mr(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(o,l){const u=Se(o.integerValue||o.doubleValue),d=Se(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,t);case 3:return Zx(n.timestampValue,t.timestampValue);case 4:return Zx(mu(n),mu(t));case 5:return ny(n.stringValue,t.stringValue);case 6:return function(o,l){const u=Dr(o),d=Dr(l);return u.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=Ot(u[f],d[f]);if(p!==0)return p}return Ot(u.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const u=Ot(Se(o.latitude),Se(l.latitude));return u!==0?u:Ot(Se(o.longitude),Se(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Jx(n.arrayValue,t.arrayValue);case 10:return function(o,l){var u,d,f,p;const _=o.fields||{},v=l.fields||{},E=(u=_[df])===null||u===void 0?void 0:u.arrayValue,S=(d=v[df])===null||d===void 0?void 0:d.arrayValue,R=Ot(((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:Jx(E,S)}(n.mapValue,t.mapValue);case 11:return function(o,l){if(o===xd.mapValue&&l===xd.mapValue)return 0;if(o===xd.mapValue)return 1;if(l===xd.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let _=0;_<d.length&&_<p.length;++_){const v=ny(d[_],p[_]);if(v!==0)return v;const E=ol(u[d[_]],f[p[_]]);if(E!==0)return E}return Ot(d.length,p.length)}(n.mapValue,t.mapValue);default:throw At(23264,{Pe:e})}}function Zx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const e=Ir(n),i=Ir(t),s=Ot(e.seconds,i.seconds);return s!==0?s:Ot(e.nanos,i.nanos)}function Jx(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const o=ol(e[s],i[s]);if(o)return o}return Ot(e.length,i.length)}function ll(n){return iy(n)}function iy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Ir(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Dr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Et.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const o of e.values||[])s?s=!1:i+=",",i+=iy(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${iy(e.fields[l])}`;return s+"}"}(n.mapValue):At(61005,{value:n})}function Hd(n){switch(Mr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qf(n);return t?16+Hd(t):16;case 5:return 2*n.stringValue.length;case 6:return Dr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Hd(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Vr(i.fields,(o,l)=>{s+=o.length+Hd(l)}),s}(n.mapValue);default:throw At(13486,{value:n})}}function tE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function sy(n){return!!n&&"integerValue"in n}function Jy(n){return!!n&&"arrayValue"in n}function eE(n){return!!n&&"nullValue"in n}function nE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qd(n){return!!n&&"mapValue"in n}function MM(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[x1])===null||e===void 0?void 0:e.stringValue)===E1}function Jc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Vr(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Jc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Jc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function NM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!qd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jc(e)}setAll(t){let e=sn.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const d=this.getFieldsMap(e);this.applyChanges(d,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=Jc(l):s.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());qd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];qd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Vr(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new Sn(Jc(this.value))}}function w1(n){const t=[];return Vr(n.fields,(e,i)=>{const s=new sn([e]);if(qd(i)){const o=w1(i.mapValue).fields;if(o.length===0)t.push(s);else for(const l of o)t.push(s.child(l))}else t.push(s)}),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,e,i,s,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new dn(t,0,Ct.min(),Ct.min(),Ct.min(),Sn.empty(),0)}static newFoundDocument(t,e,i,s){return new dn(t,1,e,Ct.min(),i,s,0)}static newNoDocument(t,e){return new dn(t,2,e,Ct.min(),Ct.min(),Sn.empty(),0)}static newUnknownDocument(t,e){return new dn(t,3,e,Ct.min(),Ct.min(),Sn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,e){this.position=t,this.inclusive=e}}function iE(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],l=n.position[s];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(l.referenceValue),e.key):i=ol(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function sE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!qi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t,e="asc"){this.field=t,this.dir=e}}function kM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class ke extends T1{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new PM(t,e,i):e==="array-contains"?new jM(t,i):e==="in"?new UM(t,i):e==="not-in"?new zM(t,i):e==="array-contains-any"?new BM(t,i):new ke(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new LM(t,i):new VM(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ol(e,this.value)):e!==null&&Mr(this.value)===Mr(e)&&this.matchesComparison(ol(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends T1{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new mi(t,e)}matches(t){return S1(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function S1(n){return n.op==="and"}function A1(n){return OM(n)&&S1(n)}function OM(n){for(const t of n.filters)if(t instanceof mi)return!1;return!0}function ry(n){if(n instanceof ke)return n.field.canonicalString()+n.op.toString()+ll(n.value);if(A1(n))return n.filters.map(t=>ry(t)).join(",");{const t=n.filters.map(e=>ry(e)).join(",");return`${n.op}(${t})`}}function R1(n,t){return n instanceof ke?function(i,s){return s instanceof ke&&i.op===s.op&&i.field.isEqual(s.field)&&qi(i.value,s.value)}(n,t):n instanceof mi?function(i,s){return s instanceof mi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,u)=>o&&R1(l,s.filters[u]),!0):!1}(n,t):void At(19439)}function C1(n){return n instanceof ke?function(e){return`${e.field.canonicalString()} ${e.op} ${ll(e.value)}`}(n):n instanceof mi?function(e){return e.op.toString()+" {"+e.getFilters().map(C1).join(" ,")+"}"}(n):"Filter"}class PM extends ke{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class LM extends ke{constructor(t,e){super(t,"in",e),this.keys=I1("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class VM extends ke{constructor(t,e){super(t,"not-in",e),this.keys=I1("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function I1(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Et.fromName(i.referenceValue))}class jM extends ke{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Jy(e)&&pu(e.arrayValue,this.value)}}class UM extends ke{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&pu(this.value.arrayValue,e)}}class zM extends ke{constructor(t,e){super(t,"not-in",e)}matches(t){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!pu(this.value.arrayValue,e)}}class BM extends ke{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Jy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>pu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t,e=null,i=[],s=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function rE(n,t=null,e=[],i=[],s=null,o=null,l=null){return new FM(n,t,e,i,s,o,l)}function t0(n){const t=Dt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>ry(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Hf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>ll(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>ll(i)).join(",")),t.Ie=e}return t.Ie}function e0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!kM(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!R1(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!sE(n.startAt,t.startAt)&&sE(n.endAt,t.endAt)}function ay(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,e=null,i=[],s=[],o=null,l="F",u=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function HM(n,t,e,i,s,o,l,u){return new Pu(n,t,e,i,s,o,l,u)}function D1(n){return new Pu(n)}function aE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function M1(n){return n.collectionGroup!==null}function tu(n){const t=Dt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Fe(sn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new mf(o,i))}),e.has(sn.keyField().canonicalString())||t.Ee.push(new mf(sn.keyField(),i))}return t.Ee}function Ui(n){const t=Dt(n);return t.de||(t.de=qM(t,tu(n))),t.de}function qM(n,t){if(n.limitType==="F")return rE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new mf(s.field,o)});const e=n.endAt?new ff(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ff(n.startAt.position,n.startAt.inclusive):null;return rE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function oy(n,t){const e=n.filters.concat([t]);return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ly(n,t,e){return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Gf(n,t){return e0(Ui(n),Ui(t))&&n.limitType===t.limitType}function N1(n){return`${t0(Ui(n))}|lt:${n.limitType}`}function Ko(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>C1(s)).join(", ")}]`),Hf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>ll(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>ll(s)).join(",")),`Target(${i})`}(Ui(n))}; limitType=${n.limitType})`}function Yf(n,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,s){for(const o of tu(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,d){const f=iE(l,u,d);return l.inclusive?f<=0:f<0}(i.startAt,tu(i),s)||i.endAt&&!function(l,u,d){const f=iE(l,u,d);return l.inclusive?f>=0:f>0}(i.endAt,tu(i),s))}(n,t)}function GM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k1(n){return(t,e)=>{let i=!1;for(const s of tu(n)){const o=YM(s,t,e);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function YM(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?ol(d,f):At(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return At(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Vr(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new ye(Et.comparator);function Ns(){return $M}const O1=new ye(Et.comparator);function qc(...n){let t=O1;for(const e of n)t=t.insert(e.key,e);return t}function P1(n){let t=O1;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Oa(){return eu()}function L1(){return eu()}function eu(){return new Wa(n=>n.toString(),(n,t)=>n.isEqual(t))}const WM=new ye(Et.comparator),KM=new Fe(Et.comparator);function zt(...n){let t=KM;for(const e of n)t=t.add(e);return t}const QM=new Fe(Ot);function XM(){return QM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(t)?"-0":t}}function V1(n){return{integerValue:""+n}}function ZM(n,t){return SM(t)?V1(t):n0(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function JM(n,t,e){return n instanceof yu?function(s,o){const l={fields:{[_1]:{stringValue:y1},[b1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Zy(o)&&(o=qf(o)),o&&(l.fields[v1]=o),{mapValue:l}}(e,t):n instanceof _u?U1(n,t):n instanceof vu?z1(n,t):function(s,o){const l=j1(s,o),u=oE(l)+oE(s.Re);return sy(l)&&sy(s.Re)?V1(u):n0(s.serializer,u)}(n,t)}function tN(n,t,e){return n instanceof _u?U1(n,t):n instanceof vu?z1(n,t):e}function j1(n,t){return n instanceof gf?function(i){return sy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class yu extends $f{}class _u extends $f{constructor(t){super(),this.elements=t}}function U1(n,t){const e=B1(t);for(const i of n.elements)e.some(s=>qi(s,i))||e.push(i);return{arrayValue:{values:e}}}class vu extends $f{constructor(t){super(),this.elements=t}}function z1(n,t){let e=B1(t);for(const i of n.elements)e=e.filter(s=>!qi(s,i));return{arrayValue:{values:e}}}class gf extends $f{constructor(t,e){super(),this.serializer=t,this.Re=e}}function oE(n){return Se(n.integerValue||n.doubleValue)}function B1(n){return Jy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t,e){this.field=t,this.transform=e}}function nN(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof _u&&s instanceof _u||i instanceof vu&&s instanceof vu?al(i.elements,s.elements,qi):i instanceof gf&&s instanceof gf?qi(i.Re,s.Re):i instanceof yu&&s instanceof yu}(n.transform,t.transform)}class iN{constructor(t,e){this.version=t,this.transformResults=e}}class hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Wf{}function F1(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new i0(n.key,hi.none()):new Lu(n.key,n.data,hi.none());{const e=n.data,i=Sn.empty();let s=new Fe(sn.comparator);for(let o of t.fields)if(!s.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new jr(n.key,i,new jn(s.toArray()),hi.none())}}function sN(n,t,e){n instanceof Lu?function(s,o,l){const u=s.value.clone(),d=cE(s.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof jr?function(s,o,l){if(!Gd(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=cE(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(H1(s)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,t,e):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function nu(n,t,e,i){return n instanceof Lu?function(o,l,u,d){if(!Gd(o.precondition,l))return u;const f=o.value.clone(),p=uE(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof jr?function(o,l,u,d){if(!Gd(o.precondition,l))return u;const f=uE(o.fieldTransforms,d,l),p=l.data;return p.setAll(H1(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,t,e,i):function(o,l,u){return Gd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function rN(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=j1(i.transform,s||null);o!=null&&(e===null&&(e=Sn.empty()),e.set(i.field,o))}return e||null}function lE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&al(i,s,(o,l)=>nN(o,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Lu extends Wf{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jr extends Wf{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function H1(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function cE(n,t,e){const i=new Map;Kt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let s=0;s<e.length;s++){const o=n[s],l=o.transform,u=t.data.field(o.field);i.set(o.field,tN(l,u,e[s]))}return i}function uE(n,t,e){const i=new Map;for(const s of n){const o=s.transform,l=e.data.field(s.field);i.set(s.field,JM(o,l,t))}return i}class i0 extends Wf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aN extends Wf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&sN(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=nu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=nu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=L1();return this.mutations.forEach(s=>{const o=t.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(s.key)?null:u;const d=F1(l,u);d!==null&&i.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Ct.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),zt())}isEqual(t){return this.batchId===t.batchId&&al(this.mutations,t.mutations,(e,i)=>lE(e,i))&&al(this.baseMutations,t.baseMutations,(e,i)=>lE(e,i))}}class s0{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){Kt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let s=function(){return WM}();const o=t.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new s0(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,Gt;function uN(n){switch(n){case at.OK:return At(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return At(15467,{code:n})}}function q1(n){if(n===void 0)return Ms("GRPC error has no .code"),at.UNKNOWN;switch(n){case Me.OK:return at.OK;case Me.CANCELLED:return at.CANCELLED;case Me.UNKNOWN:return at.UNKNOWN;case Me.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Me.INTERNAL:return at.INTERNAL;case Me.UNAVAILABLE:return at.UNAVAILABLE;case Me.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Me.NOT_FOUND:return at.NOT_FOUND;case Me.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Me.ABORTED:return at.ABORTED;case Me.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Me.DATA_LOSS:return at.DATA_LOSS;default:return At(39323,{code:n})}}(Gt=Me||(Me={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Tr([4294967295,4294967295],0);function hE(n){const t=d1().encode(n),e=new s1;return e.update(t),new Uint8Array(e.digest())}function dE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Tr([e,i],0),new Tr([s,o],0)]}class r0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Gc(`Invalid padding: ${e}`);if(i<0)throw new Gc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Gc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Gc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Tr.fromNumber(this.pe)}we(t,e,i){let s=t.add(e.multiply(Tr.fromNumber(i)));return s.compare(hN)===1&&(s=new Tr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=hE(t),[i,s]=dE(e);for(let o=0;o<this.hashCount;o++){const l=this.we(i,s,o);if(!this.be(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new r0(o,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.pe===0)return;const e=hE(t),[i,s]=dE(e);for(let o=0;o<this.hashCount;o++){const l=this.we(i,s,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,Vu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Kf(Ct.min(),s,new ye(Ot),Ns(),zt())}}class Vu{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Vu(i,e,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t,e,i,s){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=s}}class G1{constructor(t,e){this.targetId=t,this.Ce=e}}class Y1{constructor(t,e,i=rn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class fE{constructor(){this.Fe=0,this.Me=mE(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=zt(),e=zt(),i=zt();return this.Me.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:At(38017,{changeType:o})}}),new Vu(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=mE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class dN{constructor(t){this.ze=t,this.je=new Map,this.He=Ns(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new ye(Ot)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,s)=>{this.it(s)&&e(s)})}ot(t){const e=t.targetId,i=t.Ce.count,s=this._t(e);if(s){const o=s.target;if(ay(o))if(i===0){const l=new Et(o.path);this.tt(e,l,dn.newNoDocument(l,Ct.min()))}else Kt(i===1,20013,{expectedCount:i});else{const l=this.ut(e);if(l!==i){const u=this.ct(t),d=u?this.lt(u,t,l):1;if(d!==0){this.st(e);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,f)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=e;let l,u;try{l=Dr(i).toUint8Array()}catch(d){if(d instanceof p1)return rl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new r0(l,s,o)}catch(d){return rl(d instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.pe===0?null:u}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let s=0;return i.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.tt(e,o,null),s++)}),s}It(t){const e=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&ay(u.target)){const d=new Et(u.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,dn.newNoDocument(d,t))}o.Le&&(e.set(l,o.qe()),o.Qe())}});let i=zt();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.He.forEach((o,l)=>l.setReadTime(t));const s=new Kf(t,e,this.Ze,this.He,i);return this.He=Ns(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new ye(Ot),s}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const s=this.rt(t);this.dt(t,e)?s.$e(e,1):s.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new fE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Fe(Ot),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Fe(Ot),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ft("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new fE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Ed(){return new ye(Et.comparator)}function mE(){return new ye(Et.comparator)}const fN={asc:"ASCENDING",desc:"DESCENDING"},mN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gN={and:"AND",or:"OR"};class pN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function cy(n,t){return n.useProto3Json||Hf(t)?t:{value:t}}function pf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function yN(n,t){return pf(n,t.toTimestamp())}function zi(n){return Kt(!!n,49232),Ct.fromTimestamp(function(e){const i=Ir(e);return new Be(i.seconds,i.nanos)}(n))}function a0(n,t){return uy(n,t).canonicalString()}function uy(n,t){const e=function(s){return new le(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function W1(n){const t=le.fromString(n);return Kt(J1(t),10190,{key:t.toString()}),t}function hy(n,t){return a0(n.databaseId,t.path)}function Cp(n,t){const e=W1(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(Q1(e))}function K1(n,t){return a0(n.databaseId,t)}function _N(n){const t=W1(n);return t.length===4?le.emptyPath():Q1(t)}function dy(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q1(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gE(n,t,e){return{name:hy(n,t),fields:e.value.mapValue.fields}}function vN(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:At(39313,{state:f})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Kt(p===void 0||typeof p=="string",58123),rn.fromBase64String(p||"")):(Kt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),rn.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(f){const p=f.code===void 0?at.UNKNOWN:q1(f.code);return new gt(p,f.message||"")}(l);e=new Y1(i,s,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cp(n,i.document.name),o=zi(i.document.updateTime),l=i.document.createTime?zi(i.document.createTime):Ct.min(),u=new Sn({mapValue:{fields:i.document.fields}}),d=dn.newFoundDocument(s,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new Yd(f,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Cp(n,i.document),o=i.readTime?zi(i.readTime):Ct.min(),l=dn.newNoDocument(s,o),u=i.removedTargetIds||[];e=new Yd([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Cp(n,i.document),o=i.removedTargetIds||[];e=new Yd([],o,s,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new cN(s,o),u=i.targetId;e=new G1(u,l)}}return e}function bN(n,t){let e;if(t instanceof Lu)e={update:gE(n,t.key,t.value)};else if(t instanceof i0)e={delete:hy(n,t.key)};else if(t instanceof jr)e={update:gE(n,t.key,t.data),updateMask:IN(t.fieldMask)};else{if(!(t instanceof aN))return At(16599,{ft:t.type});e={verify:hy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof yu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _u)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof gf)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw At(20930,{transform:l.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:yN(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:At(27497)}(n,t.precondition)),e}function xN(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map(e=>function(s,o){let l=s.updateTime?zi(s.updateTime):zi(o);return l.isEqual(Ct.min())&&(l=zi(o)),new iN(l,s.transformResults||[])}(e,t))):[]}function EN(n,t){return{documents:[K1(n,t.path)]}}function wN(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=K1(n,s);const o=function(f){if(f.length!==0)return Z1(mi.create(f,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(p=>function(v){return{field:Qo(v.field),direction:AN(v.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=cy(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{gt:e,parent:s}}function TN(n){let t=_N(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){Kt(i===1,65062);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=function(_){const v=X1(_);return v instanceof mi&&A1(v)?v.getFilters():[v]}(e.where));let l=[];e.orderBy&&(l=function(_){return _.map(v=>function(S){return new mf(Xo(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(v))}(e.orderBy));let u=null;e.limit&&(u=function(_){let v;return v=typeof _=="object"?_.value:_,Hf(v)?null:v}(e.limit));let d=null;e.startAt&&(d=function(_){const v=!!_.before,E=_.values||[];return new ff(E,v)}(e.startAt));let f=null;return e.endAt&&(f=function(_){const v=!_.before,E=_.values||[];return new ff(E,v)}(e.endAt)),HM(t,s,l,o,u,"F",d,f)}function SN(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:s})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function X1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Xo(e.unaryFilter.field);return ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Xo(e.unaryFilter.field);return ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xo(e.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xo(e.unaryFilter.field);return ke.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(n):n.fieldFilter!==void 0?function(e){return ke.create(Xo(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return mi.create(e.compositeFilter.filters.map(i=>X1(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(e.compositeFilter.op))}(n):At(30097,{filter:n})}function AN(n){return fN[n]}function RN(n){return mN[n]}function CN(n){return gN[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Xo(n){return sn.fromServerFormat(n.fieldPath)}function Z1(n){return n instanceof ke?function(e){if(e.op==="=="){if(nE(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NAN"}};if(eE(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(nE(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NAN"}};if(eE(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(e.field),op:RN(e.op),value:e.value}}}(n):n instanceof mi?function(e){const i=e.getFilters().map(s=>Z1(s));return i.length===1?i[0]:{compositeFilter:{op:CN(e.op),filters:i}}}(n):At(54877,{filter:n})}function IN(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function J1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t,e,i,s,o=Ct.min(),l=Ct.min(),u=rn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.wt=t}}function MN(n){const t=TN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ly(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.yn=new kN}addToCollectionParentIndex(t,e){return this.yn.add(e),st.resolve()}getCollectionParents(t,e){return st.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return st.resolve()}deleteFieldIndex(t,e){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,e){return st.resolve()}getDocumentsMatchingTarget(t,e){return st.resolve(null)}getIndexType(t,e){return st.resolve(0)}getFieldIndexes(t,e){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,e){return st.resolve(Cr.min())}getMinOffsetFromCollectionGroup(t,e){return st.resolve(Cr.min())}updateCollectionGroup(t,e,i){return st.resolve()}updateIndexEntries(t,e){return st.resolve()}}class kN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new Fe(le.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Fe(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tS=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(tS,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new cl(0)}static ir(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",ON=1048576;function _E([n,t],[e,i]){const s=Ot(n,e);return s===0?Ot(t,i):s}class PN{constructor(t){this.cr=t,this.buffer=new Fe(_E),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();_E(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class LN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ft(yE,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){xl(e)?ft(yE,"Ignoring IndexedDB error during garbage collection: ",e):await bl(e)}await this.Ir(3e5)})}}class VN{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return st.resolve(Ff.le);const i=new PN(e);return this.Er.forEachTarget(t,s=>i.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(t,s=>i.Pr(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(pE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,s,o,l,u,d,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(t,s))).next(_=>(i=_,u=Date.now(),this.removeTargets(t,i,e))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(f=Date.now(),Wo()<=Ut.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function jN(n,t){return new VN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.changes=new Wa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?st.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&nu(i.mutation,s,jn.empty(),Be.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,zt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=zt()){const s=Oa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let l=qc();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Oa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,zt()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let o=Ns();const l=eu(),u=function(){return eu()}();return e.forEach((d,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof jr)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),nu(p.mutation,f,p.mutation.getFieldMask(),Be.now())):l.set(f.key,jn.empty())}),this.recalculateAndSaveOverlays(t,o).next(d=>(d.forEach((f,p)=>l.set(f,p)),e.forEach((f,p)=>{var _;return u.set(f,new zN(p,(_=l.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(t,e){const i=eu();let s=new ye((l,u)=>l-u),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=e.get(d);if(f===null)return;let p=i.get(d)||jn.empty();p=u.applyToLocalView(f,p),i.set(d,p);const _=(s.get(u.batchId)||zt()).add(d);s=s.insert(u.batchId,_)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,_=L1();p.forEach(v=>{if(!o.has(v)){const E=F1(e.get(v),i.get(v));E!==null&&_.set(v,E),o=o.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,_))}return st.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return Et.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):M1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):st.resolve(Oa());let u=fu,d=o;return l.next(f=>st.forEach(f,(p,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(p)?st.resolve():this.remoteDocumentCache.getEntry(t,p).next(v=>{d=d.insert(p,v)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,d,f,zt())).next(p=>({batchId:u,changes:P1(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next(i=>{let s=qc();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const o=e.collectionGroup;let l=qc();return this.indexManager.getCollectionParents(t,o).next(u=>st.forEach(u,d=>{const f=function(_,v){return new Pu(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,s).next(p=>{p.forEach((_,v)=>{l=l.insert(_,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,s))).next(l=>{o.forEach((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,dn.newInvalidDocument(p)))});let u=qc();return l.forEach((d,f)=>{const p=o.get(d);p!==void 0&&nu(p.mutation,f,jn.empty(),Be.now()),Yf(e,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return st.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:zi(s.createTime)}}(e)),st.resolve()}getNamedQuery(t,e){return st.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(s){return{name:s.name,query:MN(s.bundledQuery),readTime:zi(s.readTime)}}(e)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.overlays=new ye(Et.comparator),this.Or=new Map}getOverlay(t,e){return st.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Oa();return st.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.St(t,e,o)}),st.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Or.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),st.resolve()}getOverlaysForCollection(t,e,i){const s=Oa(),o=e.length+1,l=new Et(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return st.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new ye((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=Oa(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=Oa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=s)););return st.resolve(u)}St(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Or.get(s.largestBatchId).delete(i.key);this.Or.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new lN(e,i));let o=this.Or.get(e);o===void 0&&(o=zt(),this.Or.set(e,o)),this.Or.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this.Nr=new Fe(Ke.Br),this.Lr=new Fe(Ke.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new Ke(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new Et(new le([])),i=new Ke(e,t),s=new Ke(e,t+1),o=[];return this.Lr.forEachInRange([i,s],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new Et(new le([])),i=new Ke(e,t),s=new Ke(e,t+1);let o=zt();return this.Lr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new Ke(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return Et.comparator(t.key,e.key)||Ot(t.Gr,e.Gr)}static kr(t,e){return Ot(t.Gr,e.Gr)||Et.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new Fe(Ke.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new oN(o,e,i,s);this.mutationQueue.push(l);for(const u of s)this.zr=this.zr.add(new Ke(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return st.resolve(l)}lookupMutationBatch(t,e){return st.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.Hr(i),o=s<0?0:s;return st.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?Xy:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),s=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,s],l=>{const u=this.jr(l.Gr);o.push(u)}),st.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fe(Ot);return e.forEach(s=>{const o=new Ke(s,0),l=new Ke(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],u=>{i=i.add(u.Gr)})}),st.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const l=new Ke(new Et(o),0);let u=new Fe(Ot);return this.zr.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(u=u.add(d.Gr)),!0)},l),st.resolve(this.Jr(u))}Jr(t){const e=[];return t.forEach(i=>{const s=this.jr(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){Kt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return st.forEach(e.mutations,s=>{const o=new Ke(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new Ke(e,0),s=this.zr.firstAfterOrEqual(i);return st.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t){this.Zr=t,this.docs=function(){return new ye(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,l=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return st.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(e))}getEntries(t,e){let i=Ns();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():dn.newInvalidDocument(s))}),st.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=Ns();const l=e.path,u=new Et(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||xM(bM(p),i)<=0||(s.has(p.key)||Yf(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return st.resolve(o)}getAllFromCollectionGroup(t,e,i,s){At(9500)}Xr(t,e){return st.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new $N(this)}getSize(t){return st.resolve(this.size)}}class $N extends UN{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.vr.addEntry(t,s)):this.vr.removeEntry(i)}),st.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t){this.persistence=t,this.ei=new Wa(e=>t0(e),e0),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.ti=0,this.ni=new o0,this.targetCount=0,this.ri=cl.rr()}forEachTarget(t,e){return this.ei.forEach((i,s)=>e(s)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),st.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new cl(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,st.resolve()}updateTargetData(t,e){return this.ar(e),st.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),st.waitFor(o).next(()=>s)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return st.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),st.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(l=>{o.push(s.markPotentiallyOrphaned(t,l))}),st.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),st.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return st.resolve(i)}containsKey(t,e){return st.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(t,e){this.ii={},this.overlays={},this.si=new Ff(0),this.oi=!1,this.oi=!0,this._i=new qN,this.referenceDelegate=t(this),this.ai=new WN(this),this.indexManager=new NN,this.remoteDocumentCache=function(s){return new YN(s)}(i=>this.referenceDelegate.ui(i)),this.serializer=new DN(e),this.ci=new FN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new HN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new GN(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){ft("MemoryPersistence","Starting transaction:",t);const s=new KN(this.si.next());return this.referenceDelegate.li(),i(s).next(o=>this.referenceDelegate.hi(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Pi(t,e){return st.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class KN extends wM{constructor(t){super(),this.currentSequenceNumber=t}}class l0{constructor(t){this.persistence=t,this.Ti=new o0,this.Ii=null}static Ei(t){return new l0(t)}get di(){if(this.Ii)return this.Ii;throw At(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),st.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),st.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),st.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,i=>{const s=Et.fromPath(i);return this.Ai(t,s).next(o=>{o||e.removeEntry(s,Ct.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return st.or([()=>st.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class yf{constructor(t,e){this.persistence=t,this.Ri=new Wa(i=>AM(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=jN(this,e)}static Ei(t,e){return new yf(t,e)}li(){}hi(t){return st.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return st.forEach(this.Ri,(i,s)=>this.gr(t,i,s).next(o=>o?st.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Xr(t,l=>this.gr(t,l,e).next(u=>{u||(i++,o.removeEntry(l,Ct.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),st.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),st.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),st.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Hd(t.data.value)),e}gr(t,e,i){return st.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.Ri.get(e);return st.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=s}static Ps(t,e){let i=zt(),s=zt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new c0(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return YI()?8:TM(mn())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,s){const o={result:null};return this.Rs(t,e).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(t,e,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new QN;return this.fs(t,e,l).next(u=>{if(o.result=u,this.Is)return this.gs(t,e,l,u.size)})}).next(()=>o.result)}gs(t,e,i,s){return i.documentReadCount<this.Es?(Wo()<=Ut.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Ko(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Wo()<=Ut.DEBUG&&ft("QueryEngine","Query:",Ko(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Wo()<=Ut.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Ko(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(e))):st.resolve())}Rs(t,e){if(aE(e))return st.resolve(null);let i=Ui(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=ly(e,null,"F"),i=Ui(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=zt(...o);return this.As.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(d=>{const f=this.ps(e,u);return this.ys(e,f,l,d.readTime)?this.Rs(t,ly(e,null,"F")):this.ws(t,f,e,d)}))})))}Vs(t,e,i,s){return aE(e)||s.isEqual(Ct.min())?st.resolve(null):this.As.getDocuments(t,i).next(o=>{const l=this.ps(e,o);return this.ys(e,l,i,s)?st.resolve(null):(Wo()<=Ut.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(e)),this.ws(t,l,e,vM(s,fu)).next(u=>u))})}ps(t,e){let i=new Fe(k1(t));return e.forEach((s,o)=>{Yf(t,o)&&(i=i.add(o))}),i}ys(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}fs(t,e,i){return Wo()<=Ut.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Ko(e)),this.As.getDocumentsMatchingQuery(t,e,Cr.min(),i)}ws(t,e,i,s){return this.As.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="LocalStore",ZN=3e8;class JN{constructor(t,e,i,s){this.persistence=t,this.bs=e,this.serializer=s,this.Ss=new ye(Ot),this.Ds=new Wa(o=>t0(o),e0),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function tk(n,t,e,i){return new JN(n,t,e,i)}async function nS(n,t){const e=Dt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let d=zt();for(const f of s){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return e.localDocuments.getDocuments(i,d).next(f=>({Ms:f,removedBatchIds:l,addedBatchIds:u}))})})}function ek(n,t){const e=Dt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.Cs.newChangeBuffer({trackRemovals:!0});return function(u,d,f,p){const _=f.batch,v=_.keys();let E=st.resolve();return v.forEach(S=>{E=E.next(()=>p.getEntry(d,S)).next(R=>{const A=f.docVersions.get(S);Kt(A!==null,48541),R.version.compareTo(A)<0&&(_.applyToRemoteDocument(R,f),R.isValidDocument()&&(R.setReadTime(f.commitVersion),p.addEntry(R)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(d,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let d=zt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function iS(n){const t=Dt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function nk(n,t){const e=Dt(n),i=t.snapshotVersion;let s=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Cs.newChangeBuffer({trackRemovals:!0});s=e.Ss;const u=[];t.targetChanges.forEach((p,_)=>{const v=s.get(_);if(!v)return;u.push(e.ai.removeMatchingKeys(o,p.removedDocuments,_).next(()=>e.ai.addMatchingKeys(o,p.addedDocuments,_)));let E=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(rn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,i)),s=s.insert(_,E),function(R,A,D){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=ZN?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(v,E,p)&&u.push(e.ai.updateTargetData(o,E))});let d=Ns(),f=zt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(ik(o,l,t.documentUpdates).next(p=>{d=p.xs,f=p.Os})),!i.isEqual(Ct.min())){const p=e.ai.getLastRemoteSnapshotVersion(o).next(_=>e.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(p)}return st.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(e.Ss=s,o))}function ik(n,t,e){let i=zt(),s=zt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=Ns();return e.forEach((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Ct.min())?(t.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(d),l=l.insert(u,d)):ft(u0,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{xs:l,Os:s}})}function sk(n,t){const e=Dt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Xy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function rk(n,t){const e=Dt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.ai.getTargetData(i,t).next(o=>o?(s=o,st.resolve(s)):e.ai.allocateTargetId(i).next(l=>(s=new pr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ss.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function fy(n,t,e){const i=Dt(n),s=i.Ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!xl(l))throw l;ft(u0,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(s.target)}function vE(n,t,e){const i=Dt(n);let s=Ct.min(),o=zt();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,p){const _=Dt(d),v=_.Ds.get(p);return v!==void 0?st.resolve(_.Ss.get(v)):_.ai.getTargetData(f,p)}(i,l,Ui(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>i.bs.getDocumentsMatchingQuery(l,t,e?s:Ct.min(),e?o:zt())).next(u=>(ak(i,GM(t),u),{documents:u,Ns:o})))}function ak(n,t,e){let i=n.vs.get(t)||Ct.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(t,i)}class bE{constructor(){this.activeTargetIds=XM()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ok{constructor(){this.So=new bE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new bE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class EE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ft(xE,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ft(xE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function my(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="RestConnection",ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uk{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${s}`,this.qo=this.databaseId.database===hf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Qo(t,e,i,s,o){const l=my(),u=this.$o(t,e.toUriEncodedString());ft(Ip,`Sending RPC '${t}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(d,s,o);const{host:f}=new URL(u),p=Nu(f);return this.Ko(t,u,d,i,p).then(_=>(ft(Ip,`Received RPC '${t}' ${l}: `,_),_),_=>{throw rl(Ip,`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_})}Wo(t,e,i,s,o,l){return this.Qo(t,e,i,s,o)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}$o(t,e){const i=ck[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class dk extends uk{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,s,o){const l=my();return new Promise((u,d)=>{const f=new r1;f.setWithCredentials(!0),f.listenOnce(a1.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fd.NO_ERROR:const _=f.getResponseJson();ft(cn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),u(_);break;case Fd.TIMEOUT:ft(cn,`RPC '${t}' ${l} timed out`),d(new gt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:const v=f.getStatus();if(ft(cn,`RPC '${t}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=function(D){const L=D.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(L)>=0?L:at.UNKNOWN}(S.status);d(new gt(R,S.message))}else d(new gt(at.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new gt(at.UNAVAILABLE,"Connection failed."));break;default:At(9055,{s_:t,streamId:l,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{ft(cn,`RPC '${t}' ${l} completed.`)}});const p=JSON.stringify(s);ft(cn,`RPC '${t}' ${l} sending request:`,s),f.send(e,"POST",p,i,15)})}a_(t,e,i){const s=my(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=c1(),u=l1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=o.join("");ft(cn,`Creating RPC '${t}' stream ${s}: ${p}`,d);const _=l.createWebChannel(p,d);let v=!1,E=!1;const S=new hk({Go:A=>{E?ft(cn,`Not sending because RPC '${t}' stream ${s} is closed:`,A):(v||(ft(cn,`Opening RPC '${t}' stream ${s} transport.`),_.open(),v=!0),ft(cn,`RPC '${t}' stream ${s} sending:`,A),_.send(A))},zo:()=>_.close()}),R=(A,D,L)=>{A.listen(D,z=>{try{L(z)}catch(B){setTimeout(()=>{throw B},0)}})};return R(_,Hc.EventType.OPEN,()=>{E||(ft(cn,`RPC '${t}' stream ${s} transport opened.`),S.t_())}),R(_,Hc.EventType.CLOSE,()=>{E||(E=!0,ft(cn,`RPC '${t}' stream ${s} transport closed`),S.r_())}),R(_,Hc.EventType.ERROR,A=>{E||(E=!0,rl(cn,`RPC '${t}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),S.r_(new gt(at.UNAVAILABLE,"The operation could not be completed")))}),R(_,Hc.EventType.MESSAGE,A=>{var D;if(!E){const L=A.data[0];Kt(!!L,16349);const z=L,B=(z==null?void 0:z.error)||((D=z[0])===null||D===void 0?void 0:D.error);if(B){ft(cn,`RPC '${t}' stream ${s} received error:`,B);const H=B.status;let tt=function(k){const V=Me[k];if(V!==void 0)return q1(V)}(H),O=B.message;tt===void 0&&(tt=at.INTERNAL,O="Unknown error status: "+H+" with message "+B.message),E=!0,S.r_(new gt(tt,O)),_.close()}else ft(cn,`RPC '${t}' stream ${s} received:`,L),S.i_(L)}}),R(u,o1.STAT_EVENT,A=>{A.stat===ey.PROXY?ft(cn,`RPC '${t}' stream ${s} detected buffering proxy`):A.stat===ey.NOPROXY&&ft(cn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n){return new pN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,e,i=1e3,s=1.5,o=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=s,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),s=Math.max(0,e-i);s>0&&ft("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class rS{constructor(t,e,i,s,o,l,u,d){this.bi=t,this.R_=i,this.V_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new sS(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(Ms(e.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.m_===e&&this.B_(i,s)},i=>{t(()=>{const s=new gt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(s)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{i(()=>this.L_(s))}),this.stream.onMessage(s=>{i(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ft(wE,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(ft(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fk extends rS{constructor(t,e,i,s,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=vN(this.serializer,t),i=function(o){if(!("targetChange"in o))return Ct.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ct.min():l.readTime?zi(l.readTime):Ct.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=dy(this.serializer),e.addTarget=function(o,l){let u;const d=l.target;if(u=ay(d)?{documents:EN(o,d)}:{query:wN(o,d).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=$1(o,l.resumeToken);const f=cy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ct.min())>0){u.readTime=pf(o,l.snapshotVersion.toTimestamp());const f=cy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,t);const i=SN(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=dy(this.serializer),e.removeTarget=t,this.F_(e)}}class mk extends rS{constructor(t,e,i,s,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=xN(t.writeResults,t.commitTime),i=zi(t.commitTime);return this.listener.j_(i,e)}H_(){const t={};t.database=dy(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>bN(this.serializer,i))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{}class pk extends gk{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(t,uy(e,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(at.UNKNOWN,o.toString())})}Wo(t,e,i,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(t,uy(e,i),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(at.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class yk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ms(e),this.ea=!1):ft("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="RemoteStore";class _k{constructor(t,e,i,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{i.enqueueAndForget(async()=>{Ka(this)&&(ft(Fa,"Restarting streams for network reachability change."),await async function(d){const f=Dt(d);f.aa.add(4),await ju(f),f.la.set("Unknown"),f.aa.delete(4),await Xf(f)}(this))})}),this.la=new yk(i,s)}}async function Xf(n){if(Ka(n))for(const t of n.ua)await t(!0)}async function ju(n){for(const t of n.ua)await t(!1)}function aS(n,t){const e=Dt(n);e._a.has(t.targetId)||(e._a.set(t.targetId,t),m0(e)?f0(e):El(e).b_()&&d0(e,t))}function h0(n,t){const e=Dt(n),i=El(e);e._a.delete(t),i.b_()&&oS(e,t),e._a.size===0&&(i.b_()?i.v_():Ka(e)&&e.la.set("Unknown"))}function d0(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}El(n).U_(t)}function oS(n,t){n.ha.Ke(t),El(n).K_(t)}function f0(n){n.ha=new dN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),El(n).start(),n.la.ta()}function m0(n){return Ka(n)&&!El(n).w_()&&n._a.size>0}function Ka(n){return Dt(n).aa.size===0}function lS(n){n.ha=void 0}async function vk(n){n.la.set("Online")}async function bk(n){n._a.forEach((t,e)=>{d0(n,t)})}async function xk(n,t){lS(n),m0(n)?(n.la.ia(t),f0(n)):n.la.set("Unknown")}async function Ek(n,t,e){if(n.la.set("Online"),t instanceof Y1&&t.state===2&&t.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s._a.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s._a.delete(u),s.ha.removeTarget(u))}(n,t)}catch(i){ft(Fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _f(n,i)}else if(t instanceof Yd?n.ha.Xe(t):t instanceof G1?n.ha.ot(t):n.ha.nt(t),!e.isEqual(Ct.min()))try{const i=await iS(n.localStore);e.compareTo(i)>=0&&await function(o,l){const u=o.ha.It(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o._a.get(f);p&&o._a.set(f,p.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const p=o._a.get(d);if(!p)return;o._a.set(d,p.withResumeToken(rn.EMPTY_BYTE_STRING,p.snapshotVersion)),oS(o,d);const _=new pr(p.target,d,f,p.sequenceNumber);d0(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){ft(Fa,"Failed to raise snapshot:",i),await _f(n,i)}}async function _f(n,t,e){if(!xl(t))throw t;n.aa.add(1),await ju(n),n.la.set("Offline"),e||(e=()=>iS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ft(Fa,"Retrying IndexedDB access"),await e(),n.aa.delete(1),await Xf(n)})}function cS(n,t){return t().catch(e=>_f(n,e,t))}async function Zf(n){const t=Dt(n),e=Nr(t);let i=t.oa.length>0?t.oa[t.oa.length-1].batchId:Xy;for(;wk(t);)try{const s=await sk(t.localStore,i);if(s===null){t.oa.length===0&&e.v_();break}i=s.batchId,Tk(t,s)}catch(s){await _f(t,s)}uS(t)&&hS(t)}function wk(n){return Ka(n)&&n.oa.length<10}function Tk(n,t){n.oa.push(t);const e=Nr(n);e.b_()&&e.W_&&e.G_(t.mutations)}function uS(n){return Ka(n)&&!Nr(n).w_()&&n.oa.length>0}function hS(n){Nr(n).start()}async function Sk(n){Nr(n).H_()}async function Ak(n){const t=Nr(n);for(const e of n.oa)t.G_(e.mutations)}async function Rk(n,t,e){const i=n.oa.shift(),s=s0.from(i,t,e);await cS(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Zf(n)}async function Ck(n,t){t&&Nr(n).W_&&await async function(i,s){if(function(l){return uN(l)&&l!==at.ABORTED}(s.code)){const o=i.oa.shift();Nr(i).D_(),await cS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Zf(i)}}(n,t),uS(n)&&hS(n)}async function TE(n,t){const e=Dt(n);e.asyncQueue.verifyOperationInProgress(),ft(Fa,"RemoteStore received new credentials");const i=Ka(e);e.aa.add(3),await ju(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await Xf(e)}async function Ik(n,t){const e=Dt(n);t?(e.aa.delete(2),await Xf(e)):t||(e.aa.add(2),await ju(e),e.la.set("Unknown"))}function El(n){return n.Pa||(n.Pa=function(e,i,s){const o=Dt(e);return o.Y_(),new fk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{jo:vk.bind(null,n),Jo:bk.bind(null,n),Zo:xk.bind(null,n),Q_:Ek.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),m0(n)?f0(n):n.la.set("Unknown")):(await n.Pa.stop(),lS(n))})),n.Pa}function Nr(n){return n.Ta||(n.Ta=function(e,i,s){const o=Dt(e);return o.Y_(),new mk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:Sk.bind(null,n),Zo:Ck.bind(null,n),z_:Ak.bind(null,n),j_:Rk.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await Zf(n)):(await n.Ta.stop(),n.oa.length>0&&(ft(Fa,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,o){const l=Date.now()+i,u=new g0(t,e,l,s,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(n,t){if(Ms("AsyncQueue",`${t}: ${n}`),xl(n))return new gt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(t){return new Jo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=qc(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Jo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Jo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.Ia=new ye(Et.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):At(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class ul{constructor(t,e,i,s,o,l,u,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,s,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new ul(t,e,Jo.emptySet(e),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Mk{constructor(){this.queries=AE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const s=Dt(e),o=s.queries;s.queries=AE(),o.forEach((l,u)=>{for(const d of u.Ra)d.onError(i)})})(this,new gt(at.ABORTED,"Firestore shutting down"))}}function AE(){return new Wa(n=>N1(n),Gf)}async function Nk(n,t){const e=Dt(n);let i=3;const s=t.query;let o=e.queries.get(s);o?!o.Va()&&t.ma()&&(i=2):(o=new Dk,i=t.ma()?0:1);try{switch(i){case 0:o.Aa=await e.onListen(s,!0);break;case 1:o.Aa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=p0(l,`Initialization of query '${Ko(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,o),o.Ra.push(t),t.ga(e.onlineState),o.Aa&&t.pa(o.Aa)&&y0(e)}async function kk(n,t){const e=Dt(n),i=t.query;let s=3;const o=e.queries.get(i);if(o){const l=o.Ra.indexOf(t);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?s=t.ma()?0:1:!o.Va()&&t.ma()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Ok(n,t){const e=Dt(n);let i=!1;for(const s of t){const o=s.query,l=e.queries.get(o);if(l){for(const u of l.Ra)u.pa(s)&&(i=!0);l.Aa=s}}i&&y0(e)}function Pk(n,t,e){const i=Dt(n),s=i.queries.get(t);if(s)for(const o of s.Ra)o.onError(e);i.queries.delete(t)}function y0(n){n.fa.forEach(t=>{t.next()})}var gy,RE;(RE=gy||(gy={})).ya="default",RE.Cache="cache";class Lk{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new ul(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==gy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t){this.key=t}}class fS{constructor(t){this.key=t}}class Vk{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=zt(),this.mutatedKeys=zt(),this.Ua=k1(t),this.Ka=new Jo(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new SE,s=e?e.Ka:this.Ka;let o=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,_)=>{const v=s.get(p),E=Yf(this.query,_)?_:null,S=!!v&&this.mutatedKeys.has(v.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;v&&E?v.data.isEqual(E.data)?S!==R&&(i.track({type:3,doc:E}),A=!0):this.ja(v,E)||(i.track({type:2,doc:E}),A=!0,(d&&this.Ua(E,d)>0||f&&this.Ua(E,f)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),A=!0):v&&!E&&(i.track({type:1,doc:v}),A=!0,(d||f)&&(u=!0)),A&&(E?(l=l.add(E),o=R?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{Ka:l,za:i,ys:u,mutatedKeys:o}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const o=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const l=t.za.da();l.sort((p,_)=>function(E,S){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:A})}};return R(E)-R(S)}(p.type,_.type)||this.Ua(p.doc,_.doc)),this.Ha(i),s=s!=null&&s;const u=e&&!s?this.Ja():[],d=this.$a.size===0&&this.current&&!s?1:0,f=d!==this.Qa;return this.Qa=d,l.length!==0||f?{snapshot:new ul(this.query,t.Ka,o,l,t.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new SE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=zt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new fS(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new dS(i))}),e}Xa(t){this.qa=t.Ns,this.$a=zt();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return ul.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const _0="SyncEngine";class jk{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Uk{constructor(t){this.key=t,this.tu=!1}}class zk{constructor(t,e,i,s,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Wa(u=>N1(u),Gf),this.iu=new Map,this.su=new Set,this.ou=new ye(Et.comparator),this._u=new Map,this.au=new o0,this.uu={},this.cu=new Map,this.lu=cl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Bk(n,t,e=!0){const i=vS(n);let s;const o=i.ru.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.eu()):s=await mS(i,t,e,!0),s}async function Fk(n,t){const e=vS(n);await mS(e,t,!0,!1)}async function mS(n,t,e,i){const s=await rk(n.localStore,Ui(t)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await Hk(n,t,o,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&aS(n.remoteStore,s),u}async function Hk(n,t,e,i,s){n.Pu=(_,v,E)=>async function(R,A,D,L){let z=A.view.Ga(D);z.ys&&(z=await vE(R.localStore,A.query,!1).then(({documents:O})=>A.view.Ga(O,z)));const B=L&&L.targetChanges.get(A.targetId),H=L&&L.targetMismatches.get(A.targetId)!=null,tt=A.view.applyChanges(z,R.isPrimaryClient,B,H);return IE(R,A.targetId,tt.Ya),tt.snapshot}(n,_,v,E);const o=await vE(n.localStore,t,!0),l=new Vk(t,o.Ns),u=l.Ga(o.documents),d=Vu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),f=l.applyChanges(u,n.isPrimaryClient,d);IE(n,e,f.Ya);const p=new jk(t,e,l);return n.ru.set(t,p),n.iu.has(e)?n.iu.get(e).push(t):n.iu.set(e,[t]),f.snapshot}async function qk(n,t,e){const i=Dt(n),s=i.ru.get(t),o=i.iu.get(s.targetId);if(o.length>1)return i.iu.set(s.targetId,o.filter(l=>!Gf(l,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await fy(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&h0(i.remoteStore,s.targetId),py(i,s.targetId)}).catch(bl)):(py(i,s.targetId),await fy(i.localStore,s.targetId,!0))}async function Gk(n,t){const e=Dt(n),i=e.ru.get(t),s=e.iu.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),h0(e.remoteStore,i.targetId))}async function Yk(n,t,e){const i=Jk(n);try{const s=await function(l,u){const d=Dt(l),f=Be.now(),p=u.reduce((E,S)=>E.add(S.key),zt());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=Ns(),R=zt();return d.Cs.getEntries(E,p).next(A=>{S=A,S.forEach((D,L)=>{L.isValidDocument()||(R=R.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,S)).next(A=>{_=A;const D=[];for(const L of u){const z=rN(L,_.get(L.key).overlayedDocument);z!=null&&D.push(new jr(L.key,z,w1(z.value.mapValue),hi.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,D,u)}).next(A=>{v=A;const D=A.applyToLocalDocumentSet(_,R);return d.documentOverlayCache.saveOverlays(E,A.batchId,D)})}).then(()=>({batchId:v.batchId,changes:P1(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,d){let f=l.uu[l.currentUser.toKey()];f||(f=new ye(Ot)),f=f.insert(u,d),l.uu[l.currentUser.toKey()]=f}(i,s.batchId,e),await Uu(i,s.changes),await Zf(i.remoteStore)}catch(s){const o=p0(s,"Failed to persist write");e.reject(o)}}async function gS(n,t){const e=Dt(n);try{const i=await nk(e.localStore,t);t.targetChanges.forEach((s,o)=>{const l=e._u.get(o);l&&(Kt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.tu=!0:s.modifiedDocuments.size>0?Kt(l.tu,14607):s.removedDocuments.size>0&&(Kt(l.tu,42227),l.tu=!1))}),await Uu(e,i,t)}catch(i){await bl(i)}}function CE(n,t,e){const i=Dt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.ru.forEach((o,l)=>{const u=l.view.ga(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const d=Dt(l);d.onlineState=u;let f=!1;d.queries.forEach((p,_)=>{for(const v of _.Ra)v.ga(u)&&(f=!0)}),f&&y0(d)}(i.eventManager,t),s.length&&i.nu.Q_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function $k(n,t,e){const i=Dt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i._u.get(t),o=s&&s.key;if(o){let l=new ye(Et.comparator);l=l.insert(o,dn.newNoDocument(o,Ct.min()));const u=zt().add(o),d=new Kf(Ct.min(),new Map,new ye(Ot),l,u);await gS(i,d),i.ou=i.ou.remove(o),i._u.delete(t),v0(i)}else await fy(i.localStore,t,!1).then(()=>py(i,t,e)).catch(bl)}async function Wk(n,t){const e=Dt(n),i=t.batch.batchId;try{const s=await ek(e.localStore,t);yS(e,i,null),pS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Uu(e,s)}catch(s){await bl(s)}}async function Kk(n,t,e){const i=Dt(n);try{const s=await function(l,u){const d=Dt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next(_=>(Kt(_!==null,37113),p=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(i.localStore,t);yS(i,t,e),pS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Uu(i,s)}catch(s){await bl(s)}}function pS(n,t){(n.cu.get(t)||[]).forEach(e=>{e.resolve()}),n.cu.delete(t)}function yS(n,t,e){const i=Dt(n);let s=i.uu[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.uu[i.currentUser.toKey()]=s}}function py(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.iu.get(t))n.ru.delete(i),e&&n.nu.Tu(i,e);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(i=>{n.au.containsKey(i)||_S(n,i)})}function _S(n,t){n.su.delete(t.path.canonicalString());const e=n.ou.get(t);e!==null&&(h0(n.remoteStore,e),n.ou=n.ou.remove(t),n._u.delete(e),v0(n))}function IE(n,t,e){for(const i of e)i instanceof dS?(n.au.addReference(i.key,t),Qk(n,i)):i instanceof fS?(ft(_0,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,t),n.au.containsKey(i.key)||_S(n,i.key)):At(19791,{Iu:i})}function Qk(n,t){const e=t.key,i=e.path.canonicalString();n.ou.get(e)||n.su.has(i)||(ft(_0,"New document in limbo: "+e),n.su.add(i),v0(n))}function v0(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const e=new Et(le.fromString(t)),i=n.lu.next();n._u.set(i,new Uk(e)),n.ou=n.ou.insert(e,i),aS(n.remoteStore,new pr(Ui(D1(e.path)),i,"TargetPurposeLimboResolution",Ff.le))}}async function Uu(n,t,e){const i=Dt(n),s=[],o=[],l=[];i.ru.isEmpty()||(i.ru.forEach((u,d)=>{l.push(i.Pu(d,t,e).then(f=>{var p;if((f||e)&&i.isPrimaryClient){const _=f?!f.fromCache:(p=e==null?void 0:e.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){s.push(f);const _=c0.Ps(d.targetId,f);o.push(_)}}))}),await Promise.all(l),i.nu.Q_(s),await async function(d,f){const p=Dt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>st.forEach(f,v=>st.forEach(v.ls,E=>p.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>st.forEach(v.hs,E=>p.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!xl(_))throw _;ft(u0,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const E=p.Ss.get(v),S=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(S);p.Ss=p.Ss.insert(v,R)}}}(i.localStore,o))}async function Xk(n,t){const e=Dt(n);if(!e.currentUser.isEqual(t)){ft(_0,"User change. New user:",t.toKey());const i=await nS(e.localStore,t);e.currentUser=t,function(o,l){o.cu.forEach(u=>{u.forEach(d=>{d.reject(new gt(at.CANCELLED,l))})}),o.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Uu(e,i.Ms)}}function Zk(n,t){const e=Dt(n),i=e._u.get(t);if(i&&i.tu)return zt().add(i.key);{let s=zt();const o=e.iu.get(t);if(!o)return s;for(const l of o){const u=e.ru.get(l);s=s.unionWith(u.view.Wa)}return s}}function vS(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$k.bind(null,t),t.nu.Q_=Ok.bind(null,t.eventManager),t.nu.Tu=Pk.bind(null,t.eventManager),t}function Jk(n){const t=Dt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Wk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Kk.bind(null,t),t}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return tk(this.persistence,new XN,t.initialUser,this.serializer)}Ru(t){return new eS(l0.Ei,this.serializer)}Au(t){return new ok}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class tO extends vf{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){Kt(this.persistence.referenceDelegate instanceof yf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new LN(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new eS(i=>yf.Ei(i,e),this.serializer)}}class yy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xk.bind(null,this.syncEngine),await Ik(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Mk}()}createDatastore(t){const e=Qf(t.databaseInfo.databaseId),i=function(o){return new dk(o)}(t.databaseInfo);return function(o,l,u,d){return new pk(o,l,u,d)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,o,l,u){return new _k(i,s,o,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>CE(this.syncEngine,e,0),function(){return EE.C()?new EE:new lk}())}createSyncEngine(t,e){return function(s,o,l,u,d,f,p){const _=new zk(s,o,l,u,d,f);return p&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const o=Dt(s);ft(Fa,"RemoteStore shutting down."),o.aa.add(5),await ju(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}yy.provider={build:()=>new yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Ms("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class nO{constructor(t,e,i,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=f1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ft(kr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ft(kr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=p0(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Mp(n,t){n.asyncQueue.verifyOperationInProgress(),ft(kr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await nS(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function DE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await iO(n);ft(kr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>TE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>TE(t.remoteStore,s)),n._onlineComponents=t}async function iO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ft(kr,"Using user provided OfflineComponentProvider");try{await Mp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===at.FAILED_PRECONDITION||s.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;rl("Error using user provided cache. Falling back to memory cache: "+e),await Mp(n,new vf)}}else ft(kr,"Using default OfflineComponentProvider"),await Mp(n,new tO(void 0));return n._offlineComponents}async function bS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ft(kr,"Using user provided OnlineComponentProvider"),await DE(n,n._uninitializedComponentsProvider._online)):(ft(kr,"Using default OnlineComponentProvider"),await DE(n,new yy))),n._onlineComponents}function sO(n){return bS(n).then(t=>t.syncEngine)}async function rO(n){const t=await bS(n),e=t.eventManager;return e.onListen=Bk.bind(null,t.syncEngine),e.onUnlisten=qk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Fk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Gk.bind(null,t.syncEngine),e}function aO(n,t,e={}){const i=new Sr;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const p=new eO({next:v=>{p.yu(),l.enqueueAndForget(()=>kk(o,_)),v.fromCache&&d.source==="server"?f.reject(new gt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Lk(u,p,{includeMetadataChanges:!0,Fa:!0});return Nk(o,_)}(await rO(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(n,t,e){if(!e)throw new gt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function oO(n,t,e,i){if(t===!0&&i===!0)throw new gt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function NE(n){if(!Et.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(Et.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At(12329,{type:typeof n})}function Ha(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jf(n);throw new gt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firestore.googleapis.com",OE=!0;class PE{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wS,this.ssl=OE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:OE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ON)throw new gt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tm{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uM;switch(i.type){case"firstParty":return new mM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Bf("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=ME.get(e);i&&(ft("ComponentProvider","Removing Datastore"),ME.delete(e),i.terminate())}(this),Promise.resolve()}}function lO(n,t,e,i={}){var s;n=Ha(n,tm);const o=Nu(t),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${e}`;l.host!==wS&&l.host!==d&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:i});if(!Ua(f,u)&&(n._setSettings(f),o&&(XT(`https://${d}`),Bf("Firestore",!0)),i.mockUserToken)){let p,_;if(typeof i.mockUserToken=="string")p=i.mockUserToken,_=hn.MOCK_USER;else{p=VI(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new gt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new hn(v)}n._authCredentials=new hM(new h1(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new wl(this.firestore,t,this._query)}}class Un{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}}class Ar extends wl{constructor(t,e,i){super(t,e,D1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new Et(t))}withConverter(t){return new Ar(this.firestore,t,this._path)}}function li(n,t,...e){if(n=Oe(n),ES("collection","path",t),n instanceof tm){const i=le.fromString(t,...e);return kE(i),new Ar(n,null,i)}{if(!(n instanceof Un||n instanceof Ar))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return kE(i),new Ar(n.firestore,null,i)}}function ji(n,t,...e){if(n=Oe(n),arguments.length===1&&(t=f1.newId()),ES("doc","path",t),n instanceof tm){const i=le.fromString(t,...e);return NE(i),new Un(n,null,new Et(i))}{if(!(n instanceof Un||n instanceof Ar))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return NE(i),new Un(n.firestore,n instanceof Ar?n.converter:null,new Et(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="AsyncQueue";class VE{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new sS(this,"async_queue_retry"),this.ju=()=>{const i=Dp();i&&ft(LE,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=Dp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Dp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new Sr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!xl(t))throw t;ft(LE,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,Ms("INTERNAL UNHANDLED ERROR: ",jE(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const s=g0.createAndSchedule(this,t,e,i,o=>this.Xu(o));return this.Uu.push(s),s}Ju(){this.Ku&&At(47125,{ec:jE(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function jE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class zu extends tm{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new VE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new VE(t),this._firestoreClient=void 0,await t}}}function cO(n,t){const e=typeof n=="object"?n:e1(),i=typeof n=="string"?n:hf,s=Ky(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=PI("firestore");o&&lO(s,...o)}return s}function TS(n){if(n._terminated)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uO(n),n._firestoreClient}function uO(n){var t,e,i;const s=n._freezeSettings(),o=function(u,d,f,p){return new IM(u,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,xS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new nO(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hl(rn.fromBase64String(t))}catch(e){throw new gt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new hl(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^__.*__$/;class dO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Lu(t,this.data,e,this.fieldTransforms)}}class SS{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function AS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{oc:n})}}class E0{constructor(t,e,i,s,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new E0(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ac({path:i,cc:!1});return s.lc(t),s}hc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ac({path:i,cc:!1});return s._c(),s}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return bf(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(AS(this.oc)&&hO.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class fO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Qf(t)}dc(t,e,i,s=!1){return new E0({oc:t,methodName:e,Ec:i,path:sn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w0(n){const t=n._freezeSettings(),e=Qf(n._databaseId);return new fO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mO(n,t,e,i,s,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,t,e,s);S0("Data must be an object, but it was:",l,i);const u=RS(i,l);let d,f;if(o.merge)d=new jn(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const _ of o.mergeFields){const v=_y(t,_,e);if(!l.contains(v))throw new gt(at.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);IS(p,v)||p.push(v)}d=new jn(p),f=l.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=l.fieldTransforms;return new dO(new Sn(u),d,f)}class im extends nm{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof im}}class T0 extends nm{_toFieldTransform(t){return new eN(t.path,new yu)}isEqual(t){return t instanceof T0}}function gO(n,t,e,i){const s=n.dc(1,t,e);S0("Data must be an object, but it was:",s,i);const o=[],l=Sn.empty();Vr(i,(d,f)=>{const p=A0(t,d,e);f=Oe(f);const _=s.hc(p);if(f instanceof im)o.push(p);else{const v=Bu(f,_);v!=null&&(o.push(p),l.set(p,v))}});const u=new jn(o);return new SS(l,u,s.fieldTransforms)}function pO(n,t,e,i,s,o){const l=n.dc(1,t,e),u=[_y(t,i,e)],d=[s];if(o.length%2!=0)throw new gt(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(_y(t,o[v])),d.push(o[v+1]);const f=[],p=Sn.empty();for(let v=u.length-1;v>=0;--v)if(!IS(f,u[v])){const E=u[v];let S=d[v];S=Oe(S);const R=l.hc(E);if(S instanceof im)f.push(E);else{const A=Bu(S,R);A!=null&&(f.push(E),p.set(E,A))}}const _=new jn(f);return new SS(p,_,l.fieldTransforms)}function yO(n,t,e,i=!1){return Bu(e,n.dc(i?4:3,t))}function Bu(n,t){if(CS(n=Oe(n)))return S0("Unsupported field value:",t,n),RS(n,t);if(n instanceof nm)return function(i,s){if(!AS(s.oc))throw s.Tc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const u of i){let d=Bu(u,s.Pc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,t)}return function(i,s){if((i=Oe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZM(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Be.fromDate(i);return{timestampValue:pf(s.serializer,o)}}if(i instanceof Be){const o=new Be(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pf(s.serializer,o)}}if(i instanceof b0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hl)return{bytesValue:$1(s.serializer,i._byteString)};if(i instanceof Un){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:a0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof x0)return function(l,u){return{mapValue:{fields:{[x1]:{stringValue:E1},[df]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Tc("VectorValues must only contain numeric values.");return n0(u.serializer,f)})}}}}}}(i,s);throw s.Tc(`Unsupported field value: ${Jf(i)}`)}(n,t)}function RS(n,t){const e={};return g1(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vr(n,(i,s)=>{const o=Bu(s,t.uc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function CS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Be||n instanceof b0||n instanceof hl||n instanceof Un||n instanceof nm||n instanceof x0)}function S0(n,t,e){if(!CS(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=Jf(e);throw i==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+i)}}function _y(n,t,e){if((t=Oe(t))instanceof em)return t._internalPath;if(typeof t=="string")return A0(n,t);throw bf("Field path arguments must be of type string or ",n,!1,void 0,e)}const _O=new RegExp("[~\\*/\\[\\]]");function A0(n,t,e){if(t.search(_O)>=0)throw bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new em(...t.split("."))._internalPath}catch{throw bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bf(n,t,e,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${s}`),d+=")"),new gt(at.INVALID_ARGUMENT,u+n+d)}function IS(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new vO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(R0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class vO extends DS{data(){return super.data()}}function R0(n,t){return typeof t=="string"?A0(n,t):t instanceof em?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C0{}class xO extends C0{}function EO(n,t,...e){let i=[];t instanceof C0&&i.push(t),i=i.concat(e),function(o){const l=o.filter(d=>d instanceof I0).length,u=o.filter(d=>d instanceof sm).length;if(l>1||l>0&&u>0)throw new gt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class sm extends xO{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new sm(t,e,i)}_apply(t){const e=this._parse(t);return MS(t._query,e),new wl(t.firestore,t.converter,oy(t._query,e))}_parse(t){const e=w0(t.firestore);return function(o,l,u,d,f,p,_){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new gt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){zE(_,p);const S=[];for(const R of _)S.push(UE(d,o,R));v={arrayValue:{values:S}}}else v=UE(d,o,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||zE(_,p),v=yO(u,l,_,p==="in"||p==="not-in");return ke.create(f,p,v)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function wO(n,t,e){const i=t,s=R0("where",n);return sm._create(s,i,e)}class I0 extends C0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new I0(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:mi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,o){let l=s;const u=o.getFlattenedFilters();for(const d of u)MS(l,d),l=oy(l,d)}(t._query,e),new wl(t.firestore,t.converter,oy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UE(n,t,e){if(typeof(e=Oe(e))=="string"){if(e==="")throw new gt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M1(t)&&e.indexOf("/")!==-1)throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(le.fromString(e));if(!Et.isDocumentKey(i))throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tE(n,new Et(i))}if(e instanceof Un)return tE(n,e._key);throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(e)}.`)}function zE(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MS(n,t){const e=function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class TO{convertValue(t,e="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Vr(t,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,s;const o=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[df].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Se(l.doubleValue));return new x0(o)}convertGeoPoint(t){return new b0(Se(t.latitude),Se(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=qf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mu(t));default:return null}}convertTimestamp(t){const e=Ir(t);return new Be(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=le.fromString(t);Kt(J1(i),9688,{name:t});const s=new gu(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return s.isEqual(e)||Ms(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class AO extends DS{constructor(t,e,i,s,o,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(R0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class $d extends AO{data(t={}){return super.data(t)}}class RO{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Td(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new $d(this._firestore,this._userDataWriter,i.key,i,new Td(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const d=new $d(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Td(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new $d(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Td(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:CO(u.type),doc:d,oldIndex:f,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function CO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:n})}}class IO extends TO{constructor(t){super(),this.firestore=t}convertBytes(t){return new hl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,e)}}function La(n){n=Ha(n,wl);const t=Ha(n.firestore,zu),e=TS(t),i=new IO(t);return bO(n._query),aO(e,n._query).then(s=>new RO(t,i,n,s))}function xf(n,t,e,...i){n=Ha(n,Un);const s=Ha(n.firestore,zu),o=w0(s);let l;return l=typeof(t=Oe(t))=="string"||t instanceof em?pO(o,"updateDoc",n._key,t,e,i):gO(o,"updateDoc",n._key,t),D0(s,[l.toMutation(n._key,hi.exists(!0))])}function iu(n){return D0(Ha(n.firestore,zu),[new i0(n._key,hi.none())])}function Ef(n,t){const e=Ha(n.firestore,zu),i=ji(n),s=SO(n.converter,t);return D0(e,[mO(w0(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}function D0(n,t){return function(i,s){const o=new Sr;return i.asyncQueue.enqueueAndForget(async()=>Yk(await sO(i),s,o)),o.promise}(TS(n),t)}function DO(){return new T0("serverTimestamp")}(function(t,e=!0){(function(s){vl=s})(_l),sl(new za("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new zu(new dM(i.getProvider("auth-internal")),new gM(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new gt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(f.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),wr(Fx,Hx,t),wr(Fx,Hx,"esm2017")})();var MO="firebase",NO="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(MO,NO,"app");function M0(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function NS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kO=NS,kS=new ku("auth","Firebase",NS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new $y("@firebase/auth");function OO(n,...t){wf.logLevel<=Ut.WARN&&wf.warn(`Auth (${_l}): ${n}`,...t)}function Wd(n,...t){wf.logLevel<=Ut.ERROR&&wf.error(`Auth (${_l}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,...t){throw N0(n,...t)}function Bi(n,...t){return N0(n,...t)}function OS(n,t,e){const i=Object.assign(Object.assign({},kO()),{[t]:e});return new ku("auth","Firebase",i).create(t,{appName:n.name})}function Cs(n){return OS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N0(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return kS.create(n,...t)}function St(n,t,...e){if(!n)throw N0(t,...e)}function Es(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Wd(t),new Error(t)}function ks(n,t){n||Es(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function PO(){return BE()==="http:"||BE()==="https:"}function BE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PO()||HI()||"connection"in navigator)?navigator.onLine:!0}function VO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,e){this.shortDelay=t,this.longDelay=e,ks(e>t,"Short delay should be less than long delay!"),this.isMobile=zI()||qI()}get(){return LO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(n,t){ks(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zO=new Fu(3e4,6e4);function Ur(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function zr(n,t,e,i,s={}){return LS(n,s,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Ou(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:t,headers:d},o);return FI()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Nu(n.emulatorConfig.host)&&(f.credentials="include"),PS.fetch()(await VS(n,n.config.apiHost,e,u),f)})}async function LS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},jO),t);try{const s=new FO(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Sd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Sd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Sd(n,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw OS(n,p,f);gi(n,p)}}catch(s){if(s instanceof Os)throw s;gi(n,"network-request-failed",{message:String(s)})}}async function Hu(n,t,e,i,s={}){const o=await zr(n,t,e,i,s);return"mfaPendingCredential"in o&&gi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function VS(n,t,e,i){const s=`${t}${e}?${i}`,o=n,l=o.config.emulator?k0(n.config,s):`${n.config.apiScheme}://${s}`;return UO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function BO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Bi(this.auth,"network-request-failed")),zO.get())})}}function Sd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Bi(n,t,i);return s.customData._tokenResponse=e,s}function FE(n){return n!==void 0&&n.enterprise!==void 0}class HO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return BO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qO(n,t){return zr(n,"GET","/v2/recaptchaConfig",Ur(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(n,t){return zr(n,"POST","/v1/accounts:delete",t)}async function Tf(n,t){return zr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function YO(n,t=!1){const e=Oe(n),i=await e.getIdToken(t),s=O0(i);St(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:su(Np(s.auth_time)),issuedAtTime:su(Np(s.iat)),expirationTime:su(Np(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Np(n){return Number(n)*1e3}function O0(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const s=$T(e);return s?JSON.parse(s):(Wd("Failed to decode base64 JWT payload"),null)}catch(s){return Wd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function HE(n){const t=O0(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Os&&$O(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function $O({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(n){var t;const e=n.auth,i=await n.getIdToken(),s=await bu(n,Tf(e,{idToken:i}));St(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?jS(o.providerUserInfo):[],u=QO(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new by(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,_)}async function KO(n){const t=Oe(n);await Sf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QO(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function jS(n){return n.map(t=>{var{providerId:e}=t,i=M0(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(n,t){const e=await LS(n,{},async()=>{const i=Ou({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await VS(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",PS.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function ZO(n,t){return zr(n,"POST","/v2/accounts:revokeToken",Ur(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):HE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=HE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:o}=await XO(t,e);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,l=new tl;return i&&(St(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(St(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),o&&(St(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ci{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,o=M0(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new by(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await bu(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return YO(this,t)}reload(){return KO(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ci(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Sf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Cs(this.auth));const t=await this.getIdToken();return await bu(this,GO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,o,l,u,d,f,p;const _=(i=e.displayName)!==null&&i!==void 0?i:void 0,v=(s=e.email)!==null&&s!==void 0?s:void 0,E=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=e.photoURL)!==null&&l!==void 0?l:void 0,R=(u=e.tenantId)!==null&&u!==void 0?u:void 0,A=(d=e._redirectEventId)!==null&&d!==void 0?d:void 0,D=(f=e.createdAt)!==null&&f!==void 0?f:void 0,L=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:B,isAnonymous:H,providerData:tt,stsTokenManager:O}=e;St(z&&O,t,"internal-error");const C=tl.fromJSON(this.name,O);St(typeof z=="string",t,"internal-error"),ur(_,t.name),ur(v,t.name),St(typeof B=="boolean",t,"internal-error"),St(typeof H=="boolean",t,"internal-error"),ur(E,t.name),ur(S,t.name),ur(R,t.name),ur(A,t.name),ur(D,t.name),ur(L,t.name);const k=new ci({uid:z,auth:t,email:v,emailVerified:B,displayName:_,isAnonymous:H,photoURL:S,phoneNumber:E,tenantId:R,stsTokenManager:C,createdAt:D,lastLoginAt:L});return tt&&Array.isArray(tt)&&(k.providerData=tt.map(V=>Object.assign({},V))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(t,e,i=!1){const s=new tl;s.updateFromServerResponse(e);const o=new ci({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await Sf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];St(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?jS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new tl;u.updateFromIdToken(i);const d=new ci({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new by(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function ws(n){ks(n instanceof Function,"Expected a class definition");let t=qE.get(n);return t?(ks(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,qE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}US.type="NONE";const GE=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(n,t,e){return`firebase:${n}:${t}:${e}`}class el{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Kd(this.userKey,s.apiKey,o),this.fullPersistenceKey=Kd("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Tf(this.auth,{idToken:t}).catch(()=>{});return e?ci._fromGetAccountInfoResponse(this.auth,e,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new el(ws(GE),t,i);const s=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||ws(GE);const l=Kd(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let _;if(typeof p=="string"){const v=await Tf(t,{idToken:p}).catch(()=>{});if(!v)break;_=await ci._fromGetAccountInfoResponse(t,v,p)}else _=ci._fromJSON(t,p);f!==o&&(u=_),o=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new el(o,t,i):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new el(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GS(t))return"Blackberry";if(YS(t))return"Webos";if(BS(t))return"Safari";if((t.includes("chrome/")||FS(t))&&!t.includes("edge/"))return"Chrome";if(qS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function zS(n=mn()){return/firefox\//i.test(n)}function BS(n=mn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FS(n=mn()){return/crios\//i.test(n)}function HS(n=mn()){return/iemobile/i.test(n)}function qS(n=mn()){return/android/i.test(n)}function GS(n=mn()){return/blackberry/i.test(n)}function YS(n=mn()){return/webos/i.test(n)}function P0(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JO(n=mn()){var t;return P0(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function tP(){return GI()&&document.documentMode===10}function $S(n=mn()){return P0(n)||qS(n)||YS(n)||GS(n)||/windows phone/i.test(n)||HS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(n,t=[]){let e;switch(n){case"Browser":e=YE(mn());break;case"Worker":e=`${YE(mn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${_l}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const d=t(o);l(d)}catch(d){u(d)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,t={}){return zr(n,"GET","/v2/passwordPolicy",Ur(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=6;class sP{constructor(t){var e,i,s,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:iP,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(e=d.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new eP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ws(e)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await el.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Tf(this,{idToken:t}),i=await ci._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ei(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(t);(!l||l===u)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Sf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ei(this.app))return Promise.reject(Cs(this));const e=t?Oe(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ei(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nP(this),e=new sP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ku("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZO(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ws(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[ws(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,s);return()=>{l=!0,d()}}else{const d=t.addObserver(e);return()=>{l=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&OO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qa(n){return Oe(n)}class $E{constructor(t){this.auth=t,this.observer=null,this.addObserver=JI(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aP(n){rm=n}function KS(n){return rm.loadJS(n)}function oP(){return rm.recaptchaEnterpriseScript}function lP(){return rm.gapiScript}function cP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class uP{constructor(){this.enterprise=new hP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class hP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const dP="recaptcha-enterprise",QS="NO_RECAPTCHA";class fP{constructor(t){this.type=dP,this.auth=Qa(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{qO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new HO(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function s(o,l,u){const d=window.grecaptcha;FE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(QS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&FE(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=oP();d.length!==0&&(d+=u),KS(d).then(()=>{s(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function WE(n,t,e,i=!1,s=!1){const o=new fP(n);let l;if(s)l=QS;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xy(n,t,e,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await WE(n,t,e,e==="getOobCode");return i(n,l)}else return i(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await WE(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n,t){const e=Ky(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(Ua(o,t??{}))return s;gi(s,"already-initialized")}return e.initialize({options:t})}function gP(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(ws);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function pP(n,t,e){const i=Qa(n);St(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=XS(t),{host:l,port:u}=yP(t),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){St(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),St(Ua(f,i.config.emulator)&&Ua(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Nu(l)?(Bf("Auth",!0),XT(`${o}//${l}${d}`)):_P()}function XS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function yP(n){const t=XS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:KE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:KE(l)}}}function KE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function _P(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Es("not implemented")}_getIdTokenResponse(t){return Es("not implemented")}_linkToIdToken(t,e){return Es("not implemented")}_getReauthenticationResolver(t){return Es("not implemented")}}async function vP(n,t){return zr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,t){return Hu(n,"POST","/v1/accounts:signInWithPassword",Ur(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,t){return Hu(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,t))}async function EP(n,t){return Hu(n,"POST","/v1/accounts:signInWithEmailLink",Ur(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends L0{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new xu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new xu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(t,e,"signInWithPassword",bP);case"emailLink":return xP(t,{email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xy(t,i,"signUpPassword",vP);case"emailLink":return EP(t,{idToken:e,email:this._email,oobCode:this._password});default:gi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n,t){return Hu(n,"POST","/v1/accounts:signInWithIdp",Ur(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="http://localhost";class qa extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):gi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,o=M0(e,["providerId","signInMethod"]);if(!i||!s)return null;const l=new qa(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return nl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,nl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,nl(t,e)}buildRequest(){const t={requestUri:wP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Ou(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SP(n){const t=Bc(Fc(n)).link,e=t?Bc(Fc(t)).deep_link_id:null,i=Bc(Fc(n)).deep_link_id;return(i?Bc(Fc(i)).link:null)||i||e||t||n}class V0{constructor(t){var e,i,s,o,l,u;const d=Bc(Fc(t)),f=(e=d.apiKey)!==null&&e!==void 0?e:null,p=(i=d.oobCode)!==null&&i!==void 0?i:null,_=TP((s=d.mode)!==null&&s!==void 0?s:null);St(f&&p&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=SP(t);try{return new V0(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(t,e){return xu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=V0.parseLink(e);return St(i,"argument-error"),xu._fromEmailAndCode(t,i.code,i.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends ZS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends qu{constructor(){super("facebook.com")}static credential(t){return qa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return qa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return fr.credential(e,i)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends qu{constructor(){super("github.com")}static credential(t){return qa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mr.credential(t.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends qu{constructor(){super("twitter.com")}static credential(t,e){return qa._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return gr.credentialFromTaggedObject(t)}static credentialFromError(t){return gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return gr.credential(e,i)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,t){return Hu(n,"POST","/v1/accounts:signUp",Ur(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const o=await ci._fromIdTokenResponse(t,i,s),l=QE(i);return new Ga({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=QE(i);return new Ga({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function QE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends Os{constructor(t,e,i,s){var o;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new Af(t,e,i,s)}}function JS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(n,o,t,i):o})}async function RP(n,t,e=!1){const i=await bu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ga._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(n,t,e=!1){const{auth:i}=n;if(ei(i.app))return Promise.reject(Cs(i));const s="reauthenticate";try{const o=await bu(n,JS(i,s,t,n),e);St(o.idToken,i,"internal-error");const l=O0(o.idToken);St(l,i,"internal-error");const{sub:u}=l;return St(n.uid===u,i,"user-mismatch"),Ga._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&gi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(n,t,e=!1){if(ei(n.app))return Promise.reject(Cs(n));const i="signIn",s=await JS(n,i,t),o=await Ga._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(o.user),o}async function CP(n,t){return eA(Qa(n),t)}async function IP(n,t){return tA(Oe(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(n){const t=Qa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function DP(n,t,e){if(ei(n.app))return Promise.reject(Cs(n));const i=Qa(n),l=await xy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AP).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&nA(n),d}),u=await Ga._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function MP(n,t,e){return ei(n.app)?Promise.reject(Cs(n)):CP(Oe(n),Xa.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&nA(n),i})}function NP(n,t,e,i){return Oe(n).onIdTokenChanged(t,e,i)}function kP(n,t,e){return Oe(n).beforeAuthStateChanged(t,e)}function OP(n,t,e,i){return Oe(n).onAuthStateChanged(t,e,i)}function PP(n){return Oe(n).signOut()}async function LP(n){return Oe(n).delete()}const Rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=1e3,jP=10;class sA extends iA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$S(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);tP()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,jP):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},VP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}sA.type="LOCAL";const UP=sA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends iA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}rA.type="SESSION";const aA=rA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new am(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:o}=e.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async f=>f(e.origin,o)),d=await zP(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=j0("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function FP(n){Fi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function HP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function GP(){return oA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="firebaseLocalStorageDb",YP=1,Cf="firebaseLocalStorage",cA="fbase_key";class Gu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function om(n,t){return n.transaction([Cf],t?"readwrite":"readonly").objectStore(Cf)}function $P(){const n=indexedDB.deleteDatabase(lA);return new Gu(n).toPromise()}function Ey(){const n=indexedDB.open(lA,YP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Cf,{keyPath:cA})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Cf)?t(i):(i.close(),await $P(),t(await Ey()))})})}async function XE(n,t,e){const i=om(n,!0).put({[cA]:t,value:e});return new Gu(i).toPromise()}async function WP(n,t){const e=om(n,!1).get(t),i=await new Gu(e).toPromise();return i===void 0?null:i.value}function ZE(n,t){const e=om(n,!0).delete(t);return new Gu(e).toPromise()}const KP=800,QP=3;class uA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ey(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>QP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(GP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await HP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ey();return await XE(t,Rf,"1"),await ZE(t,Rf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>XE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>WP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>ZE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=om(s,!1).getAll();return new Gu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uA.type="LOCAL";const XP=uA;new Fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n,t){return t?ws(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends L0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return nl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return nl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return nl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function JP(n){return eA(n.auth,new U0(n),n.bypassAuthState)}function tL(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),tA(e,new U0(n),n.bypassAuthState)}async function eL(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),RP(e,new U0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JP;case"linkViaPopup":case"linkViaRedirect":return eL;case"reauthViaPopup":case"reauthViaRedirect":return tL;default:gi(this.auth,"internal-error")}}resolve(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new Fu(2e3,1e4);class Zo extends hA{constructor(t,e,i,s,o){super(t,e,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const t=j0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nL.get())};t()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="pendingRedirect",Qd=new Map;class sL extends hA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Qd.get(this.auth._key());if(!t){try{const i=await rL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Qd.set(this.auth._key(),t)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rL(n,t){const e=lL(t),i=oL(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function aL(n,t){Qd.set(n._key(),t)}function oL(n){return ws(n._redirectPersistence)}function lL(n){return Kd(iL,n.config.apiKey,n.name)}async function cL(n,t,e=!1){if(ei(n.app))return Promise.reject(Cs(n));const i=Qa(n),s=ZP(i,t),l=await new sL(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=10*60*1e3;class hL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dL(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!dA(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Bi(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uL&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(t))}saveEventToCache(t){this.cachedEventUids.add(JE(t)),this.lastProcessedEventTime=Date.now()}}function JE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function dA({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function dL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(n,t={}){return zr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gL=/^https?/;async function pL(n){if(n.config.emulator)return;const{authorizedDomains:t}=await fL(n);for(const e of t)try{if(yL(e))return}catch{}gi(n,"unauthorized-domain")}function yL(n){const t=vy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!gL.test(e))return!1;if(mL.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Fu(3e4,6e4);function tw(){const n=Fi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function vL(n){return new Promise((t,e)=>{var i,s,o;function l(){tw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tw(),e(Bi(n,"network-request-failed"))},timeout:_L.get()})}if(!((s=(i=Fi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=Fi().gapi)===null||o===void 0)&&o.load)l();else{const u=cP("iframefcb");return Fi()[u]=()=>{gapi.load?l():e(Bi(n,"network-request-failed"))},KS(`${lP()}?onload=${u}`).catch(d=>e(d))}}).catch(t=>{throw Xd=null,t})}let Xd=null;function bL(n){return Xd=Xd||vL(n),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new Fu(5e3,15e3),EL="__/auth/iframe",wL="emulator/auth/iframe",TL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AL(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?k0(t,wL):`https://${n.config.authDomain}/${EL}`,i={apiKey:t.apiKey,appName:n.name,v:_l},s=SL.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Ou(i).slice(1)}`}async function RL(n){const t=await bL(n),e=Fi().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:AL(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TL,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Bi(n,"network-request-failed"),u=Fi().setTimeout(()=>{o(l)},xL.get());function d(){Fi().clearTimeout(u),s(i)}i.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IL=500,DL=600,ML="_blank",NL="http://localhost";class ew{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kL(n,t,e,i=IL,s=DL){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d=Object.assign(Object.assign({},CL),{width:i.toString(),height:s.toString(),top:o,left:l}),f=mn().toLowerCase();e&&(u=FS(f)?ML:e),zS(f)&&(t=t||NL,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[E,S])=>`${v}${E}=${S},`,"");if(JO(f)&&u!=="_self")return OL(t||"",u),new ew(null);const _=window.open(t||"",u,p);St(_,n,"popup-blocked");try{_.focus()}catch{}return new ew(_)}function OL(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="__/auth/handler",LL="emulator/auth/handler",VL=encodeURIComponent("fac");async function nw(n,t,e,i,s,o){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:_l,eventId:s};if(t instanceof ZS){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",ZI(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,_]of Object.entries({}))l[p]=_}if(t instanceof qu){const p=t.getScopes().filter(_=>_!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${VL}=${encodeURIComponent(d)}`:"";return`${jL(n)}?${Ou(u).slice(1)}${f}`}function jL({config:n}){return n.emulator?k0(n,LL):`https://${n.authDomain}/${PL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class UL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aA,this._completeRedirectFn=cL,this._overrideRedirectResult=aL}async _openPopup(t,e,i,s){var o;ks((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await nw(t,e,i,vy(),s);return kL(t,l,j0())}async _openRedirect(t,e,i,s){await this._originValidation(t);const o=await nw(t,e,i,vy(),s);return FP(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(ks(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await RL(t),i=new hL(t);return e.register("authEvent",s=>(St(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kp,{type:kp},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[kp];l!==void 0&&e(!!l),gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=pL(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return $S()||BS()||P0()}}const zL=UL;var iw="@firebase/auth",sw="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HL(n){sl(new za("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;St(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(n)},f=new rP(i,s,o,d);return gP(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),sl(new za("auth-internal",t=>{const e=Qa(t.getProvider("auth").getImmediate());return(i=>new BL(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(iw,sw,FL(n)),wr(iw,sw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=5*60,GL=QT("authIdTokenMaxAge")||qL;let rw=null;const YL=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>GL)return;const s=e==null?void 0:e.token;rw!==s&&(rw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $L(n=e1()){const t=Ky(n,"auth");if(t.isInitialized())return t.getImmediate();const e=mP(n,{popupRedirectResolver:zL,persistence:[XP,UP,aA]}),i=QT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=YL(o.toString());kP(e,l,()=>l(e.currentUser)),NP(e,u=>l(u))}}const s=WT("auth");return s?pP(e,`http://${s}`):Bf("Auth",!1),e}function WL(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}aP({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=Bi("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",WL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HL("Browser");const KL={apiKey:"AIzaSyAUMuWkPJAoHyp0Da2IfrhcL2Owgssbb0o",authDomain:"fypsupervisor-397f0.firebaseapp.com",projectId:"fypsupervisor-397f0",storageBucket:"fypsupervisor-397f0.firebasestorage.app",messagingSenderId:"254868741234",appId:"1:254868741234:web:3f687bc6b6d48ec6a776eb"},fA=t1(KL),ka=$L(fA),Ne=cO(fA);function QL(){const[n,t]=W.useState([]),[e,i]=W.useState({id:null,name:"",email:"",domain:"",slots:"",officeHours:""}),[s,o]=W.useState([]),[l,u]=W.useState("faculty"),[d,f]=W.useState(!1);W.useEffect(()=>{(async()=>{f(!0);try{const z=(await La(li(Ne,"faculty"))).docs.map(B=>({id:B.id,...B.data()}));t(z)}catch(L){console.error("Error fetching faculty: ",L)}finally{f(!1)}})()},[]),W.useEffect(()=>{l==="ideas"&&(async()=>{f(!0);try{const z=(await La(li(Ne,"proposals"))).docs.map(B=>({id:B.id,...B.data()}));o(z)}catch(L){console.error("Error fetching proposals: ",L)}finally{f(!1)}})()},[l]);const p=D=>{const{name:L,value:z}=D.target;i(B=>({...B,[L]:z}))},_=async D=>{D.preventDefault(),f(!0);try{if(e.id){const L=ji(Ne,"faculty",e.id);await xf(L,{name:e.name,email:e.email,domain:e.domain,slots:e.slots,officeHours:e.officeHours}),t(n.map(z=>z.id===e.id?{...e}:z))}else{const L=await Ef(li(Ne,"faculty"),{name:e.name,email:e.email,domain:e.domain,slots:e.slots,officeHours:e.officeHours});t([...n,{...e,id:L.id}])}i({id:null,name:"",email:"",domain:"",slots:"",officeHours:""})}catch(L){console.error("Error saving faculty: ",L)}finally{f(!1)}},v=D=>{i(D)},E=async D=>{f(!0);try{await iu(ji(Ne,"faculty",D)),t(n.filter(L=>L.id!==D))}catch(L){console.error("Error deleting faculty: ",L)}finally{f(!1)}},S=async(D,L)=>{f(!0);try{const z=ji(Ne,"proposals",D);await xf(z,{status:L}),o(s.map(B=>B.id===D?{...B,status:L}:B))}catch(z){console.error("Error updating proposal status: ",z)}finally{f(!1)}},R=D=>{switch(D){case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"revision":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},A=D=>({AI:"bg-purple-100 text-purple-800",Cybersecurity:"bg-green-100 text-green-800","Data Science":"bg-blue-100 text-blue-800",Networks:"bg-orange-100 text-orange-800","Web Development":"bg-red-100 text-red-800","Machine Learning":"bg-indigo-100 text-indigo-800","Cloud Computing":"bg-cyan-100 text-cyan-800","Software Engineering":"bg-amber-100 text-amber-800",IoT:"bg-emerald-100 text-emerald-800"})[D]||"bg-gray-100 text-gray-800";return x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Faculty Management"}),x.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg",children:[x.jsx("button",{onClick:()=>u("faculty"),className:`px-4 py-2 rounded-md ${l==="faculty"?"bg-white shadow-sm":"text-gray-600"}`,children:"Faculty"}),x.jsx("button",{onClick:()=>u("ideas"),className:`px-4 py-2 rounded-md ${l==="ideas"?"bg-white shadow-sm":"text-gray-600"}`,children:"FYP Proposals"})]})]}),d&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex items-center",children:[x.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x.jsx("span",{children:"Processing..."})]})}),l==="faculty"&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-8 border border-gray-100",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:e.id?"Edit Faculty Member":"Add New Faculty Member"}),x.jsxs("form",{onSubmit:_,className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),x.jsx("input",{type:"text",name:"name",value:e.name,onChange:p,placeholder:"Full Name",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),x.jsx("input",{type:"email",name:"email",value:e.email,onChange:p,placeholder:"Email Address",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),x.jsxs("select",{name:"domain",value:e.domain,onChange:p,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[x.jsx("option",{value:"",children:"Select Domain"}),x.jsx("option",{value:"AI",children:"Artificial Intelligence"}),x.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),x.jsx("option",{value:"Data Science",children:"Data Science"}),x.jsx("option",{value:"Networks",children:"Networks"}),x.jsx("option",{value:"Web Development",children:"Web Development"}),x.jsx("option",{value:"Machine Learning",children:"Machine Learning"}),x.jsx("option",{value:"Cloud Computing",children:"Cloud Computing"}),x.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),x.jsx("option",{value:"IoT",children:"Internet of Things"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Slots"}),x.jsx("input",{type:"number",name:"slots",value:e.slots,onChange:p,placeholder:"Number of Slots",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Office Hours"}),x.jsx("input",{type:"text",name:"officeHours",value:e.officeHours,onChange:p,placeholder:"e.g., Mon 10-12, Wed 2-4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[e.id&&x.jsx("button",{type:"button",onClick:()=>i({id:null,name:"",email:"",domain:"",slots:"",officeHours:""}),className:"px-6 py-3 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg",disabled:d,children:e.id?"Update Faculty":"Add Faculty"})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[x.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Faculty Members"}),x.jsxs("span",{className:"text-sm text-gray-500",children:[n.length," faculty members"]})]}),n.length===0?x.jsx("div",{className:"p-8 text-center text-gray-500",children:"No faculty members found. Add your first faculty member above."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slots"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Office Hours"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(D=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:D.name}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:D.email}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A(D.domain)}`,children:D.domain})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${D.slots>0?"bg-green-500":"bg-red-500"}`}),D.slots]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:D.officeHours}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap space-x-2",children:[x.jsx("button",{onClick:()=>v(D),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Edit"}),x.jsx("button",{onClick:()=>E(D.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]},D.id))})]})})]})]}),l==="ideas"&&x.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[x.jsx("div",{className:"p-4 border-b border-gray-200",children:x.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"FYP Proposal Submissions"})}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supervisor"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No proposals submitted yet."})}):s.map(D=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:D.title}),x.jsx("td",{className:"px-6 py-4 text-gray-500 max-w-xs truncate",children:D.description}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:D.studentName}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:D.supervisor}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${R(D.status)}`,children:D.status})}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap space-x-2",children:[x.jsx("button",{onClick:()=>S(D.id,"accepted"),className:"text-green-600 hover:text-green-800 font-medium",children:"Accept"}),x.jsx("button",{onClick:()=>S(D.id,"rejected"),className:"text-red-600 hover:text-red-800 font-medium",children:"Reject"}),x.jsx("button",{onClick:()=>S(D.id,"revision"),className:"text-yellow-600 hover:text-yellow-800 font-medium",children:"Revision"})]})]},D.id))})]})})]})]})}function XL(){const[n,t]=W.useState([]),[e,i]=W.useState({domain:"",officeHours:"",slots:""}),[s,o]=W.useState({title:"",description:"",supervisor:""}),[l,u]=W.useState([]),[d,f]=W.useState(!1),[p,_]=W.useState(null);W.useEffect(()=>{const B=ka.onAuthStateChanged(H=>{_(H)});return()=>B()},[]),W.useEffect(()=>{(async()=>{f(!0);try{const tt=(await La(li(Ne,"faculty"))).docs.map(O=>({id:O.id,...O.data()}));t(tt)}catch(H){console.error("Error fetching faculty: ",H)}finally{f(!1)}})()},[]),W.useEffect(()=>{if(!p)return;(async()=>{f(!0);try{const H=EO(li(Ne,"proposals"),wO("submittedBy","==",p.uid)),O=(await La(H)).docs.map(C=>{var V;const k=C.data();return{id:C.id,...k,submittedAt:(V=k.submittedAt)!=null&&V.toDate?k.submittedAt.toDate():new Date(k.submittedAt)}}).sort((C,k)=>k.submittedAt-C.submittedAt);u(O)}catch(H){console.error("Error fetching ideas: ",H)}finally{f(!1)}})()},[p]);const v=B=>{const{name:H,value:tt}=B.target;i(O=>({...O,[H]:tt}))},E=n.filter(B=>{const H=!e.domain||B.domain.toLowerCase().includes(e.domain.toLowerCase()),tt=!e.officeHours||B.officeHours.toLowerCase().includes(e.officeHours.toLowerCase()),O=!e.slots||B.slots>=parseInt(e.slots);return H&&tt&&O}),S=B=>{const{name:H,value:tt}=B.target;o(O=>({...O,[H]:tt}))},R=async B=>{if(B.preventDefault(),f(!0),!p){alert("You must be logged in to submit an idea."),f(!1);return}try{const H=await Ef(li(Ne,"proposals"),{title:s.title,description:s.description,supervisor:s.supervisor,status:"pending",submittedBy:p.uid,submittedAt:DO(),studentName:p.displayName||"Anonymous Student",studentEmail:p.email||""});u(tt=>[{id:H.id,...s,status:"pending",submittedAt:new Date,studentName:p.displayName||"Anonymous Student",studentEmail:p.email||""},...tt]),o({title:"",description:"",supervisor:""}),alert("FYP idea submitted successfully!")}catch(H){console.error("Error submitting idea: ",H),alert("Failed to submit FYP idea. Please try again.")}finally{f(!1)}},A=async B=>{if(window.confirm("Are you sure you want to delete this proposal?")){f(!0);try{await iu(ji(Ne,"proposals",B)),u(H=>H.filter(tt=>tt.id!==B)),alert("Proposal deleted successfully!")}catch(H){console.error("Error deleting proposal: ",H),alert("Failed to delete proposal. Please try again.")}finally{f(!1)}}},D=B=>{switch(B){case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"revision":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},L=B=>({AI:"bg-purple-100 text-purple-800",Cybersecurity:"bg-green-100 text-green-800","Data Science":"bg-blue-100 text-blue-800",Networks:"bg-orange-100 text-orange-800","Web Development":"bg-red-100 text-red-800","Machine Learning":"bg-indigo-100 text-indigo-800","Cloud Computing":"bg-cyan-100 text-cyan-800","Software Engineering":"bg-amber-100 text-amber-800",IoT:"bg-emerald-100 text-emerald-800"})[B]||"bg-gray-100 text-gray-800",z=B=>{if(!B)return"Unknown date";try{return(B instanceof Date?B:new Date(B)).toLocaleString()}catch(H){return console.error("Error formatting date:",H),"Invalid date"}};return x.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Student Dashboard"}),d&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg flex items-center",children:[x.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x.jsx("span",{children:"Processing..."})]})}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-8 border border-gray-100",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Browse Supervisors"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),x.jsxs("select",{name:"domain",onChange:v,value:e.domain,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[x.jsx("option",{value:"",children:"All Domains"}),x.jsx("option",{value:"AI",children:"Artificial Intelligence"}),x.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),x.jsx("option",{value:"Data Science",children:"Data Science"}),x.jsx("option",{value:"Networks",children:"Networks"}),x.jsx("option",{value:"Web Development",children:"Web Development"}),x.jsx("option",{value:"Machine Learning",children:"Machine Learning"}),x.jsx("option",{value:"Cloud Computing",children:"Cloud Computing"}),x.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),x.jsx("option",{value:"IoT",children:"Internet of Things"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Office Hours"}),x.jsx("input",{name:"officeHours",onChange:v,value:e.officeHours,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Mon, Tue"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Slots"}),x.jsx("input",{name:"slots",onChange:v,value:e.slots,type:"number",min:"0",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Available slots"})]})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 mb-8",children:[x.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[x.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Available Supervisors"}),x.jsxs("span",{className:"text-sm text-gray-500",children:[E.length," faculty members"]})]}),E.length===0?x.jsx("div",{className:"p-8 text-center text-gray-500",children:"No faculty members match your filters. Try adjusting your search criteria."}):x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Office Hours"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slots"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(B=>x.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:B.name}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${L(B.domain)}`,children:B.domain})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:B.officeHours}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${B.slots>0?"bg-green-500":"bg-red-500"}`}),B.slots]})})]},B.id))})]})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md mb-8 border border-gray-100",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Submit FYP Idea"}),x.jsxs("form",{onSubmit:R,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),x.jsx("input",{name:"title",value:s.title,onChange:S,placeholder:"Project Title",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),x.jsx("textarea",{name:"description",value:s.description,onChange:S,placeholder:"Detailed description of your project",rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supervisor"}),x.jsxs("select",{name:"supervisor",value:s.supervisor,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[x.jsx("option",{value:"",children:"Select Supervisor"}),n.map(B=>x.jsxs("option",{value:B.name,children:[B.name," (",B.domain,")"]},B.id))]})]}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{type:"submit",className:"px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors shadow-md hover:shadow-lg",disabled:d,children:"Submit Idea"})})]})]}),l.length>0&&x.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[x.jsx("div",{className:"p-4 border-b border-gray-200",children:x.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Your Submitted Ideas"})}),x.jsx("div",{className:"divide-y divide-gray-200",children:l.map(B=>x.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold text-gray-800",children:B.title}),x.jsx("p",{className:"text-gray-600 mt-1",children:B.description}),x.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Supervisor:"})," ",B.supervisor]}),x.jsxs("p",{children:[x.jsx("span",{className:"font-medium",children:"Submitted:"})," ",z(B.submittedAt)]})]})]}),x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("span",{className:`px-3 py-1 text-sm rounded-full font-medium ${D(B.status)}`,children:B.status}),x.jsx("button",{onClick:()=>A(B.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]})},B.id))})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yu(n){return n+.5|0}const yr=(n,t,e)=>Math.max(Math.min(n,e),t);function Yc(n){return yr(Yu(n*2.55),0,255)}function Rr(n){return yr(Yu(n*255),0,255)}function xs(n){return yr(Yu(n/2.55)/100,0,1)}function aw(n){return yr(Yu(n*100),0,100)}const Jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wy=[..."0123456789ABCDEF"],ZL=n=>wy[n&15],JL=n=>wy[(n&240)>>4]+wy[n&15],Ad=n=>(n&240)>>4===(n&15),t4=n=>Ad(n.r)&&Ad(n.g)&&Ad(n.b)&&Ad(n.a);function e4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Jn[n[1]]*17,g:255&Jn[n[2]]*17,b:255&Jn[n[3]]*17,a:t===5?Jn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Jn[n[1]]<<4|Jn[n[2]],g:Jn[n[3]]<<4|Jn[n[4]],b:Jn[n[5]]<<4|Jn[n[6]],a:t===9?Jn[n[7]]<<4|Jn[n[8]]:255})),e}const n4=(n,t)=>n<255?t(n):"";function i4(n){var t=t4(n)?ZL:JL;return n?"#"+t(n.r)+t(n.g)+t(n.b)+n4(n.a,t):void 0}const s4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mA(n,t,e){const i=t*Math.min(e,1-e),s=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function r4(n,t,e){const i=(s,o=(s+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function a4(n,t,e){const i=mA(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function o4(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function z0(n){const e=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(e,i,s),l=Math.min(e,i,s),u=(o+l)/2;let d,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),d=o4(e,i,s,p,o),d=d*60+.5),[d|0,f||0,u]}function B0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Rr)}function F0(n,t,e){return B0(mA,n,t,e)}function l4(n,t,e){return B0(a4,n,t,e)}function c4(n,t,e){return B0(r4,n,t,e)}function gA(n){return(n%360+360)%360}function u4(n){const t=s4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Yc(+t[5]):Rr(+t[5]));const s=gA(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=l4(s,o,l):t[1]==="hsv"?i=c4(s,o,l):i=F0(s,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function h4(n,t){var e=z0(n);e[0]=gA(e[0]+t),e=F0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function d4(n){if(!n)return;const t=z0(n),e=t[0],i=aw(t[1]),s=aw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${xs(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const ow={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},lw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function f4(){const n={},t=Object.keys(lw),e=Object.keys(ow);let i,s,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)o=e[s],u=u.replace(o,ow[o]);o=parseInt(lw[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Rd;function m4(n){Rd||(Rd=f4(),Rd.transparent=[0,0,0,0]);const t=Rd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const g4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function p4(n){const t=g4.exec(n);let e=255,i,s,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Yc(l):yr(l*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?Yc(i):yr(i,0,255)),s=255&(t[4]?Yc(s):yr(s,0,255)),o=255&(t[6]?Yc(o):yr(o,0,255)),{r:i,g:s,b:o,a:e}}}function y4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Op=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Yo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _4(n,t,e){const i=Yo(xs(n.r)),s=Yo(xs(n.g)),o=Yo(xs(n.b));return{r:Rr(Op(i+e*(Yo(xs(t.r))-i))),g:Rr(Op(s+e*(Yo(xs(t.g))-s))),b:Rr(Op(o+e*(Yo(xs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Cd(n,t,e){if(n){let i=z0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=F0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function pA(n,t){return n&&Object.assign(t||{},n)}function cw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Rr(n[3]))):(t=pA(n,{r:0,g:0,b:0,a:1}),t.a=Rr(t.a)),t}function v4(n){return n.charAt(0)==="r"?p4(n):u4(n)}class Eu{constructor(t){if(t instanceof Eu)return t;const e=typeof t;let i;e==="object"?i=cw(t):e==="string"&&(i=e4(t)||m4(t)||v4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=pA(this._rgb);return t&&(t.a=xs(t.a)),t}set rgb(t){this._rgb=cw(t)}rgbString(){return this._valid?y4(this._rgb):void 0}hexString(){return this._valid?i4(this._rgb):void 0}hslString(){return this._valid?d4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,d=i.a-s.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*s.r+.5,i.g=255&f*i.g+o*s.g+.5,i.b=255&f*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=_4(this._rgb,t._rgb,e)),this}clone(){return new Eu(this.rgb)}alpha(t){return this._rgb.a=Rr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Yu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Cd(this._rgb,2,t),this}darken(t){return Cd(this._rgb,2,-t),this}saturate(t){return Cd(this._rgb,1,t),this}desaturate(t){return Cd(this._rgb,1,-t),this}rotate(t){return h4(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _s(){}const b4=(()=>{let n=0;return()=>n++})();function jt(n){return n==null}function fe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function xe(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ln(n,t){return xe(n)?n:t}function Mt(n,t){return typeof n>"u"?t:n}const x4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,yA=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Jt(n,t,e,i){let s,o,l;if(fe(n))for(o=n.length,s=0;s<o;s++)t.call(e,n[s],s);else if(Bt(n))for(l=Object.keys(n),o=l.length,s=0;s<o;s++)t.call(e,n[l[s]],l[s])}function If(n,t){let e,i,s,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function Df(n){if(fe(n))return n.map(Df);if(Bt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Df(n[e[s]]);return t}return n}function _A(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function E4(n,t,e,i){if(!_A(n))return;const s=t[n],o=e[n];Bt(s)&&Bt(o)?wu(s,o,i):t[n]=Df(o)}function wu(n,t,e){const i=fe(t)?t:[t],s=i.length;if(!Bt(n))return n;e=e||{};const o=e.merger||E4;let l;for(let u=0;u<s;++u){if(l=i[u],!Bt(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)o(d[f],n,l,e)}return n}function ru(n,t){return wu(n,t,{merger:w4})}function w4(n,t,e){if(!_A(n))return;const i=t[n],s=e[n];Bt(i)&&Bt(s)?ru(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Df(s))}const uw={"":n=>n,x:n=>n.x,y:n=>n.y};function T4(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function S4(n){const t=T4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Or(n,t){return(uw[t]||(uw[t]=S4(t)))(n)}function H0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Tu=n=>typeof n<"u",Pr=n=>typeof n=="function",hw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function A4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const ue=Math.PI,ce=2*ue,R4=ce+ue,Mf=Number.POSITIVE_INFINITY,C4=ue/180,Ae=ue/2,Sa=ue/4,dw=ue*2/3,_r=Math.log10,Hi=Math.sign;function au(n,t,e){return Math.abs(n-t)<e}function fw(n){const t=Math.round(n);n=au(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(_r(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function I4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function D4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function dl(n){return!D4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function M4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function vA(n,t,e){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ui(n){return n*(ue/180)}function q0(n){return n*(180/ue)}function mw(n){if(!xe(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function bA(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*ue&&(o+=ce),{angle:o,distance:s}}function Ty(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function N4(n,t){return(n-t+R4)%ce-ue}function Vn(n){return(n%ce+ce)%ce}function Su(n,t,e,i){const s=Vn(n),o=Vn(t),l=Vn(e),u=Vn(o-s),d=Vn(l-s),f=Vn(s-o),p=Vn(s-l);return s===o||s===l||i&&o===l||u>d&&f<p}function Qe(n,t,e){return Math.max(t,Math.min(e,n))}function k4(n){return Qe(n,-32768,32767)}function Ts(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function G0(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,e(o)?s=o:i=o;return{lo:s,hi:i}}const Ss=(n,t,e,i)=>G0(n,e,i?s=>{const o=n[s][t];return o<e||o===e&&n[s+1][t]===e}:s=>n[s][t]<e),O4=(n,t,e)=>G0(n,e,i=>n[i][t]>=e);function P4(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const xA=["push","pop","shift","splice","unshift"];function L4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),xA.forEach(e=>{const i="_onData"+H0(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function gw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(xA.forEach(o=>{delete n[o]}),delete n._chartjs)}function EA(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const wA=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function TA(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,wA.call(window,()=>{i=!1,n.apply(t,e)}))}}function V4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Y0=n=>n==="start"?"left":n==="end"?"right":"center",un=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,j4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function SA(n,t,e){const i=t.length;let s=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:_,max:v,minDefined:E,maxDefined:S}=l.getUserBounds();if(E){if(s=Math.min(Ss(d,p,_).lo,e?i:Ss(t,p,l.getPixelForValue(_)).lo),f){const R=d.slice(0,s+1).reverse().findIndex(A=>!jt(A[u.axis]));s-=Math.max(0,R)}s=Qe(s,0,i-1)}if(S){let R=Math.max(Ss(d,l.axis,v,!0).hi+1,e?0:Ss(t,p,l.getPixelForValue(v),!0).hi+1);if(f){const A=d.slice(R-1).findIndex(D=>!jt(D[u.axis]));R+=Math.max(0,A)}o=Qe(R,s,i)-s}else o=i-s}return{start:s,count:o}}function AA(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),o}const Id=n=>n===0||n===1,pw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ce/e)),yw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ce/e)+1,ou={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ae)+1,easeOutSine:n=>Math.sin(n*Ae),easeInOutSine:n=>-.5*(Math.cos(ue*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Id(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Id(n)?n:pw(n,.075,.3),easeOutElastic:n=>Id(n)?n:yw(n,.075,.3),easeInOutElastic(n){return Id(n)?n:n<.5?.5*pw(n*2,.1125,.45):.5+.5*yw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-ou.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ou.easeInBounce(n*2)*.5:ou.easeOutBounce(n*2-1)*.5+.5};function $0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function _w(n){return $0(n)?n:new Eu(n)}function Pp(n){return $0(n)?n:new Eu(n).saturate(.5).darken(.1).hexString()}const U4=["x","y","borderWidth","radius","tension"],z4=["color","borderColor","backgroundColor"];function B4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:z4},numbers:{type:"number",properties:U4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function F4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vw=new Map;function H4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=vw.get(e);return i||(i=new Intl.NumberFormat(n,t),vw.set(e,i)),i}function $u(n,t,e){return H4(t,e).format(n)}const RA={values(n){return fe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),o=q4(n,e)}const l=_r(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),$u(n,i,d)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(_r(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?RA.numeric.call(this,n,t,e):""}};function q4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var lm={formatters:RA};function G4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ya=Object.create(null),Sy=Object.create(null);function lu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Lp(n,t,e){return typeof t=="string"?wu(lu(n,t),e):wu(lu(n,""),t)}class Y4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Pp(s.backgroundColor),this.hoverBorderColor=(i,s)=>Pp(s.borderColor),this.hoverColor=(i,s)=>Pp(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Lp(this,t,e)}get(t){return lu(this,t)}describe(t,e){return Lp(Sy,t,e)}override(t,e){return Lp(Ya,t,e)}route(t,e,i,s){const o=lu(this,t),l=lu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[u],f=l[s];return Bt(d)?Object.assign({},f,d):Mt(d,f)},set(d){this[u]=d}}})}apply(t){t.forEach(e=>e(this))}}var me=new Y4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[B4,F4,G4]);function $4(n){return!n||jt(n.size)||jt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Nf(n,t,e,i,s){let o=t[s];return o||(o=t[s]=n.measureText(s).width,e.push(s)),o>i&&(i=o),i}function W4(n,t,e,i){i=i||{};let s=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let d,f,p,_,v;for(d=0;d<u;d++)if(_=e[d],_!=null&&!fe(_))l=Nf(n,s,o,l,_);else if(fe(_))for(f=0,p=_.length;f<p;f++)v=_[f],v!=null&&!fe(v)&&(l=Nf(n,s,o,l,v));n.restore();const E=o.length/2;if(E>e.length){for(d=0;d<E;d++)delete s[o[d]];o.splice(0,E)}return l}function Aa(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function bw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ay(n,t,e,i){CA(n,t,e,i,null)}function CA(n,t,e,i,s){let o,l,u,d,f,p,_,v;const E=t.pointStyle,S=t.rotation,R=t.radius;let A=(S||0)*C4;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(A),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(R)||R<=0)){switch(n.beginPath(),E){default:s?n.ellipse(e,i,s/2,R,0,0,ce):n.arc(e,i,R,0,ce),n.closePath();break;case"triangle":p=s?s/2:R,n.moveTo(e+Math.sin(A)*p,i-Math.cos(A)*R),A+=dw,n.lineTo(e+Math.sin(A)*p,i-Math.cos(A)*R),A+=dw,n.lineTo(e+Math.sin(A)*p,i-Math.cos(A)*R),n.closePath();break;case"rectRounded":f=R*.516,d=R-f,l=Math.cos(A+Sa)*d,_=Math.cos(A+Sa)*(s?s/2-f:d),u=Math.sin(A+Sa)*d,v=Math.sin(A+Sa)*(s?s/2-f:d),n.arc(e-_,i-u,f,A-ue,A-Ae),n.arc(e+v,i-l,f,A-Ae,A),n.arc(e+_,i+u,f,A,A+Ae),n.arc(e-v,i+l,f,A+Ae,A+ue),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*R,p=s?s/2:d,n.rect(e-p,i-d,2*p,2*d);break}A+=Sa;case"rectRot":_=Math.cos(A)*(s?s/2:R),l=Math.cos(A)*R,u=Math.sin(A)*R,v=Math.sin(A)*(s?s/2:R),n.moveTo(e-_,i-u),n.lineTo(e+v,i-l),n.lineTo(e+_,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":A+=Sa;case"cross":_=Math.cos(A)*(s?s/2:R),l=Math.cos(A)*R,u=Math.sin(A)*R,v=Math.sin(A)*(s?s/2:R),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":_=Math.cos(A)*(s?s/2:R),l=Math.cos(A)*R,u=Math.sin(A)*R,v=Math.sin(A)*(s?s/2:R),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),A+=Sa,_=Math.cos(A)*(s?s/2:R),l=Math.cos(A)*R,u=Math.sin(A)*R,v=Math.sin(A)*(s?s/2:R),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=s?s/2:Math.cos(A)*R,u=Math.sin(A)*R,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(A)*(s?s/2:R),i+Math.sin(A)*R);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function As(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function cm(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function um(n){n.restore()}function K4(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if(s==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else s==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Q4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function X4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),jt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function Z4(n,t,e,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,f=e+o.actualBoundingBoxDescent,p=s.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function J4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function $a(n,t,e,i,s,o={}){const l=fe(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=s.string,X4(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&J4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),jt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,e,i,o.maxWidth)),n.fillText(f,e,i,o.maxWidth),Z4(n,e,i,f,o),i+=Number(s.lineHeight);n.restore()}function Au(n,t){const{x:e,y:i,w:s,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*ue,ue,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,ue,Ae,!0),n.lineTo(e+s-l.bottomRight,i+o),n.arc(e+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Ae,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-Ae,!0),n.lineTo(e+l.topLeft,i)}const tV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,eV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nV(n,t){const e=(""+n).match(tV);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const iV=n=>+n||0;function W0(n,t){const e={},i=Bt(t),s=i?Object.keys(t):t,o=Bt(n)?i?l=>Mt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=iV(o(l));return e}function IA(n){return W0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Va(n){return W0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function gn(n){const t=IA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ze(n,t){n=n||{},t=t||me.font;let e=Mt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Mt(n.style,t.style);i&&!(""+i).match(eV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:Mt(n.family,t.family),lineHeight:nV(Mt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Mt(n.weight,t.weight),string:""};return s.string=$4(s),s}function $c(n,t,e,i){let s,o,l;for(s=0,o=n.length;s<o;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function sV(n,t,e){const{min:i,max:s}=n,o=yA(t,(s-i)/2),l=(u,d)=>e&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function Br(n,t){return Object.assign(Object.create(n),t)}function K0(n,t=[""],e,i,s=()=>n[0]){const o=e||n;typeof i>"u"&&(i=kA("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>K0([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return MA(u,d,()=>dV(d,t,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return Ew(u).includes(d)},ownKeys(u){return Ew(u)},set(u,d,f){const p=u._storage||(u._storage=s());return u[d]=p[d]=f,delete u._keys,!0}})}function fl(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:DA(n,i),setContext:o=>fl(n,o,e,i),override:o=>fl(n.override(o),t,e,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return MA(o,l,()=>aV(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function DA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Pr(e)?e:()=>e,isIndexable:Pr(i)?i:()=>i}}const rV=(n,t)=>n?n+H0(t):t,Q0=(n,t)=>Bt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function MA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function aV(n,t,e){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;let u=i[t];return Pr(u)&&l.isScriptable(t)&&(u=oV(t,u,n,e)),fe(u)&&u.length&&(u=lV(t,u,n,l.isIndexable)),Q0(t,u)&&(u=fl(u,s,o&&o[t],l)),u}function oV(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=t(o,l||i);return u.delete(n),Q0(n,d)&&(d=X0(s._scopes,s,n,d)),d}function lV(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Bt(t[0])){const d=t,f=s._scopes.filter(p=>p!==d);t=[];for(const p of d){const _=X0(f,s,n,p);t.push(fl(_,o,l&&l[n],u))}}return t}function NA(n,t,e){return Pr(n)?n(t,e):n}const cV=(n,t)=>n===!0?t:typeof n=="string"?Or(t,n):void 0;function uV(n,t,e,i,s){for(const o of t){const l=cV(e,o);if(l){n.add(l);const u=NA(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function X0(n,t,e,i){const s=t._rootScopes,o=NA(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let d=xw(u,l,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=xw(u,l,o,d,i),d===null)?!1:K0(Array.from(u),[""],s,o,()=>hV(t,e,i))}function xw(n,t,e,i,s){for(;e;)e=uV(n,t,e,i,s);return e}function hV(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return fe(s)&&Bt(e)?e:s||{}}function dV(n,t,e,i){let s;for(const o of t)if(s=kA(rV(o,n),e),typeof s<"u")return Q0(n,s)?X0(e,i,n,s):s}function kA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Ew(n){let t=n._keys;return t||(t=n._keys=fV(n._scopes)),t}function fV(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function OA(n,t,e,i){const{iScale:s}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+e,p=t[f],l[u]={r:s.parse(Or(p,o),f)};return l}const mV=Number.EPSILON||1e-14,ml=(n,t)=>t<n.length&&!n[t].skip&&n[t],PA=n=>n==="x"?"y":"x";function gV(n,t,e,i){const s=n.skip?t:n,o=t,l=e.skip?t:e,u=Ty(o,s),d=Ty(l,o);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const _=i*f,v=i*p;return{previous:{x:o.x-_*(l.x-s.x),y:o.y-_*(l.y-s.y)},next:{x:o.x+v*(l.x-s.x),y:o.y+v*(l.y-s.y)}}}function pV(n,t,e){const i=n.length;let s,o,l,u,d,f=ml(n,0);for(let p=0;p<i-1;++p)if(d=f,f=ml(n,p+1),!(!d||!f)){if(au(t[p],0,mV)){e[p]=e[p+1]=0;continue}s=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(s,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=s*l*t[p],e[p+1]=o*l*t[p])}}function yV(n,t,e="x"){const i=PA(e),s=n.length;let o,l,u,d=ml(n,0);for(let f=0;f<s;++f){if(l=u,u=d,d=ml(n,f+1),!u)continue;const p=u[e],_=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=_-o*t[f]),d&&(o=(d[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=_+o*t[f])}}function _V(n,t="x"){const e=PA(t),i=n.length,s=Array(i).fill(0),o=Array(i);let l,u,d,f=ml(n,0);for(l=0;l<i;++l)if(u=d,d=f,f=ml(n,l+1),!!d){if(f){const p=f[t]-d[t];s[l]=p!==0?(f[e]-d[e])/p:0}o[l]=u?f?Hi(s[l-1])!==Hi(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}pV(n,s,o),yV(n,o,t)}function Dd(n,t,e){return Math.max(Math.min(n,e),t)}function vV(n,t){let e,i,s,o,l,u=As(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&As(n[e+1],t),o&&(s=n[e],l&&(s.cp1x=Dd(s.cp1x,t.left,t.right),s.cp1y=Dd(s.cp1y,t.top,t.bottom)),u&&(s.cp2x=Dd(s.cp2x,t.left,t.right),s.cp2y=Dd(s.cp2y,t.top,t.bottom)))}function bV(n,t,e,i,s){let o,l,u,d;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")_V(n,s);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=gV(f,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}t.capBezierPoints&&vV(n,e)}function Z0(){return typeof window<"u"&&typeof document<"u"}function J0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function kf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const hm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function xV(n,t){return hm(n).getPropertyValue(t)}const EV=["top","right","bottom","left"];function ja(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=EV[s];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const wV=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function TV(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:o}=i;let l=!1,u,d;if(wV(s,o,n.target))u=s,d=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function Ma(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=hm(e),o=s.boxSizing==="border-box",l=ja(s,"padding"),u=ja(s,"border","width"),{x:d,y:f,box:p}=TV(n,e),_=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:E,height:S}=t;return o&&(E-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-_)/E*e.width/i),y:Math.round((f-v)/S*e.height/i)}}function SV(n,t,e){let i,s;if(t===void 0||e===void 0){const o=n&&J0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=hm(o),d=ja(u,"border","width"),f=ja(u,"padding");t=l.width-f.width-d.width,e=l.height-f.height-d.height,i=kf(u.maxWidth,o,"clientWidth"),s=kf(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Mf,maxHeight:s||Mf}}const Md=n=>Math.round(n*10)/10;function AV(n,t,e,i){const s=hm(n),o=ja(s,"margin"),l=kf(s.maxWidth,n,"clientWidth")||Mf,u=kf(s.maxHeight,n,"clientHeight")||Mf,d=SV(n,t,e);let{width:f,height:p}=d;if(s.boxSizing==="content-box"){const v=ja(s,"border","width"),E=ja(s,"padding");f-=E.width+v.width,p-=E.height+v.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=Md(Math.min(f,l,d.maxWidth)),p=Md(Math.min(p,u,d.maxHeight)),f&&!p&&(p=Md(f/2)),(t!==void 0||e!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,f=Md(Math.floor(p*i))),{width:f,height:p}}function ww(n,t,e){const i=t||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(n.currentDevicePixelRatio=i,l.height=s,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const RV=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Z0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Tw(n,t){const e=xV(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Na(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function CV(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function IV(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=Na(n,s,e),u=Na(s,o,e),d=Na(o,t,e),f=Na(l,u,e),p=Na(u,d,e);return Na(f,p,e)}const DV=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},MV=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function il(n,t,e){return n?DV(t,e):MV()}function LA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function VA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function jA(n){return n==="angle"?{between:Su,compare:N4,normalize:Vn}:{between:Ts,compare:(t,e)=>t-e,normalize:t=>t}}function Sw({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:s}}function NV(n,t,e){const{property:i,start:s,end:o}=e,{between:l,normalize:u}=jA(i),d=t.length;let{start:f,end:p,loop:_}=n,v,E;if(_){for(f+=d,p+=d,v=0,E=d;v<E&&l(u(t[f%d][i]),s,o);++v)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:_,style:n.style}}function UA(n,t,e){if(!e)return[n];const{property:i,start:s,end:o}=e,l=t.length,{compare:u,between:d,normalize:f}=jA(i),{start:p,end:_,loop:v,style:E}=NV(n,t,e),S=[];let R=!1,A=null,D,L,z;const B=()=>d(s,z,D)&&u(s,z)!==0,H=()=>u(o,D)===0||d(o,z,D),tt=()=>R||B(),O=()=>!R||H();for(let C=p,k=p;C<=_;++C)L=t[C%l],!L.skip&&(D=f(L[i]),D!==z&&(R=d(D,s,o),A===null&&tt()&&(A=u(D,s)===0?C:k),A!==null&&O()&&(S.push(Sw({start:A,end:C,loop:v,count:l,style:E})),A=null),k=C,z=D));return A!==null&&S.push(Sw({start:A,end:_,loop:v,count:l,style:E})),S}function zA(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const o=UA(i[s],n.points,t);o.length&&e.push(...o)}return e}function kV(n,t,e,i){let s=0,o=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(o+=s);o>s&&n[o%t].skip;)o--;return o%=t,{start:s,end:o}}function OV(n,t,e,i){const s=n.length,o=[];let l=t,u=n[t],d;for(d=t+1;d<=e;++d){const f=n[d%s];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%s,end:(d-1)%s,loop:i}),t=l=f.stop?d:null):(l=d,u.skip&&(t=d)),u=f}return l!==null&&o.push({start:t%s,end:l%s,loop:i}),o}function PV(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const o=!!n._loop,{start:l,end:u}=kV(e,s,o,i);if(i===!0)return Aw(n,[{start:l,end:u,loop:o}],e,t);const d=u<l?u+s:u,f=!!n._fullLoop&&l===0&&u===s-1;return Aw(n,OV(e,l,d,f),e,t)}function Aw(n,t,e,i){return!i||!i.setContext||!e?t:LV(n,t,e,i)}function LV(n,t,e,i){const s=n._chart.getContext(),o=Rw(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=e.length,f=[];let p=o,_=t[0].start,v=_;function E(S,R,A,D){const L=u?-1:1;if(S!==R){for(S+=d;e[S%d].skip;)S-=L;for(;e[R%d].skip;)R+=L;S%d!==R%d&&(f.push({start:S%d,end:R%d,loop:A,style:D}),p=D,_=R%d)}}for(const S of t){_=u?_:S.start;let R=e[_%d],A;for(v=_+1;v<=S.end;v++){const D=e[v%d];A=Rw(i.setContext(Br(s,{type:"segment",p0:R,p1:D,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:l}))),VV(A,p)&&E(_,v-1,S.loop,p),R=D,p=A}_<v-1&&E(_,v-1,S.loop,p)}return f}function Rw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function VV(n,t){if(!t)return!1;const e=[],i=function(s,o){return $0(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Nd(n,t,e){return n.options.clip?n[e]:t[e]}function jV(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Nd(e,t,"left"),right:Nd(e,t,"right"),top:Nd(i,t,"top"),bottom:Nd(i,t,"bottom")}:t}function BA(n,t){const e=t._clip;if(e.disabled)return!1;const i=jV(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class UV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.listeners[s],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=wA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var vs=new UV;const Cw="transparent",zV={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=_w(n||Cw),s=i.valid&&_w(t||Cw);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class BV{constructor(t,e,i,s){const o=e[i];s=$c([t.to,s,o,t.from]);const l=$c([t.from,o,s]);this._active=!0,this._fn=t.fn||zV[t.type||typeof l],this._easing=ou[t.easing]||ou.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=$c([t.to,e,s,t.from]),this._from=$c([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=o;return}d=e/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[s]=this._fn(o,u,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class FA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(me.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!Bt(o))return;const l={};for(const u of e)l[u]=o[u];(fe(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=HV(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&FV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(t,e));continue}const p=e[f];let _=o[f];const v=i.get(f);if(_)if(v&&_.active()){_.update(v,p,u);continue}else _.cancel();if(!v||!v.duration){t[f]=p;continue}o[f]=_=new BV(v,t,f,p),s.push(_)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return vs.add(this._chart,i),!0}}function FV(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function HV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Iw(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function qV(n,t,e){if(e===!1)return!1;const i=Iw(n,e),s=Iw(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function GV(n){let t,e,i,s;return Bt(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function HA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)e.push(i[s].index);return e}function Dw(n,t,e,i={}){const s=n.keys,o=i.mode==="single";let l,u,d,f;if(t===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(d=+s[l],d===e){if(p=!0,i.all)continue;break}f=n.values[d],xe(f)&&(o||t===0||Hi(t)===Hi(f))&&(t+=f)}return!p&&!i.all?0:t}function YV(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[s]:p,[o]:n[p]};return u}function Vp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function $V(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function WV(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function KV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Mw(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function Nw(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,p=$V(o,l,i),_=t.length;let v;for(let E=0;E<_;++E){const S=t[E],{[d]:R,[f]:A}=S,D=S._stacks||(S._stacks={});v=D[f]=KV(s,p,R),v[u]=A,v._top=Mw(v,l,!0,i.type),v._bottom=Mw(v,l,!1,i.type);const L=v._visualValues||(v._visualValues={});L[u]=A}}function jp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function QV(n,t){return Br(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function XV(n,t,e){return Br(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Lc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Up=n=>n==="reset"||n==="none",kw=(n,t)=>t?n:Object.assign({},n),ZV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:HA(e,!0),values:null};class di{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Vp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Lc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(_,v,E,S)=>_==="x"?v:_==="r"?S:E,o=e.xAxisID=Mt(i.xAxisID,jp(t,"x")),l=e.yAxisID=Mt(i.yAxisID,jp(t,"y")),u=e.rAxisID=Mt(i.rAxisID,jp(t,"r")),d=e.indexAxis,f=e.iAxisID=s(d,o,l,u),p=e.vAxisID=s(d,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&gw(this._data,this),t._stacked&&Lc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Bt(e)){const s=this._cachedMeta;this._data=YV(e,s)}else if(i!==e){if(i){gw(i,this);const s=this._cachedMeta;Lc(s),s._parsed=[]}e&&Object.isExtensible(e)&&L4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=Vp(e.vScale,e),e.stack!==i.stack&&(s=!0,Lc(e),e.stack=i.stack),this._resyncElements(t),(s||o!==e._stacked)&&(Nw(this,e._parsed),e._stacked=Vp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=t===0&&e===s.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,_,v;if(this._parsing===!1)i._parsed=s,i._sorted=!0,v=s;else{fe(s[t])?v=this.parseArrayData(i,s,t,e):Bt(s[t])?v=this.parseObjectData(i,s,t,e):v=this.parsePrimitiveData(i,s,t,e);const E=()=>_[u]===null||f&&_[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=_=v[p],d&&(E()&&(d=!1),f=_);i._sorted=d}l&&Nw(this,v)}parsePrimitiveData(t,e,i,s){const{iScale:o,vScale:l}=t,u=o.axis,d=l.axis,f=o.getLabels(),p=o===l,_=new Array(s);let v,E,S;for(v=0,E=s;v<E;++v)S=v+i,_[v]={[u]:p||o.parse(f[S],S),[d]:l.parse(e[S],S)};return _}parseArrayData(t,e,i,s){const{xScale:o,yScale:l}=t,u=new Array(s);let d,f,p,_;for(d=0,f=s;d<f;++d)p=d+i,_=e[p],u[d]={x:o.parse(_[0],p),y:l.parse(_[1],p)};return u}parseObjectData(t,e,i,s){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(s);let p,_,v,E;for(p=0,_=s;p<_;++p)v=p+i,E=e[v],f[p]={x:o.parse(Or(E,u),v),y:l.parse(Or(E,d),v)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:HA(s,!0),values:e._stacks[t.axis]._visualValues};return Dw(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const o=i[e.axis];let l=o===null?NaN:o;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=Dw(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),d=ZV(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:_}=WV(u);let v,E;function S(){E=s[v];const R=E[u.axis];return!xe(E[t.axis])||p>R||_<R}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(f,t,E,d),o));++v);if(o){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,t,E,d);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=e.length;s<o;++s)l=e[s][t.axis],xe(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=GV(Mt(this.options.clip,qV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,d),p=u;p<u+d;++p){const _=s[p];_.hidden||(_.active&&f?l.push(_):_.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=XV(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=QV(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],d=this.enableOptionSharing&&Tu(i);if(u)return kw(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),_=s?[`${t}Hover`,"hover",t,""]:[t,""],v=f.getOptionScopes(this.getDataset(),p),E=Object.keys(me.elements[t]),S=()=>this.getContext(i,s,e),R=f.resolveNamedOptions(v,E,S,_);return R.$shared&&(R.$shared=d,o[l]=Object.freeze(kw(R,d))),R}_resolveAnimations(t,e,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let d;if(s.options.animation!==!1){const p=this.chart.config,_=p.datasetAnimationScopeKeys(this._type,e),v=p.getOptionScopes(this.getDataset(),_);d=p.createResolver(v,this.getContext(t,i,e))}const f=new FA(s,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Up(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,s){Up(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Up(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const s=i.length,o=e.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,i=!0){const s=this._cachedMeta,o=s.data,l=t+e;let u;const d=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(d(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(s._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Lc(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ht(di,"defaults",{}),ht(di,"datasetElementType",null),ht(di,"dataElementType",null);function JV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=e.length;s<o;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=EA(i.sort((s,o)=>s-o))}return n._cache.$bar}function t3(n){const t=n.iScale,e=JV(t,n.type);let i=t._length,s,o,l,u;const d=()=>{l===32767||l===-32768||(Tu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,o=e.length;s<o;++s)l=t.getPixelForValue(e[s]),d();for(u=void 0,s=0,o=t.ticks.length;s<o;++s)l=t.getPixelForTick(s),d();return i}function e3(n,t,e,i){const s=e.barThickness;let o,l;return jt(s)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function n3(n,t,e,i){const s=t.pixels,o=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const d=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const f=o-(o-Math.min(l,u))/2*d;return{chunk:Math.abs(u-l)/2*d/i,ratio:e.barPercentage,start:f}}function i3(n,t,e,i){const s=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(s,o),u=Math.max(s,o);let d=l,f=u;Math.abs(l)>Math.abs(u)&&(d=u,f=l),t[e.axis]=f,t._custom={barStart:d,barEnd:f,start:s,end:o,min:l,max:u}}function qA(n,t,e,i){return fe(n)?i3(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Ow(n,t,e,i){const s=n.iScale,o=n.vScale,l=s.getLabels(),u=s===o,d=[];let f,p,_,v;for(f=e,p=e+i;f<p;++f)v=t[f],_={},_[s.axis]=u||s.parse(l[f],f),d.push(qA(v,_,o,f));return d}function zp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function s3(n,t,e){return n!==0?Hi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function r3(n){let t,e,i,s,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:i,reverse:t,top:s,bottom:o}}function a3(n,t,e,i){let s=t.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:d,top:f,bottom:p}=r3(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=f:(e._bottom||0)===i?s=p:(o[Pw(p,l,u,d)]=!0,s=f)),o[Pw(s,l,u,d)]=!0,n.borderSkipped=o}function Pw(n,t,e,i){return i?(n=o3(n,t,e),n=Lw(n,e,t)):n=Lw(n,t,e),n}function o3(n,t,e){return n===t?e:n===e?t:n}function Lw(n,t,e){return n==="start"?t:n==="end"?e:n}function l3(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class cu extends di{parsePrimitiveData(t,e,i,s){return Ow(t,e,i,s)}parseArrayData(t,e,i,s){return Ow(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?u:d,p=l.axis==="x"?u:d,_=[];let v,E,S,R;for(v=i,E=i+s;v<E;++v)R=e[v],S={},S[o.axis]=o.parse(Or(R,f),v),_.push(qA(Or(R,p),S,l,v));return _}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,o=this.getParsed(t),l=o._custom,u=zp(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,s);for(let E=e;E<e+i;E++){const S=this.getParsed(E),R=o||jt(S[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(E),A=this._calculateBarIndexPixels(E,p),D=(S._stacks||{})[u.axis],L={horizontal:f,base:R.base,enableBorderRadius:!D||zp(S._custom)||l===D._top||l===D._bottom,x:f?R.head:A.center,y:f?A.center:R.head,height:f?A.size:Math.abs(R.size),width:f?Math.abs(R.size):A.size};v&&(L.options=_||this.resolveDataElementOptions(E,t[E].active?"active":s));const z=L.options||t[E].options;a3(L,z,D,l),l3(L,z,p.ratio),this.updateElement(t[E],E,L,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),d=u&&u[i.axis],f=p=>{const _=p._parsed.find(E=>E[i.axis]===d),v=_&&_[p.vScale.axis];if(jt(v)||isNaN(v))return!0};for(const p of s)if(!(e!==void 0&&f(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let o,l;for(o=0,l=e.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||t3(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,u=o||0,d=this.getParsed(t),f=d._custom,p=zp(f);let _=d[e.axis],v=0,E=i?this.applyStack(e,d,i):_,S,R;E!==_&&(v=E-_,E=_),p&&(_=f.barStart,E=f.barEnd-f.barStart,_!==0&&Hi(_)!==Hi(f.barEnd)&&(v=0),v+=_);const A=!jt(o)&&!p?o:v;let D=e.getPixelForValue(A);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(v+E):S=D,R=S-D,Math.abs(R)<l){R=s3(R,e,u)*l,_===u&&(D-=R/2);const L=e.getPixelForDecimal(0),z=e.getPixelForDecimal(1),B=Math.min(L,z),H=Math.max(L,z);D=Math.max(Math.min(D,H),B),S=D+R,i&&!p&&(d._stacks[e.axis]._visualValues[s]=e.getValueForPixel(S)-e.getValueForPixel(D))}if(D===e.getPixelForValue(u)){const L=Hi(R)*e.getLineWidthForValue(u)/2;D+=L,R-=L}return{size:R,base:D,head:S,center:S+R/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,o=s.skipNull,l=Mt(s.maxBarThickness,1/0);let u,d;if(e.grouped){const f=o?this._getStackCount(t):e.stackCount,p=s.barThickness==="flex"?n3(t,e,s,f):e3(t,e,s,f),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);u=p.start+p.chunk*_+p.chunk/2,d=Math.min(l,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(l,e.min*e.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}ht(cu,"id","bar"),ht(cu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ht(cu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Zd extends di{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const o=super.parsePrimitiveData(t,e,i,s);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,s){const o=super.parseArrayData(t,e,i,s);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Mt(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,s){const o=super.parseObjectData(t,e,i,s);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Mt(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),u=s.getLabelForValue(l.x),d=o.getLabelForValue(l.y),f=l._custom;return{label:i[t]||"",value:"("+u+", "+d+(f?", "+f:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,s),p=l.axis,_=u.axis;for(let v=e;v<e+i;v++){const E=t[v],S=!o&&this.getParsed(v),R={},A=R[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(S[p]),D=R[_]=o?u.getBasePixel():u.getPixelForValue(S[_]);R.skip=isNaN(A)||isNaN(D),f&&(R.options=d||this.resolveDataElementOptions(v,E.active?"active":s),o&&(R.options.radius=0)),this.updateElement(E,v,R,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return e!=="active"&&(s.radius=0),s.radius+=Mt(i&&i._custom,o),s}}ht(Zd,"id","bubble"),ht(Zd,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ht(Zd,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function c3(n,t,e){let i=1,s=1,o=0,l=0;if(t<ce){const u=n,d=u+t,f=Math.cos(u),p=Math.sin(u),_=Math.cos(d),v=Math.sin(d),E=(z,B,H)=>Su(z,u,d,!0)?1:Math.max(B,B*e,H,H*e),S=(z,B,H)=>Su(z,u,d,!0)?-1:Math.min(B,B*e,H,H*e),R=E(0,f,_),A=E(Ae,p,v),D=S(ue,f,_),L=S(ue+Ae,p,v);i=(R-D)/2,s=(A-L)/2,o=-(R+D)/2,l=-(A+L)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:l}}class Pa extends di{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=d=>+i[d];if(Bt(i[t])){const{key:d="value"}=this._parsing;o=f=>+Or(i[f],d)}let l,u;for(l=t,u=t+e;l<u;++l)s._parsed[l]=o(l)}}_getRotation(){return ui(this.options.rotation-90)}_getCircumference(){return ui(this.options.circumference)}_getRotationExtents(){let t=ce,e=-ce;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),d=Math.min(x4(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:S,offsetY:R}=c3(_,p,d),A=(i.width-l)/v,D=(i.height-l)/E,L=Math.max(Math.min(A,D)/2,0),z=yA(this.options.radius,L),B=Math.max(z*d,0),H=(z-B)/this._getVisibleDatasetWeightTotal();this.offsetX=S*z,this.offsetY=R*z,s.total=this.calculateTotal(),this.outerRadius=z-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*f,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/ce)}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,_=(u.top+u.bottom)/2,v=o&&f.animateScale,E=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:R,includeOptions:A}=this._getSharedOptions(e,s);let D=this._getRotation(),L;for(L=0;L<e;++L)D+=this._circumference(L,o);for(L=e;L<e+i;++L){const z=this._circumference(L,o),B=t[L],H={x:p+this.offsetX,y:_+this.offsetY,startAngle:D,endAngle:D+z,circumference:z,outerRadius:S,innerRadius:E};A&&(H.options=R||this.resolveDataElementOptions(L,B.active?"active":s)),D+=z,this.updateElement(B,L,H,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ce*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=$u(e._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,o,l,u,d;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,u=l.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)d=u.resolveDataElementOptions(s),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ht(Pa,"id","doughnut"),ht(Pa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ht(Pa,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ht(Pa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const d=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:s,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Jd extends di{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:d}=SA(e,s,l);this._drawStart=u,this._drawCount=d,AA(e)&&(u=0,d=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=s;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(s,u,d,t)}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(e,s),v=l.axis,E=u.axis,{spanGaps:S,segment:R}=this.options,A=dl(S)?S:Number.POSITIVE_INFINITY,D=this.chart._animationsDisabled||o||s==="none",L=e+i,z=t.length;let B=e>0&&this.getParsed(e-1);for(let H=0;H<z;++H){const tt=t[H],O=D?tt:{};if(H<e||H>=L){O.skip=!0;continue}const C=this.getParsed(H),k=jt(C[E]),V=O[v]=l.getPixelForValue(C[v],H),U=O[E]=o||k?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,C,d):C[E],H);O.skip=isNaN(V)||isNaN(U)||k,O.stop=H>0&&Math.abs(C[v]-B[v])>A,R&&(O.parsed=C,O.raw=f.data[H]),_&&(O.options=p||this.resolveDataElementOptions(H,tt.active?"active":s)),D||this.updateElement(tt,H,O,s),B=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ht(Jd,"id","line"),ht(Jd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ht(Jd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class uu extends di{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=$u(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,e,i,s){return OA.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(s/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,d=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,_=f.yCenter,v=f.getIndexAngle(0)-.5*ue;let E=v,S;const R=360/this.countVisibleElements();for(S=0;S<e;++S)E+=this._computeAngle(S,s,R);for(S=e;S<e+i;S++){const A=t[S];let D=E,L=E+this._computeAngle(S,s,R),z=l.getDataVisibility(S)?f.getDistanceFromCenterForValue(this.getParsed(S).r):0;E=L,o&&(d.animateScale&&(z=0),d.animateRotate&&(D=L=v));const B={x:p,y:_,innerRadius:0,outerRadius:z,startAngle:D,endAngle:L,options:this.resolveDataElementOptions(S,A.active?"active":s)};this.updateElement(A,S,B,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ui(this.resolveDataElementOptions(t,e).angle||i):0}}ht(uu,"id","polarArea"),ht(uu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ht(uu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const d=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:s,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Of extends Pa{}ht(Of,"id","pie"),ht(Of,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class tf extends di{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return OA.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],o=e.iScale.getLabels();if(i.points=s,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===s.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const o=this._cachedMeta.rScale,l=s==="reset";for(let u=e;u<e+i;u++){const d=t[u],f=this.resolveDataElementOptions(u,d.active?"active":s),p=o.getPointPositionForValue(u,this.getParsed(u).r),_=l?o.xCenter:p.x,v=l?o.yCenter:p.y,E={x:_,y:v,angle:p.angle,skip:isNaN(_)||isNaN(v),options:f};this.updateElement(d,u,E,s)}}}ht(tf,"id","radar"),ht(tf,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ht(tf,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ef extends di{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:o}=e,l=this.getParsed(t),u=s.getLabelForValue(l.x),d=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+d+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:o,count:l}=SA(e,i,s);if(this._drawStart=o,this._drawCount=l,AA(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:d}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!d._decimated,u.points=i;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!s,options:f},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,s){const o=s==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(e,s),_=this.getSharedOptions(p),v=this.includeOptions(s,_),E=l.axis,S=u.axis,{spanGaps:R,segment:A}=this.options,D=dl(R)?R:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||s==="none";let z=e>0&&this.getParsed(e-1);for(let B=e;B<e+i;++B){const H=t[B],tt=this.getParsed(B),O=L?H:{},C=jt(tt[S]),k=O[E]=l.getPixelForValue(tt[E],B),V=O[S]=o||C?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,tt,d):tt[S],B);O.skip=isNaN(k)||isNaN(V)||C,O.stop=B>0&&Math.abs(tt[E]-z[E])>D,A&&(O.parsed=tt,O.raw=f.data[B]),v&&(O.options=_||this.resolveDataElementOptions(B,H.active?"active":s)),L||this.updateElement(H,B,O,s),z=tt}this.updateSharedOptions(_,s,p)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let d=e.length-1;d>=0;--d)u=Math.max(u,e[d].size(this.resolveDataElementOptions(d))/2);return u>0&&u}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,o,l)/2}}ht(ef,"id","scatter"),ht(ef,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ht(ef,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var u3=Object.freeze({__proto__:null,BarController:cu,BubbleController:Zd,DoughnutController:Pa,LineController:Jd,PieController:Of,PolarAreaController:uu,RadarController:tf,ScatterController:ef});function Ra(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class t_{constructor(t){ht(this,"options");this.options=t||{}}static override(t){Object.assign(t_.prototype,t)}init(){}formats(){return Ra()}parse(){return Ra()}format(){return Ra()}add(){return Ra()}diff(){return Ra()}startOf(){return Ra()}endOf(){return Ra()}}var h3={_date:t_};function d3(n,t,e,i){const{controller:s,data:o,_sorted:l}=n,u=s._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?O4:Ss;if(i){if(s._sharedOptions){const p=o[0],_=typeof p.getRange=="function"&&p.getRange(t);if(_){const v=f(o,t,e-_),E=f(o,t,e+_);return{lo:v.lo,hi:E.hi}}}}else{const p=f(o,t,e);if(d){const{vScale:_}=s._cachedMeta,{_parsed:v}=n,E=v.slice(0,p.lo+1).reverse().findIndex(R=>!jt(R[_.axis]));p.lo-=Math.max(0,E);const S=v.slice(p.hi).findIndex(R=>!jt(R[_.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function dm(n,t,e,i,s){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,d=o.length;u<d;++u){const{index:f,data:p}=o[u],{lo:_,hi:v}=d3(o[u],t,l,s);for(let E=_;E<=v;++E){const S=p[E];S.skip||i(S,f,E)}}}function f3(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Bp(n,t,e,i,s){const o=[];return!s&&!n.isPointInArea(t)||dm(n,e,t,function(u,d,f){!s&&!As(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function m3(n,t,e,i){let s=[];function o(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:_}=bA(l,{x:t.x,y:t.y});Su(_,f,p)&&s.push({element:l,datasetIndex:u,index:d})}return dm(n,e,t,o),s}function g3(n,t,e,i,s,o){let l=[];const u=f3(e);let d=Number.POSITIVE_INFINITY;function f(p,_,v){const E=p.inRange(t.x,t.y,s);if(i&&!E)return;const S=p.getCenterPoint(s);if(!(!!o||n.isPointInArea(S))&&!E)return;const A=u(t,S);A<d?(l=[{element:p,datasetIndex:_,index:v}],d=A):A===d&&l.push({element:p,datasetIndex:_,index:v})}return dm(n,e,t,f),l}function Fp(n,t,e,i,s,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?m3(n,t,e,s):g3(n,t,e,i,s,o)}function Vw(n,t,e,i,s){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return dm(n,e,t,(d,f,p)=>{d[l]&&d[l](t[e],s)&&(o.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(t.x,t.y,s))}),i&&!u?[]:o}var p3={modes:{index(n,t,e,i){const s=Ma(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Bp(n,s,o,i,l):Fp(n,s,o,!1,i,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,_=f.data[p];_&&!_.skip&&d.push({element:_,datasetIndex:f.index,index:p})}),d):[]},dataset(n,t,e,i){const s=Ma(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Bp(n,s,o,i,l):Fp(n,s,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,t,e,i){const s=Ma(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Bp(n,s,o,i,l)},nearest(n,t,e,i){const s=Ma(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Fp(n,s,o,e.intersect,i,l)},x(n,t,e,i){const s=Ma(t,n);return Vw(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=Ma(t,n);return Vw(n,s,"y",e.intersect,i)}}};const GA=["left","top","right","bottom"];function Vc(n,t){return n.filter(e=>e.pos===t)}function jw(n,t){return n.filter(e=>GA.indexOf(e.pos)===-1&&e.box.axis===t)}function jc(n,t){return n.sort((e,i)=>{const s=t?i:e,o=t?e:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function y3(n){const t=[];let e,i,s,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return t}function _3(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:o}=e;if(!i||!GA.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function v3(n,t){const e=_3(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:d&&t.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:d&&t.availableHeight)}return e}function b3(n){const t=y3(n),e=jc(t.filter(f=>f.box.fullSize),!0),i=jc(Vc(t,"left"),!0),s=jc(Vc(t,"right")),o=jc(Vc(t,"top"),!0),l=jc(Vc(t,"bottom")),u=jw(t,"x"),d=jw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:s.concat(d).concat(l).concat(u),chartArea:Vc(t,"chartArea"),vertical:i.concat(s).concat(d),horizontal:o.concat(l).concat(u)}}function Uw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function YA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function x3(n,t,e,i){const{pos:s,box:o}=e,l=n.maxPadding;if(!Bt(s)){e.size&&(n[s]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[s]+=e.size}o.getPadding&&YA(l,o.getPadding());const u=Math.max(0,t.outerWidth-Uw(l,n,"left","right")),d=Math.max(0,t.outerHeight-Uw(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,e.horizontal?{same:f,other:p}:{same:p,other:f}}function E3(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function w3(n,t){const e=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function Wc(n,t,e,i){const s=[];let o,l,u,d,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||t.w,u.height||t.h,w3(u.horizontal,t));const{same:_,other:v}=x3(t,e,u,i);f|=_&&s.length,p=p||v,d.fullSize||s.push(u)}return f&&Wc(s,t,e,i)||p}function kd(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function zw(n,t,e,i){const s=e.padding;let{x:o,y:l}=t;for(const u of n){const d=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const _=t.w*p,v=f.size||d.height;Tu(f.start)&&(l=f.start),d.fullSize?kd(d,s.left,l,e.outerWidth-s.right-s.left,v):kd(d,t.left+f.placed,l,_,v),f.start=l,f.placed+=_,l=d.bottom}else{const _=t.h*p,v=f.size||d.width;Tu(f.start)&&(o=f.start),d.fullSize?kd(d,o,s.top,v,e.outerHeight-s.bottom-s.top):kd(d,o,t.top+f.placed,v,_),f.start=o,f.placed+=_,o=d.right}}t.x=o,t.y=l}var fn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=gn(n.options.layout.padding),o=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=b3(n.boxes),d=u.vertical,f=u.horizontal;Jt(n.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const p=d.reduce((R,A)=>A.box.options&&A.box.options.display===!1?R:R+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},s);YA(v,gn(i));const E=Object.assign({maxPadding:v,w:o,h:l,x:s.left,y:s.top},s),S=v3(d.concat(f),_);Wc(u.fullSize,E,_,S),Wc(d,E,_,S),Wc(f,E,_,S)&&Wc(d,E,_,S),E3(E),zw(u.leftAndTop,E,_,S),E.x+=E.w,E.y+=E.h,zw(u.rightAndBottom,E,_,S),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Jt(u.chartArea,R=>{const A=R.box;Object.assign(A,n.chartArea),A.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class $A{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class T3 extends $A{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nf="$chartjs",S3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bw=n=>n===null||n==="";function A3(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[nf]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Bw(s)){const o=Tw(n,"width");o!==void 0&&(n.width=o)}if(Bw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Tw(n,"height");o!==void 0&&(n.height=o)}return n}const WA=RV?{passive:!0}:!1;function R3(n,t,e){n&&n.addEventListener(t,e,WA)}function C3(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,WA)}function I3(n,t){const e=S3[n.type]||n.type,{x:i,y:s}=Ma(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Pf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function D3(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Pf(u.addedNodes,i),l=l&&!Pf(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function M3(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Pf(u.removedNodes,i),l=l&&!Pf(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ru=new Map;let Fw=0;function KA(){const n=window.devicePixelRatio;n!==Fw&&(Fw=n,Ru.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function N3(n,t){Ru.size||window.addEventListener("resize",KA),Ru.set(n,t)}function k3(n){Ru.delete(n),Ru.size||window.removeEventListener("resize",KA)}function O3(n,t,e){const i=n.canvas,s=i&&J0(i);if(!s)return;const o=TA((u,d)=>{const f=s.clientWidth;e(u,d),f<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(s),N3(n,o),l}function Hp(n,t,e){e&&e.disconnect(),t==="resize"&&k3(n)}function P3(n,t,e){const i=n.canvas,s=TA(o=>{n.ctx!==null&&e(I3(o,n))},n);return R3(i,t,s),s}class L3 extends $A{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(A3(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[nf])return!1;const i=e[nf].initial;["height","width"].forEach(o=>{const l=i[o];jt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[nf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:D3,detach:M3,resize:O3}[e]||P3;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Hp,detach:Hp,resize:Hp}[e]||C3)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return AV(t,e,i,s)}isAttached(t){const e=t&&J0(t);return!!(e&&e.isConnected)}}function V3(n){return!Z0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?T3:L3}class pi{constructor(){ht(this,"x");ht(this,"y");ht(this,"active",!1);ht(this,"options");ht(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return dl(this.x)&&dl(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}}ht(pi,"defaults",{}),ht(pi,"defaultRoutes");function j3(n,t){const e=n.options.ticks,i=U3(n),s=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?B3(t):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>s)return F3(t,f,o,l/s),f;const p=z3(o,t,s);if(l>0){let _,v;const E=l>1?Math.round((d-u)/(l-1)):null;for(Od(t,f,p,jt(E)?0:u-E,u),_=0,v=l-1;_<v;_++)Od(t,f,p,o[_],o[_+1]);return Od(t,f,p,d,jt(E)?t.length:d+E),f}return Od(t,f,p),f}function U3(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function z3(n,t,e){const i=H3(n),s=t.length/e;if(!i)return Math.max(s,1);const o=I4(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>s)return d}return Math.max(s,1)}function B3(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function F3(n,t,e,i){let s=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),s++,o=e[s*i])}function Od(n,t,e,i,s){const o=Mt(i,0),l=Math.min(Mt(s,n.length),n.length);let u=0,d,f,p;for(e=Math.ceil(e),s&&(d=s-i,e=d/Math.floor(d/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(o+u*e))}function H3(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const q3=n=>n==="left"?"right":n==="right"?"left":n,Hw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,qw=(n,t)=>Math.min(t||n,n);function Gw(n,t){const e=[],i=n.length/t,s=n.length;let o=0;for(;o<s;o+=i)e.push(n[Math.floor(o)]);return e}function G3(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(s),f;if(!(e&&(i===1?f=Math.max(d-o,l-d):t===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(s-1))/2,d+=s<t?f:-f,d<o-u||d>l+u)))return d}function Y3(n,t){Jt(n,e=>{const i=e.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[i[o]];i.splice(0,s)}})}function Uc(n){return n.drawTicks?n.tickLength:0}function Yw(n,t){if(!n.display)return 0;const e=ze(n.font,t),i=gn(n.padding);return(fe(n.text)?n.text.length:1)*e.lineHeight+i.height}function $3(n,t){return Br(n,{scale:t,type:"scale"})}function W3(n,t,e){return Br(n,{tick:e,index:t,type:"tick"})}function K3(n,t,e){let i=Y0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=q3(i)),i}function Q3(n,t,e,i){const{top:s,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let _=0,v,E,S;const R=l-s,A=u-o;if(n.isHorizontal()){if(E=un(i,o,u),Bt(e)){const D=Object.keys(e)[0],L=e[D];S=p[D].getPixelForValue(L)+R-t}else e==="center"?S=(f.bottom+f.top)/2+R-t:S=Hw(n,e,t);v=u-o}else{if(Bt(e)){const D=Object.keys(e)[0],L=e[D];E=p[D].getPixelForValue(L)-A+t}else e==="center"?E=(f.left+f.right)/2-A+t:E=Hw(n,e,t);S=un(i,l,s),_=e==="left"?-Ae:Ae}return{titleX:E,titleY:S,maxWidth:v,rotation:_}}class Za extends pi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=Ln(t,Number.POSITIVE_INFINITY),e=Ln(e,Number.NEGATIVE_INFINITY),i=Ln(i,Number.POSITIVE_INFINITY),s=Ln(s,Number.NEGATIVE_INFINITY),{min:Ln(t,i),max:Ln(e,s),minDefined:xe(t),maxDefined:xe(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=s&&e>i?e:i,{min:Ln(e,Ln(i,e)),max:Ln(i,Ln(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sV(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?Gw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=j3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=oe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=qw(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let l=s,u,d,f;if(!this._isVisible()||!e.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),_=p.widest.width,v=p.highest.height,E=Qe(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),_+6>u&&(u=E/(i-(t.offset?.5:1)),d=this.maxHeight-Uc(t.grid)-e.padding-Yw(t.title,this.chart.options.font),f=Math.sqrt(_*_+v*v),l=q0(Math.min(Math.asin(Qe((p.highest.height+6)/u,-1,1)),Math.asin(Qe(d/f,-1,1))-Math.asin(Qe(v/f,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Yw(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=Uc(o)+d):(t.height=this.maxHeight,t.width=Uc(o)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:_,highest:v}=this._getLabelSizes(),E=i.padding*2,S=ui(this.labelRotation),R=Math.cos(S),A=Math.sin(S);if(u){const D=i.mirror?0:A*_.width+R*v.height;t.height=Math.min(this.maxHeight,t.height+D+E)}else{const D=i.mirror?0:R*_.width+A*v.height;t.width=Math.min(this.maxWidth,t.width+D+E)}this._calculatePadding(f,p,A,R)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;d?f?(v=s*t.width,E=i*e.height):(v=i*t.height,E=s*e.width):o==="start"?E=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,E=e.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((E-_+l)*this.width/(this.width-_),0)}else{let p=e.height/2,_=t.height/2;o==="start"?(p=0,_=t.height):o==="end"&&(p=e.height,_=0),this.paddingTop=p+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)jt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Gw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(e/qw(e,i));let f=0,p=0,_,v,E,S,R,A,D,L,z,B,H;for(_=0;_<e;_+=d){if(S=t[_].label,R=this._resolveTickFontOptions(_),s.font=A=R.string,D=o[A]=o[A]||{data:{},gc:[]},L=R.lineHeight,z=B=0,!jt(S)&&!fe(S))z=Nf(s,D.data,D.gc,z,S),B=L;else if(fe(S))for(v=0,E=S.length;v<E;++v)H=S[v],!jt(H)&&!fe(H)&&(z=Nf(s,D.data,D.gc,z,H),B+=L);l.push(z),u.push(B),f=Math.max(z,f),p=Math.max(B,p)}Y3(o,e);const tt=l.indexOf(f),O=u.indexOf(p),C=k=>({width:l[k]||0,height:u[k]||0});return{first:C(0),last:C(e-1),widest:C(tt),highest:C(O),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return k4(this._alignToPixels?Aa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=W3(this.getContext(),t,i))}return this.$context||(this.$context=$3(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ui(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*s?u/i:d/s:d*s<u*i?d/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,d=o.offset,f=this.isHorizontal(),_=this.ticks.length+(d?1:0),v=Uc(o),E=[],S=u.setContext(this.getContext()),R=S.display?S.width:0,A=R/2,D=function(X){return Aa(i,X,R)};let L,z,B,H,tt,O,C,k,V,U,N,P;if(l==="top")L=D(this.bottom),O=this.bottom-v,k=L-A,U=D(t.top)+A,P=t.bottom;else if(l==="bottom")L=D(this.top),U=t.top,P=D(t.bottom)-A,O=L+A,k=this.top+v;else if(l==="left")L=D(this.right),tt=this.right-v,C=L-A,V=D(t.left)+A,N=t.right;else if(l==="right")L=D(this.left),V=t.left,N=D(t.right)-A,tt=L+A,C=this.left+v;else if(e==="x"){if(l==="center")L=D((t.top+t.bottom)/2+.5);else if(Bt(l)){const X=Object.keys(l)[0],ot=l[X];L=D(this.chart.scales[X].getPixelForValue(ot))}U=t.top,P=t.bottom,O=L+A,k=O+v}else if(e==="y"){if(l==="center")L=D((t.left+t.right)/2);else if(Bt(l)){const X=Object.keys(l)[0],ot=l[X];L=D(this.chart.scales[X].getPixelForValue(ot))}tt=L-A,C=tt-v,V=t.left,N=t.right}const bt=Mt(s.ticks.maxTicksLimit,_),yt=Math.max(1,Math.ceil(_/bt));for(z=0;z<_;z+=yt){const X=this.getContext(z),ot=o.setContext(X),dt=u.setContext(X),_t=ot.lineWidth,F=ot.color,rt=dt.dash||[],ut=dt.dashOffset,lt=ot.tickWidth,pt=ot.tickColor,It=ot.tickBorderDash||[],xt=ot.tickBorderDashOffset;B=G3(this,z,d),B!==void 0&&(H=Aa(i,B,_t),f?tt=C=V=N=H:O=k=U=P=H,E.push({tx1:tt,ty1:O,tx2:C,ty2:k,x1:V,y1:U,x2:N,y2:P,width:_t,color:F,borderDash:rt,borderDashOffset:ut,tickWidth:lt,tickColor:pt,tickBorderDash:It,tickBorderDashOffset:xt}))}return this._ticksLength=_,this._borderValue=L,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:_}=o,v=Uc(i.grid),E=v+p,S=_?-p:E,R=-ui(this.labelRotation),A=[];let D,L,z,B,H,tt,O,C,k,V,U,N,P="middle";if(s==="top")tt=this.bottom-S,O=this._getXAxisLabelAlignment();else if(s==="bottom")tt=this.top+S,O=this._getXAxisLabelAlignment();else if(s==="left"){const yt=this._getYAxisLabelAlignment(v);O=yt.textAlign,H=yt.x}else if(s==="right"){const yt=this._getYAxisLabelAlignment(v);O=yt.textAlign,H=yt.x}else if(e==="x"){if(s==="center")tt=(t.top+t.bottom)/2+E;else if(Bt(s)){const yt=Object.keys(s)[0],X=s[yt];tt=this.chart.scales[yt].getPixelForValue(X)+E}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")H=(t.left+t.right)/2-E;else if(Bt(s)){const yt=Object.keys(s)[0],X=s[yt];H=this.chart.scales[yt].getPixelForValue(X)}O=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(d==="start"?P="top":d==="end"&&(P="bottom"));const bt=this._getLabelSizes();for(D=0,L=u.length;D<L;++D){z=u[D],B=z.label;const yt=o.setContext(this.getContext(D));C=this.getPixelForTick(D)+o.labelOffset,k=this._resolveTickFontOptions(D),V=k.lineHeight,U=fe(B)?B.length:1;const X=U/2,ot=yt.color,dt=yt.textStrokeColor,_t=yt.textStrokeWidth;let F=O;l?(H=C,O==="inner"&&(D===L-1?F=this.options.reverse?"left":"right":D===0?F=this.options.reverse?"right":"left":F="center"),s==="top"?f==="near"||R!==0?N=-U*V+V/2:f==="center"?N=-bt.highest.height/2-X*V+V:N=-bt.highest.height+V/2:f==="near"||R!==0?N=V/2:f==="center"?N=bt.highest.height/2-X*V:N=bt.highest.height-U*V,_&&(N*=-1),R!==0&&!yt.showLabelBackdrop&&(H+=V/2*Math.sin(R))):(tt=C,N=(1-U)*V/2);let rt;if(yt.showLabelBackdrop){const ut=gn(yt.backdropPadding),lt=bt.heights[D],pt=bt.widths[D];let It=N-ut.top,xt=0-ut.left;switch(P){case"middle":It-=lt/2;break;case"bottom":It-=lt;break}switch(O){case"center":xt-=pt/2;break;case"right":xt-=pt;break;case"inner":D===L-1?xt-=pt:D>0&&(xt-=pt/2);break}rt={left:xt,top:It,width:pt+ut.width,height:lt+ut.height,color:yt.backdropColor}}A.push({label:B,font:k,textOffset:N,options:{rotation:R,color:ot,strokeColor:dt,strokeWidth:_t,textAlign:F,textBaseline:P,translation:[H,tt],backdrop:rt}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ui(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,d=l.widest.width;let f,p;return e==="left"?s?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p=this.left)):e==="right"?s?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=s.length;o<l;++o){const d=s[o];e.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,_,v;this.isHorizontal()?(f=Aa(t,this.left,l)-l/2,p=Aa(t,this.right,u)+u/2,_=v=d):(_=Aa(t,this.top,l)-l/2,v=Aa(t,this.bottom,u)+u/2,f=p=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,_),e.lineTo(p,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&cm(i,s);const o=this.getLabelItems(t);for(const l of o){const u=l.options,d=l.font,f=l.label,p=l.textOffset;$a(i,f,0,p,d,u)}s&&um(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=ze(i.font),l=gn(i.padding),u=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(d+=l.bottom,fe(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:_,rotation:v}=Q3(this,d,e,u);$a(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:K3(u,e,s),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Mt(t.grid&&t.grid.z,-1),s=Mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Za.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ze(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Pd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;J3(e)&&(i=this.register(e));const s=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,X3(t,l,i),this.override&&me.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in me[s]&&(delete me[s][i],this.override&&delete Ya[i])}}function X3(n,t,e){const i=wu(Object.create(null),[e?me.get(e):{},me.get(t),n.defaults]);me.set(t,i),n.defaultRoutes&&Z3(t,n.defaultRoutes),n.descriptors&&me.describe(t,n.descriptors)}function Z3(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),d=l.join(".");me.route(o,s,d,u)})}function J3(n){return"id"in n&&"defaults"in n}class t6{constructor(){this.controllers=new Pd(di,"datasets",!0),this.elements=new Pd(pi,"elements"),this.plugins=new Pd(Object,"plugins"),this.scales=new Pd(Za,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):Jt(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=H0(t);oe(i["before"+s],[],i),e[t](i),oe(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Li=new t6;class e6{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const o of t){const l=o.plugin,u=l[i],d=[e,s,o.options];if(oe(u,d,l)===!1&&s.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=Mt(i.options&&i.options.plugins,{}),o=n6(i);return s===!1&&!e?[]:s6(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function n6(n){const t={},e=[],i=Object.keys(Li.plugins.items);for(let o=0;o<i.length;o++)e.push(Li.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function i6(n,t){return!t&&n===!1?null:n===!0?{}:n}function s6(n,{plugins:t,localIds:e},i,s){const o=[],l=n.getContext();for(const u of t){const d=u.id,f=i6(i[d],s);f!==null&&o.push({plugin:u,options:r6(n.config,{plugin:u,local:e[d]},f,l)})}return o}function r6(n,{plugin:t,local:e},i,s){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ry(n,t){const e=me.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function a6(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function o6(n,t){return n===t?"_index_":"_value_"}function $w(n){if(n==="x"||n==="y"||n==="r")return n}function l6(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Cy(n,...t){if($w(n))return n;for(const e of t){const i=e.axis||l6(e.position)||n.length>1&&$w(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ww(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function c6(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Ww(n,"x",e[0])||Ww(n,"y",e[0])}return{}}function u6(n,t){const e=Ya[n.type]||{scales:{}},i=t.scales||{},s=Ry(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Bt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Cy(l,u,c6(l,n),me.scales[u.type]),f=o6(d,s),p=e.scales||{};o[l]=ru(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||Ry(u,t),p=(Ya[u]||{}).scales||{};Object.keys(p).forEach(_=>{const v=a6(_,d),E=l[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),ru(o[E],[{axis:v},i[E],p[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];ru(u,[me.scales[u.type],me.scale])}),o}function QA(n){const t=n.options||(n.options={});t.plugins=Mt(t.plugins,{}),t.scales=u6(n,t)}function XA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function h6(n){return n=n||{},n.data=XA(n.data),QA(n),n}const Kw=new Map,ZA=new Set;function Ld(n,t){let e=Kw.get(n);return e||(e=t(),Kw.set(n,e),ZA.add(e)),e}const zc=(n,t,e)=>{const i=Or(t,e);i!==void 0&&n.add(i)};class d6{constructor(t){this._config=h6(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=XA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),QA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ld(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ld(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ld(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Ld(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(_=>zc(d,t,_))),p.forEach(_=>zc(d,s,_)),p.forEach(_=>zc(d,Ya[o]||{},_)),p.forEach(_=>zc(d,me,_)),p.forEach(_=>zc(d,Sy,_))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),ZA.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ya[e]||{},me.datasets[e]||{},{type:e},me,Sy]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=Qw(this._resolverCache,t,s);let d=l;if(m6(l,e)){o.$shared=!1,i=Pr(i)?i():i;const f=this.createResolver(t,i,u);d=fl(l,i,f)}for(const f of e)o[f]=d[f];return o}createResolver(t,e,i=[""],s){const{resolver:o}=Qw(this._resolverCache,t,i);return Bt(e)?fl(o,e,void 0,s):o}}function Qw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let o=i.get(s);return o||(o={resolver:K0(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const f6=n=>Bt(n)&&Object.getOwnPropertyNames(n).some(t=>Pr(n[t]));function m6(n,t){const{isScriptable:e,isIndexable:i}=DA(n);for(const s of t){const o=e(s),l=i(s),u=(l||o)&&n[s];if(o&&(Pr(u)||f6(u))||l&&fe(u))return!0}return!1}var g6="4.4.9";const p6=["top","bottom","left","right","chartArea"];function Xw(n,t){return n==="top"||n==="bottom"||p6.indexOf(n)===-1&&t==="x"}function Zw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Jw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function y6(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function JA(n){return Z0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const sf={},tT=n=>{const t=JA(n);return Object.values(sf).filter(e=>e.canvas===t).pop()};function _6(n,t,e){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=t){const l=n[s];delete n[s],(e>0||o>t)&&(n[o+e]=l)}}}function v6(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var hr;let fm=(hr=class{static register(...t){Li.add(...t),eT()}static unregister(...t){Li.remove(...t),eT()}constructor(t,e){const i=this.config=new d6(e),s=JA(t),o=tT(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||V3(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=b4(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new e6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=V4(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],sf[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}vs.listen(this,"complete",Jw),vs.listen(this,"progress",y6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:o}=this;return jt(t)?e&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ww(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bw(this.canvas,this.ctx),this}stop(){return vs.stop(this),this}resize(t,e){vs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ww(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),oe(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Jt(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],d=Cy(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Jt(o,l=>{const u=l.options,d=u.id,f=Cy(d,u),p=Mt(u.type,l.dtype);(u.position===void 0||Xw(u.position,f)!==Xw(l.dposition))&&(u.position=l.dposition),s[d]=!0;let _=null;if(d in i&&i[d].type===p)_=i[d];else{const v=Li.getScale(p);_=new v({id:d,type:p,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),Jt(s,(l,u)=>{l||delete i[u]}),Jt(i,l=>{fn.configure(this,l,l.options),fn.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Zw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Ry(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=Li.getController(u),{datasetElementType:f,dataElementType:p}=me.datasets[u];Object.assign(d,{dataElementType:Li.getElement(p),datasetElementType:f&&Li.getElement(f)}),l.controller=new d(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:_}=this.getDatasetMeta(f),v=!s&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||Jt(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Zw("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Jt(this.scales,t=>{fn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!hw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of e){const l=i==="_removeElements"?-o:o;_6(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<e;o++)if(!hw(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Jt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Pr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vs.has(this)?this.attached&&!vs.running(this)&&vs.start(this):(this.draw(),Jw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,o;for(s=0,o=e.length;s<o;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},s=BA(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&cm(e,s),t.controller.draw(),s&&um(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return As(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const o=p3.modes[e];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Br(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);Tu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),vs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete sf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};Jt(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},s=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){Jt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Jt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let o,l,u,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,d=t.length;u<d;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!If(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(_=>p.datasetIndex===_.datasetIndex&&p.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:o}=this,l=e,u=this._getActiveElements(t,s,i,l),d=A4(t),f=v6(t,this._lastEvent,i,d);i&&(this._lastEvent=null,oe(o.onHover,[t,u,this],this),d&&oe(o.onClick,[t,u,this],this));const p=!If(u,s);return(p||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}},ht(hr,"defaults",me),ht(hr,"instances",sf),ht(hr,"overrides",Ya),ht(hr,"registry",Li),ht(hr,"version",g6),ht(hr,"getChart",tT),hr);function eT(){return Jt(fm.instances,n=>n._plugins.invalidate())}function b6(n,t,e){const{startAngle:i,pixelMargin:s,x:o,y:l,outerRadius:u,innerRadius:d}=t;let f=s/u;n.beginPath(),n.arc(o,l,u,i-f,e+f),d>s?(f=s/d,n.arc(o,l,d,e+f,i-f,!0)):n.arc(o,l,s,e+Ae,i-Ae),n.closePath(),n.clip()}function x6(n){return W0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function E6(n,t,e,i){const s=x6(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=d=>{const f=(e-Math.min(o,d))*i/2;return Qe(d,0,Math.min(o,f))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:Qe(s.innerStart,0,l),innerEnd:Qe(s.innerEnd,0,l)}}function $o(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Lf(n,t,e,i,s,o){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:p}=t,_=Math.max(t.outerRadius+i+e-f,0),v=p>0?p+i+e+f:0;let E=0;const S=s-d;if(i){const yt=p>0?p-i:0,X=_>0?_-i:0,ot=(yt+X)/2,dt=ot!==0?S*ot/(ot+i):S;E=(S-dt)/2}const R=Math.max(.001,S*_-e/ue)/_,A=(S-R)/2,D=d+A+E,L=s-A-E,{outerStart:z,outerEnd:B,innerStart:H,innerEnd:tt}=E6(t,v,_,L-D),O=_-z,C=_-B,k=D+z/O,V=L-B/C,U=v+H,N=v+tt,P=D+H/U,bt=L-tt/N;if(n.beginPath(),o){const yt=(k+V)/2;if(n.arc(l,u,_,k,yt),n.arc(l,u,_,yt,V),B>0){const _t=$o(C,V,l,u);n.arc(_t.x,_t.y,B,V,L+Ae)}const X=$o(N,L,l,u);if(n.lineTo(X.x,X.y),tt>0){const _t=$o(N,bt,l,u);n.arc(_t.x,_t.y,tt,L+Ae,bt+Math.PI)}const ot=(L-tt/v+(D+H/v))/2;if(n.arc(l,u,v,L-tt/v,ot,!0),n.arc(l,u,v,ot,D+H/v,!0),H>0){const _t=$o(U,P,l,u);n.arc(_t.x,_t.y,H,P+Math.PI,D-Ae)}const dt=$o(O,D,l,u);if(n.lineTo(dt.x,dt.y),z>0){const _t=$o(O,k,l,u);n.arc(_t.x,_t.y,z,D-Ae,k)}}else{n.moveTo(l,u);const yt=Math.cos(k)*_+l,X=Math.sin(k)*_+u;n.lineTo(yt,X);const ot=Math.cos(V)*_+l,dt=Math.sin(V)*_+u;n.lineTo(ot,dt)}n.closePath()}function w6(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u}=t;let d=t.endAngle;if(o){Lf(n,t,e,i,d,s);for(let f=0;f<o;++f)n.fill();isNaN(u)||(d=l+(u%ce||ce))}return Lf(n,t,e,i,d,s),n.fill(),d}function T6(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u,options:d}=t,{borderWidth:f,borderJoinStyle:p,borderDash:_,borderDashOffset:v}=d,E=d.borderAlign==="inner";if(!f)return;n.setLineDash(_||[]),n.lineDashOffset=v,E?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let S=t.endAngle;if(o){Lf(n,t,e,i,S,s);for(let R=0;R<o;++R)n.stroke();isNaN(u)||(S=l+(u%ce||ce))}E&&b6(n,t,S),o||(Lf(n,t,e,i,S,s),n.stroke())}class Kc extends pi{constructor(e){super();ht(this,"circumference");ht(this,"endAngle");ht(this,"fullCircles");ht(this,"innerRadius");ht(this,"outerRadius");ht(this,"pixelMargin");ht(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const o=this.getProps(["x","y"],s),{angle:l,distance:u}=bA(o,{x:e,y:i}),{startAngle:d,endAngle:f,innerRadius:p,outerRadius:_,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),E=(this.options.spacing+this.options.borderWidth)/2,S=Mt(v,f-d),R=Su(l,d,f)&&d!==f,A=S>=ce||R,D=Ts(u,p+E,_+E);return A&&D}getCenterPoint(e){const{x:i,y:s,startAngle:o,endAngle:l,innerRadius:u,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:f,spacing:p}=this.options,_=(o+l)/2,v=(u+d+p+f)/2;return{x:i+Math.cos(_)*v,y:s+Math.sin(_)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,o=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>ce?Math.floor(s/ce):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*o,Math.sin(d)*o);const f=1-Math.sin(Math.min(ue,s||0)),p=o*f;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,w6(e,this,p,l,u),T6(e,this,p,l,u),e.restore()}}ht(Kc,"id","arc"),ht(Kc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ht(Kc,"defaultRoutes",{backgroundColor:"backgroundColor"}),ht(Kc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function tR(n,t,e=t){n.lineCap=Mt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Mt(e.borderDash,t.borderDash)),n.lineDashOffset=Mt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Mt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Mt(e.borderWidth,t.borderWidth),n.strokeStyle=Mt(e.borderColor,t.borderColor)}function S6(n,t,e){n.lineTo(e.x,e.y)}function A6(n){return n.stepped?K4:n.tension||n.cubicInterpolationMode==="monotone"?Q4:S6}function eR(n,t,e={}){const i=n.length,{start:s=0,end:o=i-1}=e,{start:l,end:u}=t,d=Math.max(s,l),f=Math.min(o,u),p=s<l&&o<l||s>u&&o>u;return{count:i,start:d,loop:t.loop,ilen:f<d&&!p?i+f-d:f-d}}function R6(n,t,e,i){const{points:s,options:o}=t,{count:l,start:u,loop:d,ilen:f}=eR(s,e,i),p=A6(o);let{move:_=!0,reverse:v}=i||{},E,S,R;for(E=0;E<=f;++E)S=s[(u+(v?f-E:E))%l],!S.skip&&(_?(n.moveTo(S.x,S.y),_=!1):p(n,R,S,v,o.stepped),R=S);return d&&(S=s[(u+(v?f:0))%l],p(n,R,S,v,o.stepped)),!!d}function C6(n,t,e,i){const s=t.points,{count:o,start:l,ilen:u}=eR(s,e,i),{move:d=!0,reverse:f}=i||{};let p=0,_=0,v,E,S,R,A,D;const L=B=>(l+(f?u-B:B))%o,z=()=>{R!==A&&(n.lineTo(p,A),n.lineTo(p,R),n.lineTo(p,D))};for(d&&(E=s[L(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=s[L(v)],E.skip)continue;const B=E.x,H=E.y,tt=B|0;tt===S?(H<R?R=H:H>A&&(A=H),p=(_*p+B)/++_):(z(),n.lineTo(B,H),S=tt,_=0,R=A=H),D=H}z()}function Iy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?C6:R6}function I6(n){return n.stepped?CV:n.tension||n.cubicInterpolationMode==="monotone"?IV:Na}function D6(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),tR(n,t.options),n.stroke(s)}function M6(n,t,e,i){const{segments:s,options:o}=t,l=Iy(t);for(const u of s)tR(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const N6=typeof Path2D=="function";function k6(n,t,e,i){N6&&!t.options.segment?D6(n,t,e,i):M6(n,t,e,i)}class vr extends pi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;bV(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PV(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],o=this.points,l=zA(this,{property:e,start:s,end:s});if(!l.length)return;const u=[],d=I6(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:_,end:v}=l[f],E=o[_],S=o[v];if(E===S){u.push(E);continue}const R=Math.abs((s-E[e])/(S[e]-E[e])),A=d(E,S,R,i.stepped);A[e]=t[e],u.push(A)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Iy(this)(t,this,e,i)}path(t,e,i){const s=this.segments,o=Iy(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of s)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),k6(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ht(vr,"id","line"),ht(vr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ht(vr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ht(vr,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function nT(n,t,e,i){const s=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<s.radius+s.hitRadius}class rf extends pi{constructor(e){super();ht(this,"parsed");ht(this,"skip");ht(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],s);return Math.pow(e-l,2)+Math.pow(i-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return nT(this,e,"x",i)}inYRange(e,i){return nT(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const s=i&&e.borderWidth||0;return(i+s)*2}draw(e,i){const s=this.options;this.skip||s.radius<.1||!As(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Ay(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ht(rf,"id","point"),ht(rf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ht(rf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nR(n,t){const{x:e,y:i,base:s,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,d,f,p,_;return n.horizontal?(_=l/2,u=Math.min(e,s),d=Math.max(e,s),f=i-_,p=i+_):(_=o/2,u=e-_,d=e+_,f=Math.min(i,s),p=Math.max(i,s)),{left:u,top:f,right:d,bottom:p}}function br(n,t,e,i){return n?0:Qe(t,e,i)}function O6(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,o=IA(i);return{t:br(s.top,o.top,0,e),r:br(s.right,o.right,0,t),b:br(s.bottom,o.bottom,0,e),l:br(s.left,o.left,0,t)}}function P6(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=Va(s),l=Math.min(t,e),u=n.borderSkipped,d=i||Bt(s);return{topLeft:br(!d||u.top||u.left,o.topLeft,0,l),topRight:br(!d||u.top||u.right,o.topRight,0,l),bottomLeft:br(!d||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:br(!d||u.bottom||u.right,o.bottomRight,0,l)}}function L6(n){const t=nR(n),e=t.right-t.left,i=t.bottom-t.top,s=O6(n,e/2,i/2),o=P6(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function qp(n,t,e,i){const s=t===null,o=e===null,u=n&&!(s&&o)&&nR(n,i);return u&&(s||Ts(t,u.left,u.right))&&(o||Ts(e,u.top,u.bottom))}function V6(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function j6(n,t){n.rect(t.x,t.y,t.w,t.h)}function Gp(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+l,radius:n.radius}}class af extends pi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=L6(this),u=V6(l.radius)?Au:j6;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Gp(l,e,o)),t.clip(),u(t,Gp(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Gp(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return qp(this,t,e,i)}inXRange(t,e){return qp(this,t,null,e)}inYRange(t,e){return qp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ht(af,"id","bar"),ht(af,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ht(af,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var U6=Object.freeze({__proto__:null,ArcElement:Kc,BarElement:af,LineElement:vr,PointElement:rf});const Dy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],iT=Dy.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function iR(n){return Dy[n%Dy.length]}function sR(n){return iT[n%iT.length]}function z6(n,t){return n.borderColor=iR(t),n.backgroundColor=sR(t),++t}function B6(n,t){return n.backgroundColor=n.data.map(()=>iR(t++)),t}function F6(n,t){return n.backgroundColor=n.data.map(()=>sR(t++)),t}function H6(n){let t=0;return(e,i)=>{const s=n.getDatasetMeta(i).controller;s instanceof Pa?t=B6(e,t):s instanceof uu?t=F6(e,t):s&&(t=z6(e,t))}}function sT(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function q6(n){return n&&(n.borderColor||n.backgroundColor)}function G6(){return me.borderColor!=="rgba(0,0,0,0.1)"||me.backgroundColor!=="rgba(0,0,0,0.1)"}var Y6={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:s}=n.config,{elements:o}=s,l=sT(i)||q6(s)||o&&sT(o)||G6();if(!e.forceOverride&&l)return;const u=H6(n);i.forEach(u)}};function $6(n,t,e,i,s){const o=s.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let d=0;const f=t+e-1;let p=t,_,v,E,S,R;for(l[d++]=n[p],_=0;_<o-2;_++){let A=0,D=0,L;const z=Math.floor((_+1)*u)+1+t,B=Math.min(Math.floor((_+2)*u)+1,e)+t,H=B-z;for(L=z;L<B;L++)A+=n[L].x,D+=n[L].y;A/=H,D/=H;const tt=Math.floor(_*u)+1+t,O=Math.min(Math.floor((_+1)*u)+1,e)+t,{x:C,y:k}=n[p];for(E=S=-1,L=tt;L<O;L++)S=.5*Math.abs((C-A)*(n[L].y-k)-(C-n[L].x)*(D-k)),S>E&&(E=S,v=n[L],R=L);l[d++]=v,p=R}return l[d++]=n[f],l}function W6(n,t,e,i){let s=0,o=0,l,u,d,f,p,_,v,E,S,R;const A=[],D=t+e-1,L=n[t].x,B=n[D].x-L;for(l=t;l<t+e;++l){u=n[l],d=(u.x-L)/B*i,f=u.y;const H=d|0;if(H===p)f<S?(S=f,_=l):f>R&&(R=f,v=l),s=(o*s+u.x)/++o;else{const tt=l-1;if(!jt(_)&&!jt(v)){const O=Math.min(_,v),C=Math.max(_,v);O!==E&&O!==tt&&A.push({...n[O],x:s}),C!==E&&C!==tt&&A.push({...n[C],x:s})}l>0&&tt!==E&&A.push(n[tt]),A.push(u),p=H,o=0,S=R=f,_=v=E=l}}return A}function rR(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function rT(n){n.data.datasets.forEach(t=>{rR(t)})}function K6(n,t){const e=t.length;let i=0,s;const{iScale:o}=n,{min:l,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();return d&&(i=Qe(Ss(t,o.axis,l).lo,0,e-1)),f?s=Qe(Ss(t,o.axis,u).hi+1,i,e)-i:s=e-i,{start:i,count:s}}var Q6={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){rT(n);return}const i=n.width;n.data.datasets.forEach((s,o)=>{const{_data:l,indexAxis:u}=s,d=n.getDatasetMeta(o),f=l||s.data;if($c([u,n.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const p=n.scales[d.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:_,count:v}=K6(d,f);const E=e.threshold||4*i;if(v<=E){rR(s);return}jt(l)&&(s._data=f,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(R){this._data=R}}));let S;switch(e.algorithm){case"lttb":S=$6(f,_,v,i,e);break;case"min-max":S=W6(f,_,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}s._decimated=S})},destroy(n){rT(n)}};function X6(n,t,e){const i=n.segments,s=n.points,o=t.points,l=[];for(const u of i){let{start:d,end:f}=u;f=e_(d,f,s);const p=My(e,s[d],s[f],u.loop);if(!t.segments){l.push({source:u,target:p,start:s[d],end:s[f]});continue}const _=zA(t,p);for(const v of _){const E=My(e,o[v.start],o[v.end],v.loop),S=UA(u,s,E);for(const R of S)l.push({source:R,target:v,start:{[e]:aT(p,E,"start",Math.max)},end:{[e]:aT(p,E,"end",Math.min)}})}}return l}function My(n,t,e,i){if(i)return;let s=t[n],o=e[n];return n==="angle"&&(s=Vn(s),o=Vn(o)),{property:n,start:s,end:o}}function Z6(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=e_(l,u,s);const d=s[l],f=s[u];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):e!==null&&(o.push({x:e,y:d.y}),o.push({x:e,y:f.y}))}),o}function e_(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function aT(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function aR(n,t){let e=[],i=!1;return fe(n)?(i=!0,e=n):e=Z6(n,t),e.length?new vr({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function oT(n){return n&&n.fill!==!1}function J6(n,t,e){let s=n[t].fill;const o=[t];let l;if(!e)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!xe(s))return s;if(l=n[s],!l)return!1;if(l.visible)return s;o.push(s),s=l.fill}return!1}function t5(n,t,e){const i=s5(n);if(Bt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return xe(s)&&Math.floor(s)===s?e5(i[0],t,s,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function e5(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function n5(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Bt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function i5(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Bt(n)?i=n.value:i=t.getBaseValue(),i}function s5(n){const t=n.options,e=t.fill;let i=Mt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function r5(n){const{scale:t,index:e,line:i}=n,s=[],o=i.segments,l=i.points,u=a5(t,e);u.push(aR({x:null,y:t.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)o5(s,l[p],u)}return new vr({points:s,options:{}})}function a5(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const o=i[s];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function o5(n,t,e){const i=[];for(let s=0;s<e.length;s++){const o=e[s],{first:l,last:u,point:d}=l5(o,t,"x");if(!(!d||l&&u)){if(l)i.unshift(d);else if(n.push(d),!u)break}}n.push(...i)}function l5(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],_=l[p.start][e],v=l[p.end][e];if(Ts(s,_,v)){u=s===_,d=s===v;break}}return{first:u,last:d,point:i}}class oR{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:o,radius:l}=this;return e=e||{start:0,end:ce},t.arc(s,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,o=t.angle;return{x:e+Math.cos(o)*s,y:i+Math.sin(o)*s,angle:o}}}function c5(n){const{chart:t,fill:e,line:i}=n;if(xe(e))return u5(t,e);if(e==="stack")return r5(n);if(e==="shape")return!0;const s=h5(n);return s instanceof oR?s:aR(s,i)}function u5(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function h5(n){return(n.scale||{}).getPointPositionForValue?f5(n):d5(n)}function d5(n){const{scale:t={},fill:e}=n,i=n5(e,t);if(xe(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function f5(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,o=i.reverse?t.max:t.min,l=i5(e,t,o),u=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,o);return new oR({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(l)})}for(let d=0;d<s;++d)u.push(t.getPointPositionForValue(d,l));return u}function Yp(n,t,e){const i=c5(t),{chart:s,index:o,line:l,scale:u,axis:d}=t,f=l.options,p=f.fill,_=f.backgroundColor,{above:v=_,below:E=_}=p||{},S=s.getDatasetMeta(o),R=BA(s,S);i&&l.points.length&&(cm(n,e),m5(n,{line:l,target:i,above:v,below:E,area:e,scale:u,axis:d,clip:R}),um(n))}function m5(n,t){const{line:e,target:i,above:s,below:o,area:l,scale:u,clip:d}=t,f=e._loop?"angle":t.axis;n.save(),f==="x"&&o!==s&&(lT(n,i,l.top),cT(n,{line:e,target:i,color:s,scale:u,property:f,clip:d}),n.restore(),n.save(),lT(n,i,l.bottom)),cT(n,{line:e,target:i,color:o,scale:u,property:f,clip:d}),n.restore()}function lT(n,t,e){const{segments:i,points:s}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=s[d],_=s[e_(d,f,s)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function cT(n,t){const{line:e,target:i,property:s,color:o,scale:l,clip:u}=t,d=X6(e,i,s);for(const{source:f,target:p,start:_,end:v}of d){const{style:{backgroundColor:E=o}={}}=f,S=i!==!0;n.save(),n.fillStyle=E,g5(n,l,u,S&&My(s,_,v)),n.beginPath();const R=!!e.pathSegment(n,f);let A;if(S){R?n.closePath():uT(n,i,v,s);const D=!!i.pathSegment(n,p,{move:R,reverse:!0});A=R&&D,A||uT(n,i,_,s)}n.closePath(),n.fill(A?"evenodd":"nonzero"),n.restore()}}function g5(n,t,e,i){const s=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let d,f,p,_;o==="x"?(d=l,f=s.top,p=u,_=s.bottom):(d=s.left,f=l,p=s.right,_=u),n.beginPath(),e&&(d=Math.max(d,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),_=Math.min(_,e.bottom)),n.rect(d,f,p-d,_-f),n.clip()}}function uT(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}var p5={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let o,l,u,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof vr&&(d={visible:n.isDatasetVisible(l),index:l,fill:t5(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,s.push(d);for(l=0;l<i;++l)d=s[l],!(!d||d.fill===!1)&&(d.fill=J6(s,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",s=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=s.length-1;l>=0;--l){const u=s[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Yp(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const o=i[s].$filler;oT(o)&&Yp(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!oT(i)||e.drawTime!=="beforeDatasetDraw"||Yp(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const hT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},y5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class dT extends pi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=ze(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=hT(i,o);let f,p;e.font=s.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,s,u,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=s+u;let _=t;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-p;return this.legendItems.forEach((S,R)=>{const A=i+e/2+o.measureText(S.text).width;(R===0||f[f.length-1]+A+2*u>l)&&(_+=p,f[f.length-(R>0?0:1)]=0,E+=p,v++),d[R]={left:0,top:E,row:v,width:A,height:s},f[f.length-1]+=A+u}),_}_fitCols(t,e,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let _=u,v=0,E=0,S=0,R=0;return this.legendItems.forEach((A,D)=>{const{itemWidth:L,itemHeight:z}=_5(i,e,o,A,s);D>0&&E+z+2*u>p&&(_+=v+u,f.push({width:v,height:E}),S+=v+u,R++,v=E=0),d[D]={left:S,top:E,col:R,width:L,height:z},v=Math.max(v,L),E+=z+u}),_+=v,f.push({width:v,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,l=il(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=un(i,this.left+s,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,d=un(i,this.left+s,this.right-this.lineWidths[u])),f.top+=this.top+t+s,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+s}else{let u=0,d=un(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,d=un(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+s,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;cm(t,this),this._draw(),um(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:o,labels:l}=t,u=me.color,d=il(t.rtl,this.left,this.width),f=ze(l.font),{padding:p}=l,_=f.size,v=_/2;let E;this.drawTitle(),s.textAlign=d.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=f.string;const{boxWidth:S,boxHeight:R,itemHeight:A}=hT(l,_),D=function(tt,O,C){if(isNaN(S)||S<=0||isNaN(R)||R<0)return;s.save();const k=Mt(C.lineWidth,1);if(s.fillStyle=Mt(C.fillStyle,u),s.lineCap=Mt(C.lineCap,"butt"),s.lineDashOffset=Mt(C.lineDashOffset,0),s.lineJoin=Mt(C.lineJoin,"miter"),s.lineWidth=k,s.strokeStyle=Mt(C.strokeStyle,u),s.setLineDash(Mt(C.lineDash,[])),l.usePointStyle){const V={radius:R*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:k},U=d.xPlus(tt,S/2),N=O+v;CA(s,V,U,N,l.pointStyleWidth&&S)}else{const V=O+Math.max((_-R)/2,0),U=d.leftForLtr(tt,S),N=Va(C.borderRadius);s.beginPath(),Object.values(N).some(P=>P!==0)?Au(s,{x:U,y:V,w:S,h:R,radius:N}):s.rect(U,V,S,R),s.fill(),k!==0&&s.stroke()}s.restore()},L=function(tt,O,C){$a(s,C.text,tt,O+A/2,f,{strikethrough:C.hidden,textAlign:d.textAlign(C.textAlign)})},z=this.isHorizontal(),B=this._computeTitleHeight();z?E={x:un(o,this.left+p,this.right-i[0]),y:this.top+p+B,line:0}:E={x:this.left+p,y:un(o,this.top+B+p,this.bottom-e[0].height),line:0},LA(this.ctx,t.textDirection);const H=A+p;this.legendItems.forEach((tt,O)=>{s.strokeStyle=tt.fontColor,s.fillStyle=tt.fontColor;const C=s.measureText(tt.text).width,k=d.textAlign(tt.textAlign||(tt.textAlign=l.textAlign)),V=S+v+C;let U=E.x,N=E.y;d.setWidth(this.width),z?O>0&&U+V+p>this.right&&(N=E.y+=H,E.line++,U=E.x=un(o,this.left+p,this.right-i[E.line])):O>0&&N+H>this.bottom&&(U=E.x=U+e[E.line].width+p,E.line++,N=E.y=un(o,this.top+B+p,this.bottom-e[E.line].height));const P=d.x(U);if(D(P,N,tt),U=j4(k,U+S+v,z?U+V:this.right,t.rtl),L(d.x(U),N,tt),z)E.x+=V+p;else if(typeof tt.text!="string"){const bt=f.lineHeight;E.y+=lR(tt,bt)+p}else E.y+=H}),VA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ze(e.font),s=gn(e.padding);if(!e.display)return;const o=il(t.rtl,this.left,this.width),l=this.ctx,u=e.position,d=i.size/2,f=s.top+d;let p,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,_=un(t.align,_,this.right-v);else{const S=this.columnSizes.reduce((R,A)=>Math.max(R,A.height),0);p=f+un(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const E=un(u,_,_+v);l.textAlign=o.textAlign(Y0(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,$a(l,e.text,E,p,i)}_computeTitleHeight(){const t=this.options.title,e=ze(t.font),i=gn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,o;if(Ts(t,this.left,this.right)&&Ts(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],Ts(t,s.left,s.left+s.width)&&Ts(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!x5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=y5(s,i);s&&!o&&oe(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function _5(n,t,e,i,s){const o=v5(i,n,t,e),l=b5(s,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function v5(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(s).width}function b5(n,t,e){let i=n;return typeof t.text!="string"&&(i=lR(t,e)),i}function lR(n,t){const e=n.text?n.text.length:0;return t*e}function x5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var E5={id:"legend",_element:dT,start(n,t,e){const i=n.legend=new dT({ctx:n.ctx,options:e,chart:n});fn.configure(n,i,e),fn.addBox(n,i)},stop(n){fn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;fn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(e?0:void 0),p=gn(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class n_ extends pi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=fe(i.text)?i.text.length:1;this._padding=gn(i.padding);const o=s*ze(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:o,options:l}=this,u=l.align;let d=0,f,p,_;return this.isHorizontal()?(p=un(u,i,o),_=e+t,f=o-i):(l.position==="left"?(p=i+t,_=un(u,s,e),d=ue*-.5):(p=o-t,_=un(u,e,s),d=ue*.5),f=s-e),{titleX:p,titleY:_,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ze(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);$a(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:Y0(e.align),textBaseline:"middle",translation:[l,u]})}}function w5(n,t){const e=new n_({ctx:n.ctx,options:t,chart:n});fn.configure(n,e,t),fn.addBox(n,e),n.titleBlock=e}var T5={id:"title",_element:n_,start(n,t,e){w5(n,e)},stop(n){const t=n.titleBlock;fn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;fn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vd=new WeakMap;var S5={id:"subtitle",start(n,t,e){const i=new n_({ctx:n.ctx,options:e,chart:n});fn.configure(n,i,e),fn.addBox(n,i),Vd.set(n,i)},stop(n){fn.removeBox(n,Vd.get(n)),Vd.delete(n)},beforeUpdate(n,t,e){const i=Vd.get(n);fn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qc={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),s+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:s/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=Ty(t,f);p<s&&(s=p,u=d)}}if(u){const d=u.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function Pi(n,t){return t&&(fe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function bs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function A5(n,t){const{element:e,datasetIndex:i,index:s}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:n,label:l,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function fT(n,t){const e=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:l,boxHeight:u}=t,d=ze(t.bodyFont),f=ze(t.titleFont),p=ze(t.footerFont),_=o.length,v=s.length,E=i.length,S=gn(t.padding);let R=S.height,A=0,D=i.reduce((B,H)=>B+H.before.length+H.lines.length+H.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,_&&(R+=_*f.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),D){const B=t.displayColors?Math.max(u,d.lineHeight):d.lineHeight;R+=E*B+(D-E)*d.lineHeight+(D-1)*t.bodySpacing}v&&(R+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let L=0;const z=function(B){A=Math.max(A,e.measureText(B).width+L)};return e.save(),e.font=f.string,Jt(n.title,z),e.font=d.string,Jt(n.beforeBody.concat(n.afterBody),z),L=t.displayColors?l+2+t.boxPadding:0,Jt(i,B=>{Jt(B.before,z),Jt(B.lines,z),Jt(B.after,z)}),L=0,e.font=p.string,Jt(n.footer,z),e.restore(),A+=S.width,{width:A,height:R}}function R5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function C5(n,t,e,i){const{x:s,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+o+l>t.width||n==="right"&&s-o-l<0)return!0}function I5(n,t,e,i){const{x:s,width:o}=e,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return i==="center"?f=s<=(u+d)/2?"left":"right":s<=o/2?f="left":s>=l-o/2&&(f="right"),C5(f,n,t,e)&&(f="center"),f}function mT(n,t,e){const i=e.yAlign||t.yAlign||R5(n,e);return{xAlign:e.xAlign||t.xAlign||I5(n,t,e,i),yAlign:i}}function D5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function M5(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function gT(n,t,e,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=e,f=s+o,{topLeft:p,topRight:_,bottomLeft:v,bottomRight:E}=Va(l);let S=D5(t,u);const R=M5(t,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,v)+s:u==="right"&&(S+=Math.max(_,E)+s),{x:Qe(S,0,i.width-t.width),y:Qe(R,0,i.height-t.height)}}function jd(n,t,e){const i=gn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function pT(n){return Pi([],bs(n))}function N5(n,t,e){return Br(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function yT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const cR={beforeTitle:_s,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:_s,beforeBody:_s,beforeLabel:_s,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return jt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:_s,afterBody:_s,beforeFooter:_s,footer:_s,afterFooter:_s};function wn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?cR[t].call(e,i):s}class Ny extends pi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,o=new FA(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=N5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),l=wn(i,"afterTitle",this,t);let u=[];return u=Pi(u,bs(s)),u=Pi(u,bs(o)),u=Pi(u,bs(l)),u}getBeforeBody(t,e){return pT(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return Jt(t,o=>{const l={before:[],lines:[],after:[]},u=yT(i,o);Pi(l.before,bs(wn(u,"beforeLabel",this,o))),Pi(l.lines,wn(u,"label",this,o)),Pi(l.after,bs(wn(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,e){return pT(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),l=wn(i,"afterFooter",this,t);let u=[];return u=Pi(u,bs(s)),u=Pi(u,bs(o)),u=Pi(u,bs(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],d,f;for(d=0,f=e.length;d<f;++d)u.push(A5(this.chart,e[d]));return t.filter&&(u=u.filter((p,_,v)=>t.filter(p,_,v,i))),t.itemSort&&(u=u.sort((p,_)=>t.itemSort(p,_,i))),Jt(u,p=>{const _=yT(t.callbacks,p);s.push(wn(_,"labelColor",this,p)),o.push(wn(_,"labelPointStyle",this,p)),l.push(wn(_,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=Qc[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=fT(this,i),f=Object.assign({},u,d),p=mT(this.chart,i,f),_=gT(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const o=this.getCaretPosition(t,i,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:_}=Va(u),{x:v,y:E}=t,{width:S,height:R}=e;let A,D,L,z,B,H;return o==="center"?(B=E+R/2,s==="left"?(A=v,D=A-l,z=B+l,H=B-l):(A=v+S,D=A+l,z=B-l,H=B+l),L=A):(s==="left"?D=v+Math.max(d,p)+l:s==="right"?D=v+S-Math.max(f,_)-l:D=this.caretX,o==="top"?(z=E,B=z-l,A=D-l,L=D+l):(z=E+R,B=z+l,A=D+l,L=D-l),H=z),{x1:A,x2:D,x3:L,y1:z,y2:B,y3:H}}drawTitle(t,e,i){const s=this.title,o=s.length;let l,u,d;if(o){const f=il(i.rtl,this.x,this.width);for(t.x=jd(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=ze(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,d=0;d<o;++d)e.fillText(s[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,d+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,p=ze(o.bodyFont),_=jd(this,"left",o),v=s.x(_),E=d<p.lineHeight?(p.lineHeight-d)/2:0,S=e.y+E;if(o.usePointStyle){const R={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=s.leftForLtr(v,f)+f/2,D=S+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ay(t,R,A,D),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Ay(t,R,A,D)}else{t.lineWidth=Bt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const R=s.leftForLtr(v,f),A=s.leftForLtr(s.xPlus(v,1),f-2),D=Va(l.borderRadius);Object.values(D).some(L=>L!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Au(t,{x:R,y:S,w:f,h:d,radius:D}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Au(t,{x:A,y:S+1,w:f-2,h:d-2,radius:D}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(R,S,f,d),t.strokeRect(R,S,f,d),t.fillStyle=l.backgroundColor,t.fillRect(A,S+1,f-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=i,_=ze(i.bodyFont);let v=_.lineHeight,E=0;const S=il(i.rtl,this.x,this.width),R=function(C){e.fillText(C,S.x(t.x+E),t.y+v/2),t.y+=v+o},A=S.textAlign(l);let D,L,z,B,H,tt,O;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=jd(this,A,i),e.fillStyle=i.bodyColor,Jt(this.beforeBody,R),E=u&&A!=="right"?l==="center"?f/2+p:f+2+p:0,B=0,tt=s.length;B<tt;++B){for(D=s[B],L=this.labelTextColors[B],e.fillStyle=L,Jt(D.before,R),z=D.lines,u&&z.length&&(this._drawColorBox(e,t,B,S,i),v=Math.max(_.lineHeight,d)),H=0,O=z.length;H<O;++H)R(z[H]),v=_.lineHeight;Jt(D.after,R)}E=0,v=_.lineHeight,Jt(this.afterBody,R),t.y-=o}drawFooter(t,e,i){const s=this.footer,o=s.length;let l,u;if(o){const d=il(i.rtl,this.x,this.width);for(t.x=jd(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",l=ze(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(s[u],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=t,{width:f,height:p}=i,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:S}=Va(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+_,d),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+f-v,d),e.quadraticCurveTo(u+f,d,u+f,d+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+f,d+p-S),e.quadraticCurveTo(u+f,d+p,u+f-S,d+p),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+E,d+p),e.quadraticCurveTo(u,d+p,u,d+p-E),l==="center"&&o==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,d+_),e.quadraticCurveTo(u,d,u+_,d),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=Qc[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=fT(this,t),d=Object.assign({},l,this._size),f=mT(e,t,d),p=gT(t,d,f,e);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=gn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,e),LA(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),VA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!If(i,s),l=this._positionChanged(s,e);(o||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),d=e||!If(l,o)||u;return d&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:o}=this,l=Qc[o.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}ht(Ny,"positioners",Qc);var k5={id:"tooltip",_element:Ny,positioners:Qc,afterInit(n,t,e){e&&(n.tooltip=new Ny({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:cR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},O5=Object.freeze({__proto__:null,Colors:Y6,Decimation:Q6,Filler:p5,Legend:E5,SubTitle:S5,Title:T5,Tooltip:k5});const P5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function L5(n,t,e,i){const s=n.indexOf(t);if(s===-1)return P5(n,t,e,i);const o=n.lastIndexOf(t);return s!==o?e:s}const V5=(n,t)=>n===null?null:Qe(Math.round(n),0,t);function _T(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class ky extends Za{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:o}of e)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(jt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:L5(i,t,Mt(e,t),this._addedLabels),V5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return _T.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ht(ky,"id","category"),ht(ky,"defaults",{ticks:{callback:_T}});function j5(n,t){const e=[],{bounds:s,step:o,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:_,includeBounds:v}=n,E=o||1,S=p-1,{min:R,max:A}=t,D=!jt(l),L=!jt(u),z=!jt(f),B=(A-R)/(_+1);let H=fw((A-R)/S/E)*E,tt,O,C,k;if(H<1e-14&&!D&&!L)return[{value:R},{value:A}];k=Math.ceil(A/H)-Math.floor(R/H),k>S&&(H=fw(k*H/S/E)*E),jt(d)||(tt=Math.pow(10,d),H=Math.ceil(H*tt)/tt),s==="ticks"?(O=Math.floor(R/H)*H,C=Math.ceil(A/H)*H):(O=R,C=A),D&&L&&o&&M4((u-l)/o,H/1e3)?(k=Math.round(Math.min((u-l)/H,p)),H=(u-l)/k,O=l,C=u):z?(O=D?l:O,C=L?u:C,k=f-1,H=(C-O)/k):(k=(C-O)/H,au(k,Math.round(k),H/1e3)?k=Math.round(k):k=Math.ceil(k));const V=Math.max(mw(H),mw(O));tt=Math.pow(10,jt(d)?V:d),O=Math.round(O*tt)/tt,C=Math.round(C*tt)/tt;let U=0;for(D&&(v&&O!==l?(e.push({value:l}),O<l&&U++,au(Math.round((O+U*H)*tt)/tt,l,vT(l,B,n))&&U++):O<l&&U++);U<k;++U){const N=Math.round((O+U*H)*tt)/tt;if(L&&N>u)break;e.push({value:N})}return L&&v&&C!==u?e.length&&au(e[e.length-1].value,u,vT(u,B,n))?e[e.length-1].value=u:e.push({value:u}):(!L||C===u)&&e.push({value:C}),e}function vT(n,t,{horizontal:e,minRotation:i}){const s=ui(i),o=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Vf extends Za{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=d=>s=e?s:d,u=d=>o=i?o:d;if(t){const d=Hi(s),f=Hi(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(s===o){let d=o===0?1:Math.abs(o*.05);u(o+d),t||l(s-d)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=j5(s,o);return t.bounds==="ticks"&&vA(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return $u(t,this.chart.options.locale,this.options.ticks.format)}}class Oy extends Vf{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=xe(t)?t:0,this.max=xe(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ui(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ht(Oy,"id","linear"),ht(Oy,"defaults",{ticks:{callback:lm.formatters.numeric}});const Cu=n=>Math.floor(_r(n)),Ca=(n,t)=>Math.pow(10,Cu(n)+t);function bT(n){return n/Math.pow(10,Cu(n))===1}function xT(n,t,e){const i=Math.pow(10,e),s=Math.floor(n/i);return Math.ceil(t/i)-s}function U5(n,t){const e=t-n;let i=Cu(e);for(;xT(n,t,i)>10;)i++;for(;xT(n,t,i)<10;)i--;return Math.min(i,Cu(n))}function z5(n,{min:t,max:e}){t=Ln(n.min,t);const i=[],s=Cu(t);let o=U5(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),d=s>o?Math.pow(10,s):0,f=Math.round((t-d)*l)/l,p=Math.floor((t-d)/u/10)*u*10;let _=Math.floor((f-p)/Math.pow(10,o)),v=Ln(n.min,Math.round((d+p+_*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:bT(v),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,l=o>=0?1:l),v=Math.round((d+p+_*Math.pow(10,o))*l)/l;const E=Ln(n.max,v);return i.push({value:E,major:bT(E),significand:_}),i}class Py extends Za{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Vf.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return xe(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=xe(t)?Math.max(0,t):null,this.max=xe(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xe(this._userMin)&&(this.min=t===Ca(this.min,0)?Ca(this.min,-1):Ca(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const o=u=>i=t?i:u,l=u=>s=e?s:u;i===s&&(i<=0?(o(1),l(10)):(o(Ca(i,-1)),l(Ca(s,1)))),i<=0&&o(Ca(s,-1)),s<=0&&l(Ca(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=z5(e,this);return t.bounds==="ticks"&&vA(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":$u(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=_r(t),this._valueRange=_r(this.max)-_r(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(_r(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}ht(Py,"id","logarithmic"),ht(Py,"defaults",{ticks:{callback:lm.formatters.logarithmic,major:{enabled:!0}}});function Ly(n){const t=n.ticks;if(t.display&&n.display){const e=gn(t.backdropPadding);return Mt(t.font&&t.font.size,me.font.size)+e.height}return 0}function B5(n,t,e){return e=fe(e)?e:[e],{w:W4(n,t.string,e),h:e.length*t.lineHeight}}function ET(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function F5(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?ue/o:0;for(let d=0;d<o;d++){const f=l.setContext(n.getPointLabelContext(d));s[d]=f.padding;const p=n.getPointPosition(d,n.drawingArea+s[d],u),_=ze(f.font),v=B5(n.ctx,_,n._pointLabels[d]);i[d]=v;const E=Vn(n.getIndexAngle(d)+u),S=Math.round(q0(E)),R=ET(S,p.x,v.w,0,180),A=ET(S,p.y,v.h,90,270);H5(e,t,E,R,A)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Y5(n,i,s)}function H5(n,t,e,i,s){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,d=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),s.start<t.t?(d=(t.t-s.start)/l,n.t=Math.min(n.t,t.t-d)):s.end>t.b&&(d=(s.end-t.b)/l,n.b=Math.max(n.b,t.b+d))}function q5(n,t,e){const i=n.drawingArea,{extra:s,additionalAngle:o,padding:l,size:u}=e,d=n.getPointPosition(t,i+s+l,o),f=Math.round(q0(Vn(d.angle+Ae))),p=K5(d.y,u.h,f),_=$5(f),v=W5(d.x,u.w,_);return{visible:!0,x:d.x,y:p,textAlign:_,left:v,top:p,right:v+u.w,bottom:p+u.h}}function G5(n,t){if(!t)return!0;const{left:e,top:i,right:s,bottom:o}=n;return!(As({x:e,y:i},t)||As({x:e,y:o},t)||As({x:s,y:i},t)||As({x:s,y:o},t))}function Y5(n,t,e){const i=[],s=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,d={extra:Ly(o)/2,additionalAngle:l?ue/s:0};let f;for(let p=0;p<s;p++){d.padding=e[p],d.size=t[p];const _=q5(n,p,d);i.push(_),u==="auto"&&(_.visible=G5(_,f),_.visible&&(f=_))}return i}function $5(n){return n===0||n===180?"center":n<180?"left":"right"}function W5(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function K5(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function Q5(n,t,e){const{left:i,top:s,right:o,bottom:l}=e,{backdropColor:u}=t;if(!jt(u)){const d=Va(t.borderRadius),f=gn(t.backdropPadding);n.fillStyle=u;const p=i-f.left,_=s-f.top,v=o-i+f.width,E=l-s+f.height;Object.values(d).some(S=>S!==0)?(n.beginPath(),Au(n,{x:p,y:_,w:v,h:E,radius:d}),n.fill()):n.fillRect(p,_,v,E)}}function X5(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const o=n._pointLabelItems[s];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(s));Q5(e,l,o);const u=ze(l.font),{x:d,y:f,textAlign:p}=o;$a(e,n._pointLabels[s],d,f+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function uR(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,ce);else{let o=n.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),s.lineTo(o.x,o.y)}}function Z5(n,t,e,i,s){const o=n.ctx,l=t.circular,{color:u,lineWidth:d}=t;!l&&!i||!u||!d||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=d,o.setLineDash(s.dash||[]),o.lineDashOffset=s.dashOffset,o.beginPath(),uR(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function J5(n,t,e){return Br(n,{label:e,index:t,type:"pointLabel"})}class Xc extends Vf{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=gn(Ly(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=xe(t)&&!isNaN(t)?t:0,this.max=xe(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ly(this.options))}generateTickLabels(t){Vf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=oe(this.options.pointLabels.callback,[e,i],this);return s||s===0?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?F5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){const e=ce/(this._pointLabels.length||1),i=this.options.startAngle||0;return Vn(t*e+ui(i))}getDistanceFromCenterForValue(t){if(jt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(jt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return J5(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Ae+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),uR(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:o}=e,l=this._pointLabels.length;let u,d,f;if(e.pointLabels.display&&X5(this,l),s.display&&this.ticks.forEach((p,_)=>{if(_!==0||_===0&&this.min<0){d=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(_),E=s.setContext(v),S=o.setContext(v);Z5(this,E,d,l,S)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:_,lineWidth:v}=p;!v||!_||(t.lineWidth=v,t.strokeStyle=_,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(u,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;const f=i.setContext(this.getContext(d)),p=ze(f.font);if(o=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){t.font=p.string,l=t.measureText(u.label).width,t.fillStyle=f.backdropColor;const _=gn(f.backdropPadding);t.fillRect(-l/2-_.left,-o-p.size/2-_.top,l+_.width,p.size+_.height)}$a(t,u.label,0,-o,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}ht(Xc,"id","radialLinear"),ht(Xc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ht(Xc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ht(Xc,"descriptors",{angleLines:{_fallback:"grid"}});const mm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(mm);function wT(n,t){return n-t}function TT(n,t){if(jt(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),xe(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(dl(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,s)),+l)}function ST(n,t,e,i){const s=An.length;for(let o=An.indexOf(n);o<s-1;++o){const l=mm[An[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return An[o]}return An[s-1]}function tj(n,t,e,i,s){for(let o=An.length-1;o>=An.indexOf(e);o--){const l=An[o];if(mm[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return An[e?An.indexOf(e):0]}function ej(n){for(let t=An.indexOf(n)+1,e=An.length;t<e;++t)if(mm[An[t]].common)return An[t]}function AT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=G0(e,t),o=e[i]>=t?e[i]:e[s];n[o]=!0}}function nj(n,t,e,i){const s=n._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,d;for(u=o;u<=l;u=+s.add(u,1,i))d=e[u],d>=0&&(t[d].major=!0);return t}function RT(n,t,e){const i=[],s={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return o===0||!e?i:nj(n,i,s,e)}class Iu extends Za{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new h3._date(t.adapters.date);s.init(e),ru(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:TT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),s=xe(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),o=xe(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=P4(s,o,l);return this._unit=e.unit||(i.autoSkip?ST(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):tj(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:ej(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),RT(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Qe(e,0,l),i=Qe(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||ST(o.minUnit,e,i,this._getLabelCapacity(e)),u=Mt(s.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=dl(d)||d===!0,p={};let _=e,v,E;if(f&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(v=_,E=0;v<i;v=+t.add(v,u,l),E++)AT(p,v,S);return(v===i||s.bounds==="ticks"||E===1)&&AT(p,v,S),Object.keys(p).sort(wT).map(R=>+R)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,l=e||s[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const o=this.options,l=o.ticks.callback;if(l)return oe(l,[t,e,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],_=f&&u[f],v=i[e],E=f&&_&&v&&v.major;return this._adapter.format(t,s||(E?_:p))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=ui(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,RT(this,[t],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(TT(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return EA(t.sort(wT))}}ht(Iu,"id","time"),ht(Iu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ud(n,t,e){let i=0,s=n.length-1,o,l,u,d;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=Ss(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:d}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=Ss(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:d}=n[s]);const f=l-o;return f?u+(d-u)*(t-o)/f:u}class Vy extends Iu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ud(e,this.min),this._tableRange=Ud(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],o=[];let l,u,d,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&s.push(f);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],d=s[l-1],f=s[l],Math.round((p+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ud(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ud(this._table,i*this._tableRange+this._minPos,!0)}}ht(Vy,"id","timeseries"),ht(Vy,"defaults",Iu.defaults);var ij=Object.freeze({__proto__:null,CategoryScale:ky,LinearScale:Oy,LogarithmicScale:Py,RadialLinearScale:Xc,TimeScale:Iu,TimeSeriesScale:Vy});const sj=[u3,U6,O5,ij],hR="label";function CT(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function rj(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function dR(n,t){n.labels=t}function fR(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hR;const i=[];n.datasets=t.map(s=>{const o=n.datasets.find(l=>l[e]===s[e]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function aj(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hR;const e={labels:[],datasets:[]};return dR(e,n.labels),fR(e,n.datasets,t),e}function oj(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:_,...v}=n,E=W.useRef(null),S=W.useRef(null),R=()=>{E.current&&(S.current=new fm(E.current,{type:l,data:aj(u,o),options:d&&{...d},plugins:f}),CT(t,S.current))},A=()=>{CT(t,null),S.current&&(S.current.destroy(),S.current=null)};return W.useEffect(()=>{!s&&S.current&&d&&rj(S.current,d)},[s,d]),W.useEffect(()=>{!s&&S.current&&dR(S.current.config.data,u.labels)},[s,u.labels]),W.useEffect(()=>{!s&&S.current&&u.datasets&&fR(S.current.config.data,u.datasets,o)},[s,u.datasets]),W.useEffect(()=>{S.current&&(s?(A(),setTimeout(R)):S.current.update(_))},[s,d,u.labels,u.datasets,_]),W.useEffect(()=>{S.current&&(A(),setTimeout(R))},[l]),W.useEffect(()=>(R(),()=>A()),[]),IT.createElement("canvas",{ref:E,role:"img",height:e,width:i,...v},p)}const lj=W.forwardRef(oj);function mR(n,t){return fm.register(t),W.forwardRef((e,i)=>IT.createElement(lj,{...e,ref:i,type:n}))}const cj=mR("bar",cu),uj=mR("pie",Of);fm.register(...sj);function hj(){const[n,t]=W.useState([]),[e,i]=W.useState([]),[s,o]=W.useState([]),[l,u]=W.useState("dashboard"),[d,f]=W.useState(""),[p,_]=W.useState(null),[v,E]=W.useState({faculty:"",date:"",time:""}),[S,R]=W.useState(!1),[A,D]=W.useState({name:"",email:"",domain:"",slots:0,officeHours:""});W.useEffect(()=>{(async()=>{const bt=(await La(li(Ne,"faculty"))).docs.map(_t=>({id:_t.id,..._t.data()}));t(bt);const X=(await La(li(Ne,"proposals"))).docs.map(_t=>({id:_t.id,..._t.data(),comments:_t.data().comments||[]}));i(X);const dt=(await La(li(Ne,"evaluationSlots"))).docs.map(_t=>({id:_t.id,..._t.data()}));o(dt)})()},[]);const L=async(N,P)=>{try{await xf(ji(Ne,"proposals",N),{status:P}),i(e.map(bt=>bt.id===N?{...bt,status:P}:bt))}catch(bt){console.error("Error updating project status: ",bt)}},z=async N=>{if(!d.trim())return;const P={text:d,author:"Admin",date:new Date().toISOString().split("T")[0]};try{const bt=ji(Ne,"proposals",N);await xf(bt,{comments:[...e.find(yt=>yt.id===N).comments,P]}),i(e.map(yt=>yt.id===N?{...yt,comments:[...yt.comments,P]}:yt)),f(""),_(null)}catch(bt){console.error("Error adding comment: ",bt)}},B=async()=>{try{const N=await Ef(li(Ne,"faculty"),{...A,slots:parseInt(A.slots)});t([...n,{id:N.id,...A}]),D({name:"",email:"",domain:"",slots:0,officeHours:""}),R(!1)}catch(N){console.error("Error adding faculty: ",N)}},H=async N=>{try{await iu(ji(Ne,"faculty",N)),t(n.filter(bt=>bt.id!==N));const P=s.filter(bt=>bt.facultyId===N);for(const bt of P)await iu(ji(Ne,"evaluationSlots",bt.id));o(s.filter(bt=>bt.facultyId!==N))}catch(P){console.error("Error deleting faculty: ",P)}},tt=async()=>{try{const N=n.find(bt=>bt.name===v.faculty);if(!N)return;const P=await Ef(li(Ne,"evaluationSlots"),{faculty:v.faculty,facultyId:N.id,date:v.date,time:v.time,status:"available"});o([...s,{id:P.id,faculty:v.faculty,facultyId:N.id,date:v.date,time:v.time,status:"available"}]),E({faculty:"",date:"",time:""})}catch(N){console.error("Error adding evaluation slot: ",N)}},O=async N=>{try{await iu(ji(Ne,"evaluationSlots",N)),o(s.filter(P=>P.id!==N))}catch(P){console.error("Error deleting evaluation slot: ",P)}},C={labels:["Approved","Pending","Revision","Rejected"],datasets:[{label:"Projects by Status",data:[e.filter(N=>N.status==="approved").length,e.filter(N=>N.status==="pending").length,e.filter(N=>N.status==="revision").length,e.filter(N=>N.status==="rejected").length],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(255, 206, 86, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 99, 132, 0.6)"]}]},k={labels:n.map(N=>N.name),datasets:[{label:"Available Slots",data:n.map(N=>N.slots),backgroundColor:"rgba(153, 102, 255, 0.6)"}]},V=N=>{switch(N){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"revision":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},U=N=>({AI:"bg-purple-100 text-purple-800",Cybersecurity:"bg-green-100 text-green-800","Data Science":"bg-blue-100 text-blue-800",Networks:"bg-orange-100 text-orange-800","Web Development":"bg-red-100 text-red-800","Machine Learning":"bg-indigo-100 text-indigo-800","Cloud Computing":"bg-cyan-100 text-cyan-800","Software Engineering":"bg-amber-100 text-amber-800",IoT:"bg-emerald-100 text-emerald-800"})[N]||"bg-gray-100 text-gray-800";return x.jsxs("div",{className:"min-h-screen bg-gray-100",children:[x.jsx("header",{className:"bg-white shadow",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[x.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"FYP Admin Dashboard"}),x.jsx("div",{className:"flex items-center space-x-4",children:x.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white font-medium",children:"A"})})]})}),x.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8",children:[x.jsx("div",{className:"bg-white shadow rounded-lg mb-6",children:x.jsxs("nav",{className:"flex space-x-4 p-4 overflow-x-auto",children:[x.jsx("button",{onClick:()=>u("dashboard"),className:`px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap ${l==="dashboard"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Dashboard"}),x.jsx("button",{onClick:()=>u("faculty"),className:`px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap ${l==="faculty"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Faculty Management"}),x.jsx("button",{onClick:()=>u("projects"),className:`px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap ${l==="projects"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Project Approvals"}),x.jsx("button",{onClick:()=>u("evaluations"),className:`px-3 py-2 rounded-md text-sm font-medium whitespace-nowrap ${l==="evaluations"?"bg-indigo-100 text-indigo-700":"text-gray-600 hover:bg-gray-100"}`,children:"Evaluation Slots"})]})}),l==="dashboard"&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[x.jsx("h3",{className:"text-lg font-medium mb-4",children:"Projects by Status"}),x.jsx("div",{className:"h-64",children:x.jsx(uj,{data:C,options:{maintainAspectRatio:!1}})})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[x.jsx("h3",{className:"text-lg font-medium mb-4",children:"Faculty Availability"}),x.jsx("div",{className:"h-64",children:x.jsx(cj,{data:k,options:{maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[x.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Activities"}),x.jsx("div",{className:"space-y-4",children:e.slice(0,5).map(N=>x.jsx("div",{className:"border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-medium",children:N.title}),x.jsxs("p",{className:"text-sm text-gray-500",children:[N.studentName," with ",N.supervisor]})]}),x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V(N.status)}`,children:N.status})]})},N.id))})]})]}),l==="faculty"&&x.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Faculty Members"}),x.jsx("button",{onClick:()=>R(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:"Add New Faculty"})]}),S&&x.jsxs("div",{className:"p-6 border-b border-gray-200",children:[x.jsx("h4",{className:"text-md font-medium mb-4",children:"Add New Faculty Member"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),x.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:A.name,onChange:N=>D({...A,name:N.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),x.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:A.email,onChange:N=>D({...A,email:N.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Domain"}),x.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:A.domain,onChange:N=>D({...A,domain:N.target.value}),children:[x.jsx("option",{value:"",children:"Select Domain"}),x.jsx("option",{value:"AI",children:"Artificial Intelligence"}),x.jsx("option",{value:"Cybersecurity",children:"Cybersecurity"}),x.jsx("option",{value:"Data Science",children:"Data Science"}),x.jsx("option",{value:"Networks",children:"Networks"}),x.jsx("option",{value:"Web Development",children:"Web Development"}),x.jsx("option",{value:"Machine Learning",children:"Machine Learning"}),x.jsx("option",{value:"Cloud Computing",children:"Cloud Computing"}),x.jsx("option",{value:"Software Engineering",children:"Software Engineering"}),x.jsx("option",{value:"IoT",children:"Internet of Things"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Slots"}),x.jsx("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:A.slots,onChange:N=>D({...A,slots:N.target.value})})]}),x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Office Hours"}),x.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:A.officeHours,onChange:N=>D({...A,officeHours:N.target.value}),placeholder:"Example: Mon 10-12, Wed 2-4"})]})]}),x.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[x.jsx("button",{onClick:()=>{R(!1),D({name:"",email:"",domain:"",slots:0,officeHours:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{onClick:B,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Add Faculty"})]})]}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slots"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Office Hours"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(N=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-medium",children:N.name.charAt(0)}),x.jsx("div",{className:"ml-4",children:x.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name})})]})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.email}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U(N.domain)}`,children:N.domain})}),x.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[x.jsx("span",{className:"font-medium",children:N.slots})," available"]}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.officeHours}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.jsx("button",{onClick:()=>H(N.id),className:"text-red-600 hover:text-red-800",children:"Delete"})})]},N.id))})]})})]}),l==="projects"&&x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Project Approvals"})}),x.jsx("div",{className:"divide-y divide-gray-200",children:e.map(N=>x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-md font-medium",children:N.title}),x.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Student: ",N.studentName," | Supervisor: ",N.supervisor]}),x.jsx("p",{className:"text-sm text-gray-600 mt-2",children:N.description}),N.comments.length>0&&x.jsxs("div",{className:"mt-3",children:[x.jsx("h5",{className:"text-sm font-medium text-gray-700",children:"Comments:"}),x.jsx("ul",{className:"mt-1 space-y-2",children:N.comments.map((P,bt)=>x.jsxs("li",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[x.jsx("span",{className:"font-medium",children:P.author})," (",P.date,"): ",P.text]},bt))})]})]}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>L(N.id,"approved"),className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Approve"}),x.jsx("button",{onClick:()=>{_(N.id),L(N.id,"revision")},className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Request Revision"}),x.jsx("button",{onClick:()=>L(N.id,"rejected"),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Reject"})]})]}),p===N.id&&x.jsxs("div",{className:"mt-4",children:[x.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:"3",placeholder:"Enter your comments...",value:d,onChange:P=>f(P.target.value)}),x.jsxs("div",{className:"mt-2 flex justify-end space-x-2",children:[x.jsx("button",{onClick:()=>{f(""),_(null)},className:"px-3 py-1 border border-gray-300 text-sm rounded",children:"Cancel"}),x.jsx("button",{onClick:()=>z(N.id),className:"px-3 py-1 bg-indigo-600 text-white text-sm rounded hover:bg-indigo-700",children:"Submit Comment"})]})]})]},N.id))})]})}),l==="evaluations"&&x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[x.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:x.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Evaluation Slots"})}),x.jsx("div",{className:"p-6",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-2",children:[x.jsx("h4",{className:"text-md font-medium mb-4",children:"Available Slots"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[x.jsx("thead",{className:"bg-gray-50",children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Faculty"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),x.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(N=>x.jsxs("tr",{children:[x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.faculty||"Unassigned"}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.date}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.time}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${N.status==="available"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status})}),x.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.jsx("button",{onClick:()=>O(N.id),className:"text-red-600 hover:text-red-800",children:"Delete"})})]},N.id))})]})})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-md font-medium mb-4",children:"Create New Slot"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Faculty"}),x.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:v.faculty,onChange:N=>E({...v,faculty:N.target.value}),children:[x.jsx("option",{value:"",children:"Select Faculty"}),n.map(N=>x.jsx("option",{value:N.name,children:N.name},N.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),x.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:v.date,onChange:N=>E({...v,date:N.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),x.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 rounded-md",value:v.time,onChange:N=>E({...v,time:N.target.value})})]}),x.jsx("button",{onClick:tt,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",disabled:!v.date||!v.time,children:"Create Slot"})]})]})]})})]})})]})]})}function dj(){const[n,t]=W.useState(""),[e,i]=W.useState(""),[s,o]=W.useState(!0),[l,u]=W.useState(""),[d,f]=W.useState(!1),[p,_]=W.useState(null),[v,E]=W.useState(!1),[S,R]=W.useState(""),[A,D]=W.useState(!1),[L,z]=W.useState(!1),B=Fy();if(W.useEffect(()=>{const C=OP(ka,k=>{_(k),z(!0)});return()=>C()},[B]),!L)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:x.jsx("div",{className:"max-w-md w-full p-8 bg-white rounded-3xl shadow-lg",children:x.jsx("div",{className:"text-center",children:"Loading..."})})});const H=async C=>{C.preventDefault(),u(""),f(!0);try{s?await MP(ka,n,e):await DP(ka,n,e)}catch(k){u(k.message),console.error(k)}finally{f(!1)}},tt=async()=>{try{await PP(ka),_(null),E(!1)}catch(C){u(C.message)}},O=async()=>{if(!v){E(!0);return}if(!S){u("Please enter your password to confirm deletion");return}D(!0),u("");try{const C=ka.currentUser,k=Xa.credential(C.email,S);await IP(C,k),await LP(C),_(null),E(!1),R("")}catch(C){u(C.message),console.error(C)}finally{D(!1)}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100",children:x.jsx("div",{className:"max-w-md w-full p-8 bg-white rounded-3xl shadow-lg",children:p?x.jsxs(x.Fragment,{children:[x.jsxs("h2",{className:"text-2xl font-extrabold text-center text-blue-700 mb-4",children:["Welcome, ",p.email]}),v?x.jsxs("div",{className:"mb-6",children:[x.jsx("p",{className:"text-center text-gray-600 mb-4",children:"Are you sure you want to delete your account? This action cannot be undone."}),x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"deletePassword",className:"block text-gray-700 text-sm font-medium mb-1",children:"Enter your password to confirm"}),x.jsx("input",{id:"deletePassword",type:"password",value:S,onChange:C=>R(C.target.value),required:!0,placeholder:"••••••••",className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("button",{onClick:O,disabled:A,className:`flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-semibold transition duration-200 ${A?"opacity-50 cursor-not-allowed":""}`,children:A?"Deleting...":"Confirm Delete"}),x.jsx("button",{onClick:()=>E(!1),className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-semibold transition duration-200",children:"Cancel"})]})]}):x.jsx("p",{className:"text-center text-gray-600 mb-6",children:"You are logged in. Redirecting to your page..."}),x.jsxs("div",{className:"flex flex-col space-y-3",children:[x.jsx("button",{onClick:tt,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold",children:"Sign Out"}),x.jsx("button",{onClick:O,className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-semibold",children:"Delete Account"})]})]}):x.jsxs(x.Fragment,{children:[x.jsx("h2",{className:"text-3xl font-bold text-center text-blue-600 mb-6",children:s?"Login":"Create Account"}),x.jsx("div",{className:"mb-4 p-3 bg-yellow-100 text-yellow-800 rounded text-center",children:"Please log in or sign up to access Admin, Faculty, or Student pages."}),l&&x.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded text-center",children:l}),x.jsxs("form",{onSubmit:H,children:[x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{htmlFor:"email",className:"block text-gray-700 text-sm font-medium mb-1",children:"Email"}),x.jsx("input",{id:"email",type:"email",value:n,onChange:C=>t(C.target.value),required:!0,placeholder:"your@email.com",className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("label",{htmlFor:"password",className:"block text-gray-700 text-sm font-medium mb-1",children:"Password"}),x.jsx("input",{id:"password",type:"password",value:e,onChange:C=>i(C.target.value),required:!0,minLength:"6",placeholder:"••••••••",className:"w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),x.jsx("button",{type:"submit",disabled:d,className:`w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold transition duration-200 ${d?"opacity-50 cursor-not-allowed":""}`,children:d?x.jsxs("span",{className:"flex items-center justify-center",children:[x.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s?"Login":"Sign Up"})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-gray-600 text-sm",children:[s?"Don't have an account? ":"Already have an account? ",x.jsx("button",{onClick:()=>o(!s),className:"text-blue-600 font-semibold hover:underline focus:outline-none",children:s?"Sign up here":"Login here"})]})})]})})})}const $p=({children:n})=>{const[t,e]=W.useState(null),[i,s]=W.useState(!0);return W.useEffect(()=>ka.onAuthStateChanged(l=>{e(l),s(!1)}),[]),i?x.jsx("div",{children:"Loading..."}):t?n:x.jsx(UT,{to:"/Login",replace:!0})};function fj(){return x.jsxs(BC,{children:[x.jsx(Ia,{path:"/",element:x.jsx(AI,{})}),x.jsx(Ia,{path:"/login",element:x.jsx(dj,{})}),x.jsx(Ia,{path:"/faculty",element:x.jsx($p,{children:x.jsx(QL,{})})}),x.jsx(Ia,{path:"/student",element:x.jsx($p,{children:x.jsx(XL,{})})}),x.jsx(Ia,{path:"/admin",element:x.jsx($p,{children:x.jsx(hj,{})})}),x.jsx(Ia,{path:"*",element:x.jsx(UT,{to:"/",replace:!0})})]})}const mj=()=>{const[n,t]=W.useState(!1),e=()=>{t(!n)};return x.jsxs("nav",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg sticky top-0 z-50 w-full",children:[x.jsx("div",{className:"w-full bg-indigo-800 h-1"}),x.jsx("div",{className:"w-full mx-auto",children:x.jsxs("div",{className:"flex justify-between items-center h-16 px-6 max-w-7xl mx-auto",children:[x.jsxs(ti,{to:"/",className:"flex items-center space-x-2 group",children:[x.jsx("div",{className:"p-1 rounded-full group-hover:bg-white/20 transition-all duration-300",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 group-hover:rotate-12 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),x.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-yellow-300 to-yellow-100 group-hover:scale-105 transition-transform",children:"FYP SUPERVISOR"})]}),x.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[x.jsxs(ti,{to:"/",className:"nav-link relative group px-3 py-1",children:["Dashboard",x.jsx("span",{className:"nav-underline"})]}),x.jsxs(ti,{to:"/Admin",className:"nav-link relative group px-3 py-1",children:["Admin",x.jsx("span",{className:"nav-underline"})]}),x.jsxs(ti,{to:"/Faculty",className:"nav-link relative group px-3 py-1",children:["Faculty",x.jsx("span",{className:"nav-underline"})]}),x.jsxs(ti,{to:"/Student",className:"nav-link relative group px-3 py-1",children:["Student",x.jsx("span",{className:"nav-underline"})]}),x.jsxs(ti,{to:"/Login",className:"bg-white text-indigo-600 px-5 py-2 rounded-full font-medium hover:bg-yellow-100 hover:shadow-lg transition-all duration-300 transform hover:-translate-y-0.5 flex items-center",children:[x.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Login"]})]}),x.jsx("div",{className:"md:hidden",children:x.jsxs("button",{className:"text-white focus:outline-none p-2 rounded-full hover:bg-white/20 transition-colors relative",onClick:e,"aria-label":"Toggle menu",children:[x.jsx("div",{className:`w-6 h-0.5 bg-white mb-1.5 transition-all ${n?"rotate-45 translate-y-2":""}`}),x.jsx("div",{className:`w-6 h-0.5 bg-white mb-1.5 transition-all ${n?"opacity-0":""}`}),x.jsx("div",{className:`w-6 h-0.5 bg-white transition-all ${n?"-rotate-45":""}`})]})})]})}),x.jsx("div",{className:`md:hidden transition-all duration-300 ease-in-out ${n?"max-h-96 opacity-100":"max-h-0 opacity-0 overflow-hidden"} bg-gradient-to-b from-indigo-700 to-purple-700 shadow-xl w-full`,children:x.jsxs("div",{className:"px-6 pt-2 pb-6 space-y-3",children:[[{to:"/",text:"Home",icon:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},{to:"/Admin",text:"Admin",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},{to:"/Faculty",text:"Faculty",icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},{to:"/student",text:"Student",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"}].map((i,s)=>x.jsxs(ti,{to:i.to,className:"block px-4 py-3 rounded-lg text-lg font-medium hover:bg-white/10 transition-colors flex items-center",children:[x.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:i.icon})}),i.text]},s)),x.jsxs(ti,{to:"/Login",className:"block px-4 py-3 rounded-lg text-lg font-medium bg-white text-indigo-600 hover:bg-yellow-100 transition-colors flex items-center justify-center mt-4",children:[x.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Login"]})]})}),x.jsx("style",{jsx:!0,children:`
        .nav-link {
          position: relative;
          transition: color 0.3s ease;
        }
        .nav-link:hover {
          color: #fef08a;
        }
        .nav-underline {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 0;
          height: 2px;
          background-color: #fef08a;
          transition: width 0.3s ease;
        }
        .nav-link:hover .nav-underline {
          width: 100%;
        }
      `})]})};function gj(){return x.jsxs("footer",{className:"bg-gradient-to-r from-teal-600 to-blue-800 text-white py-8 mt-16 relative overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 to-blue-900 opacity-50"})," ",x.jsxs("div",{className:"container mx-auto text-center relative z-10",children:[x.jsxs("p",{className:"text-lg sm:text-xl font-medium mb-4 opacity-80",children:["© 2025 ",x.jsx("span",{className:"font-semibold",children:"FYP Supervisor Finder"}),". All rights reserved."]}),x.jsx("p",{className:"text-base sm:text-lg mb-6 opacity-80",children:"Follow us on:"}),x.jsxs("div",{className:"space-x-6",children:[x.jsx("a",{href:"https://facebook.com",className:"text-white hover:text-blue-200 transition-all duration-300 ease-in-out hover:scale-105 font-semibold tracking-wide",children:"Facebook"}),x.jsx("a",{href:"https://twitter.com",className:"text-white hover:text-blue-200 transition-all duration-300 ease-in-out hover:scale-105 font-semibold tracking-wide",children:"Twitter"}),x.jsx("a",{href:"https://linkedin.com",className:"text-white hover:text-blue-200 transition-all duration-300 ease-in-out hover:scale-105 font-semibold tracking-wide",children:"LinkedIn"})]})]})]})}X2.createRoot(document.getElementById("root")).render(x.jsx(x.Fragment,{children:x.jsxs(hI,{children:[x.jsx(mj,{}),x.jsx(fj,{}),x.jsx(gj,{})]})}));
